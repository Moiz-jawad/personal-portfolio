const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TechStack-hQh1OJk4.js","assets/r3f-D_tu2l4m.js","assets/three-DWpvEC_A.js","assets/animations-DDlvirwQ.js","assets/TitleHeader-mu5kHdmq.js","assets/ShowcaseSection-C7Wjp7IU.js","assets/LogoSection-DEb6Qmjc.js","assets/FeatureCards-DJkC3n3H.js","assets/ExperienceSection-QP_P5T-u.js","assets/Contact-DTjt7SiR.js"])))=>i.map(i=>d[i]);
import{r as _,j as h,g as fn,u as dn,a as pn,b as gn,c as ua,S as ha,C as fa,O as da,R as pa,_ as Dr,d as ga}from"./r3f-D_tu2l4m.js";import{h as Me,U as Kt,c as Pe,aT as ma,aU as va,aV as xa,aK as _a,aE as dt,a1 as Ri,aW as ya,e as Ui,a2 as Pr,aA as ba,aX as kt,aY as hs,L as mn,aZ as vn,a_ as xn,a$ as Qi,b0 as _n,S as ws,O as Sa,M as Ta,b1 as ni,D as ai,n as Nt,au as Ea,aN as Qt,b2 as L,a7 as yn,aq as bn,j as Sn,P as Tn,b3 as wa,b4 as Ms,b5 as En,ac as Ma,X as Ps,b6 as Pa,b7 as Ra,b8 as Da,b9 as Ca,ba as Rs,az as Ba,N as Aa,bb as xr,a9 as Ua,bc as Ia}from"./three-DWpvEC_A.js";import{g as Jr}from"./animations-DDlvirwQ.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=r(s);fetch(s.href,n)}})();const ka=[{name:"Work",link:"#work"},{name:"Experience",link:"#experience"},{name:"Skills",link:"#skills"}],Na=[{text:"Ideas",imgPath:"/images/ideas.svg"},{text:"Concepts",imgPath:"/images/concepts.svg"},{text:"Designs",imgPath:"/images/designs.svg"},{text:"Code",imgPath:"/images/code.svg"},{text:"Ideas",imgPath:"/images/ideas.svg"},{text:"Concepts",imgPath:"/images/concepts.svg"},{text:"Designs",imgPath:"/images/designs.svg"},{text:"Code",imgPath:"/images/code.svg"}],Ds=[{value:1,suffix:"+",label:"Years of Experience"},{value:"N/A",suffix:"",label:"Satisfied Clients"},{value:18,suffix:"+",label:"Completed Projects"},{value:"N/A",suffix:"",label:"Client Retention Rate"}],bc=[{imgPath:"https://img.icons8.com/color/80/flutter.png"},{imgPath:"https://img.icons8.com/color/80/nodejs.png"},{imgPath:"https://img.icons8.com/officel/80/react.png"},{imgPath:"https://img.icons8.com/color/96/google-firebase-console.png"},{imgPath:"https://img.icons8.com/fluency/96/visual-studio-code-2019.png"},{imgPath:"https://img.icons8.com/3d-fluency/94/github-logo.png"},{imgPath:"https://img.icons8.com/external-tal-revivo-color-tal-revivo/48/external-mongodb-a-cross-platform-document-oriented-database-program-logo-color-tal-revivo.png"},{imgPath:"https://img.icons8.com/color/96/html-5--v1.png"},{imgPath:"https://img.icons8.com/color/96/tailwindcss.png"},{imgPath:"https://img.icons8.com/color/96/javascript--v1.png"}],Sc=[{imgPath:"https://img.icons8.com/nolan/64/design.png",title:"Robust Architecture",desc:"Designing scalable backend systems and clean frontend components with modern frameworks."},{imgPath:"https://img.icons8.com/color/48/api.png",title:"Secure APIs",desc:"Implementing JWT authentication, validation, and error handling for reliable communication between client and server."},{imgPath:"https://img.icons8.com/pulsar-gradient/48/spaceship-launch-documentation.png",title:"Efficient Deployment",desc:"Delivering production-ready apps with optimized performance, CI/CD pipelines, and on-time releases."},{imgPath:"https://img.icons8.com/color/48/web-design.png",title:"User-Centric Design",desc:"Crafting responsive, accessible, and polished interfaces with React and modern UI libraries."},{imgPath:"https://img.icons8.com/nolan/64/database.png",title:"Database Mastery",desc:"Building reliable schemas, optimizing queries, and integrating SQL/NoSQL solutions for performance and scalability."},{imgPath:"https://img.icons8.com/fluency/48/security-configuration.png",title:"Best-Practice Security",desc:"Applying password hashing, rate limiting, and secure coding standards to protect applications end-to-end."}],Tc=[{name:"React Developer",modelPath:"/models/react_logo_circle.glb",scale:1,rotation:[0,0,0]},{name:"Flutter Developer",modelPath:"/models/Flutter.glb",scale:30,rotation:[0,0,0]},{name:"Backend Developer",modelPath:"/models/node-transformed.glb",scale:5,rotation:[0,-Math.PI/2,0]},{name:"Interactive Developer",modelPath:"/models/three.js-transformed.glb",scale:.05,rotation:[0,0,0]},{name:"Project Manager",modelPath:"/models/git-svg-transformed.glb",scale:.05,rotation:[0,-Math.PI/4,0]}],Ec=[{review:"Moiz’s contributions to web applications have been outstanding. He approaches challenges with a problem-solving mindset.",imgPath:"https://img.icons8.com/officel/80/react.png",logoPath:"https://img.icons8.com/officel/80/react.png",title:"Full Stack Developer",date:"Oct 2025 - Present",responsibilities:["Led the development of Docker's web applications, focusing on scalability.","Worked with backend engineers to integrate APIs seamlessly with the frontend.","Contributed to open-source projects that were used with the Docker ecosystem."]},{review:"Moiz’s work on Appwrite’s mobile app brought a high level of quality and efficiency. He delivered solutions that enhanced our mobile experience & meet our product goals.",imgPath:"https://img.icons8.com/color/80/nodejs.png",logoPath:"https://img.icons8.com/color/80/nodejs.png",title:"Backend Developer",date:"Oct 2025 - Nov 2025",responsibilities:["Built cross-platform mobile apps using React Native, integrating with Appwrite's backend services.","Improved app performance and user experience through code optimization and testing.","Coordinated with the product team to implement features based on feedback."]},{review:"Moiz brought creativity and technical expertise to the team, significantly improving our frontend performance. His work has been invaluable in delivering faster experiences.",imgPath:"https://img.icons8.com/color/80/flutter.png",logoPath:"https://img.icons8.com/color/80/flutter.png",title:"Flutter Developer",date:"July 2025 - Sept 2025",responsibilities:[`Built multiple Flutter apps (Quiz App, Task Manager, AdMob,
      Monetization App, Authentication System, Highway Incident
      Detection App, and Social Learning App) within weekly
      deadlines, integrating Firebase Auth, Firestore, Supabase
      SharedPreferences, AdMob, and MVVM architecture.`,`Applied state management, form validation, and animated UI/UX
      transitions to deliver polished, production-ready applications
      with real-world monetization and scalable features.`]}],za=[{name:"insta",imgPath:"/images/insta.png"},{name:"fb",imgPath:"/images/fb.png"},{name:"github",imgPath:"https://img.icons8.com/3d-fluency/94/github-logo.png"},{name:"linkedin",imgPath:"/images/linkedin.png"}],wn=_.memo(()=>{const[e,t]=_.useState(!1);return _.useEffect(()=>{const r=()=>{const i=window.scrollY>10;t(i)};return window.addEventListener("scroll",r,{passive:!0}),()=>window.removeEventListener("scroll",r)},[]),h.jsx("header",{className:`navbar ${e?"scrolled":"not-scrolled"}`,children:h.jsxs("div",{className:"inner",children:[h.jsx("a",{className:"logo",href:"#hero",children:"Moiz | Jawad"}),h.jsx("nav",{className:"desktop",children:h.jsx("ul",{children:ka.map(({link:r,name:i})=>h.jsx("li",{className:"group",children:h.jsxs("a",{href:r,children:[h.jsx("span",{children:i}),h.jsx("span",{className:"underline"})]})},i))})}),h.jsx("a",{href:"#contact",className:"contact-btn group",children:h.jsx("div",{className:"inner",children:h.jsx("span",{children:"Contact me"})})})]})})});wn.displayName="Navbar";const Mn=_.memo(({className:e,id:t,text:r})=>{const i=s=>{s.preventDefault();const n=document.getElementById("counter");if(n&&t){const a=window.innerHeight*.15,o=n.getBoundingClientRect().top+window.pageYOffset-a;window.scrollTo({top:o,behavior:"smooth"})}};return h.jsx("a",{onClick:i,className:`${e??""} cta-wrapper`,href:"#counter","aria-label":r,children:h.jsxs("div",{className:"cta-button group",children:[h.jsx("div",{className:"bg-circle"}),h.jsx("p",{className:"text",children:r}),h.jsx("div",{className:"arrow-wrapper",children:h.jsx("img",{src:"/images/arrow-down.svg",alt:"arrow",width:20,height:20,loading:"lazy",decoding:"async"})})]})})});Mn.displayName="Button";var oi={},Cs;function Oa(){if(Cs)return oi;Cs=1,oi.match=n,oi.parse=a;var e=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,r=/^(?:(min|max)-)?(.+)/,i=/(em|rem|px|cm|mm|in|pt|pc)?$/,s=/(dpi|dpcm|dppx)?$/;function n(v,p){return a(v).some(function(g){var u=g.inverse,m=g.type==="all"||p.type===g.type;if(m&&u||!(m||u))return!1;var B=g.expressions.every(function(C){var R=C.feature,E=C.modifier,y=C.value,S=p[R];if(!S)return!1;switch(R){case"orientation":case"scan":return S.toLowerCase()===y.toLowerCase();case"width":case"height":case"device-width":case"device-height":y=d(y),S=d(S);break;case"resolution":y=c(y),S=c(S);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":y=o(y),S=o(S);break;case"grid":case"color":case"color-index":case"monochrome":y=parseInt(y,10)||1,S=parseInt(S,10)||0;break}switch(E){case"min":return S>=y;case"max":return S<=y;default:return S===y}});return B&&!u||!B&&u})}function a(v){return v.split(",").map(function(p){p=p.trim();var g=p.match(e),u=g[1],m=g[2],B=g[3]||"",C={};return C.inverse=!!u&&u.toLowerCase()==="not",C.type=m?m.toLowerCase():"all",B=B.match(/\([^\)]+\)/g)||[],C.expressions=B.map(function(R){var E=R.match(t),y=E[1].toLowerCase().match(r);return{modifier:y[1],feature:y[2],value:E[2]}}),C})}function o(v){var p=Number(v),g;return p||(g=v.match(/^(\d+)\s*\/\s*(\d+)$/),p=g[1]/g[2]),p}function c(v){var p=parseFloat(v),g=String(v).match(s)[1];switch(g){case"dpcm":return p/2.54;case"dppx":return p*96;default:return p}}function d(v){var p=parseFloat(v),g=String(v).match(i)[1];switch(g){case"em":return p*16;case"rem":return p*16;case"cm":return p*96/2.54;case"mm":return p*96/2.54/10;case"in":return p*96;case"pt":return p*72;case"pc":return p*72/12;default:return p}}return oi}var zi,Bs;function Fa(){if(Bs)return zi;Bs=1;var e=Oa().match,t=typeof window<"u"?window.matchMedia:null;function r(s,n,a){var o=this,c;t&&!a&&(c=t.call(window,s)),c?(this.matches=c.matches,this.media=c.media,c.addListener(p)):(this.matches=e(s,n),this.media=s),this.addListener=d,this.removeListener=v,this.dispose=g;function d(u){c&&c.addListener(u)}function v(u){c&&c.removeListener(u)}function p(u){o.matches=u.matches,o.media=u.media}function g(){c&&c.removeListener(p)}}function i(s,n,a){return new r(s,n,a)}return zi=i,zi}var Ha=Fa();const La=fn(Ha);var Ga=/[A-Z]/g,ja=/^ms-/,Oi={};function Wa(e){return"-"+e.toLowerCase()}function Pn(e){if(Oi.hasOwnProperty(e))return Oi[e];var t=e.replace(Ga,Wa);return Oi[e]=ja.test(t)?"-"+t:t}function Va(e,t){if(e===t)return!0;if(!e||!t)return!1;const r=Object.keys(e),i=Object.keys(t),s=r.length;if(i.length!==s)return!1;for(let n=0;n<s;n++){const a=r[n];if(e[a]!==t[a]||!Object.prototype.hasOwnProperty.call(t,a))return!1}return!0}var Fi={exports:{}},Hi,As;function Xa(){if(As)return Hi;As=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Hi=e,Hi}var Li,Us;function Ya(){if(Us)return Li;Us=1;var e=Xa();function t(){}function r(){}return r.resetWarningCache=t,Li=function(){function i(a,o,c,d,v,p){if(p!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}i.isRequired=i;function s(){return i}var n={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:t};return n.PropTypes=n,n},Li}var Is;function qa(){return Is||(Is=1,Fi.exports=Ya()()),Fi.exports}var $a=qa();const X=fn($a),Xe=X.oneOfType([X.string,X.number]),Rn={all:X.bool,grid:X.bool,aural:X.bool,braille:X.bool,handheld:X.bool,print:X.bool,projection:X.bool,screen:X.bool,tty:X.bool,tv:X.bool,embossed:X.bool},Ka={orientation:X.oneOf(["portrait","landscape"]),scan:X.oneOf(["progressive","interlace"]),aspectRatio:X.string,deviceAspectRatio:X.string,height:Xe,deviceHeight:Xe,width:Xe,deviceWidth:Xe,color:X.bool,colorIndex:X.bool,monochrome:X.bool,resolution:Xe,type:Object.keys(Rn)},{type:wc,...Za}=Ka,Qa={minAspectRatio:X.string,maxAspectRatio:X.string,minDeviceAspectRatio:X.string,maxDeviceAspectRatio:X.string,minHeight:Xe,maxHeight:Xe,minDeviceHeight:Xe,maxDeviceHeight:Xe,minWidth:Xe,maxWidth:Xe,minDeviceWidth:Xe,maxDeviceWidth:Xe,minColor:X.number,maxColor:X.number,minColorIndex:X.number,maxColorIndex:X.number,minMonochrome:X.number,maxMonochrome:X.number,minResolution:Xe,maxResolution:Xe,...Za},Ja={...Rn,...Qa};var eo={all:Ja};const to=e=>`not ${e}`,ro=(e,t)=>{const r=Pn(e);return typeof t=="number"&&(t=`${t}px`),t===!0?r:t===!1?to(r):`(${r}: ${t})`},io=e=>e.join(" and "),so=e=>{const t=[];return Object.keys(eo.all).forEach(r=>{const i=e[r];i!=null&&t.push(ro(r,i))}),io(t)},no=_.createContext(void 0),ao=e=>e.query||so(e),ks=e=>e?Object.keys(e).reduce((r,i)=>(r[Pn(i)]=e[i],r),{}):void 0,Dn=()=>{const e=_.useRef(!1);return _.useEffect(()=>{e.current=!0},[]),e.current},oo=e=>{const t=_.useContext(no),r=()=>ks(e)||ks(t),[i,s]=_.useState(r);return _.useEffect(()=>{const n=r();Va(i,n)||s(n)},[e,t]),i},lo=e=>{const t=()=>ao(e),[r,i]=_.useState(t);return _.useEffect(()=>{const s=t();r!==s&&i(s)},[e]),r},co=(e,t)=>{const r=()=>La(e,t||{},!!t),[i,s]=_.useState(r),n=Dn();return _.useEffect(()=>{if(n){const a=r();return s(a),()=>{a&&a.dispose()}}},[e,t]),i},uo=e=>{const[t,r]=_.useState(e.matches);return _.useEffect(()=>{const i=s=>{r(s.matches)};return e.addListener(i),r(e.matches),()=>{e.removeListener(i)}},[e]),t},Ns=(e,t,r)=>{const i=oo(t),s=lo(e);if(!s)throw new Error("Invalid or missing MediaQuery!");const n=co(s,i),a=uo(n);return Dn(),_.useEffect(()=>{},[a]),_.useEffect(()=>()=>{n&&n.dispose()},[]),a};var Gi=1/1e3,ho=1e3,fo=class{constructor(){this.startTime=performance.now(),this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(e){typeof document<"u"&&document.hidden!==void 0&&(e?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=e)}get delta(){return this._delta*Gi}get fixedDelta(){return this._fixedDelta*Gi}set fixedDelta(e){this._fixedDelta=e*ho}get elapsed(){return this._elapsed*Gi}update(e){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=(e!==void 0?e:performance.now())-this.startTime,this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()-this.startTime}getDelta(){return this.delta}getElapsed(){return this.elapsed}handleEvent(e){document.hidden||(this.currentTime=performance.now()-this.startTime)}dispose(){this.autoReset=!1}},po=(()=>{const e=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),t=new Float32Array([0,0,2,0,0,2]),r=new Ma;return r.setAttribute("position",new Ps(e,3)),r.setAttribute("uv",new Ps(t,2)),r})(),Fe=class Ji{static get fullscreenGeometry(){return po}constructor(t="Pass",r=new ws,i=new Sa){this.name=t,this.renderer=null,this.scene=r,this.camera=i,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(t){if(this.rtt===t){const r=this.fullscreenMaterial;r!==null&&(r.needsUpdate=!0),this.rtt=!t}}set mainScene(t){}set mainCamera(t){}setRenderer(t){this.renderer=t}isEnabled(){return this.enabled}setEnabled(t){this.enabled=t}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(t){let r=this.screen;r!==null?r.material=t:(r=new Ta(Ji.fullscreenGeometry,t),r.frustumCulled=!1,this.scene===null&&(this.scene=new ws),this.scene.add(r),this.screen=r)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(t){this.fullscreenMaterial=t}getDepthTexture(){return null}setDepthTexture(t,r=kt){}render(t,r,i,s,n){throw new Error("Render method not implemented!")}setSize(t,r){}initialize(t,r,i){}dispose(){for(const t of Object.keys(this)){const r=this[t];(r instanceof dt||r instanceof yn||r instanceof bn||r instanceof Ji)&&this[t].dispose()}this.fullscreenMaterial!==null&&this.fullscreenMaterial.dispose()}},go=class extends Fe{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(e,t,r,i,s){const n=e.state.buffers.stencil;n.setLocked(!1),n.setTest(!1)}},mo=`#ifdef COLOR_WRITE
#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#endif
#ifdef DEPTH_WRITE
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}
#endif
#ifdef USE_WEIGHTS
uniform vec4 channelWeights;
#endif
uniform float opacity;varying vec2 vUv;void main(){
#ifdef COLOR_WRITE
vec4 texel=texture2D(inputBuffer,vUv);
#ifdef USE_WEIGHTS
texel*=channelWeights;
#endif
gl_FragColor=opacity*texel;
#ifdef COLOR_SPACE_CONVERSION
#include <colorspace_fragment>
#endif
#include <dithering_fragment>
#else
gl_FragColor=vec4(0.0);
#endif
#ifdef DEPTH_WRITE
gl_FragDepth=readDepth(vUv);
#endif
}`,fs="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",Cn=class extends Nt{constructor(){super({name:"CopyMaterial",defines:{DEPTH_PACKING:"0",COLOR_WRITE:"1"},uniforms:{inputBuffer:new L(null),depthBuffer:new L(null),channelWeights:new L(null),opacity:new L(1)},blending:Qt,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:mo,vertexShader:fs}),this.depthFunc=En}get inputBuffer(){return this.uniforms.inputBuffer.value}set inputBuffer(e){const t=e!==null;this.colorWrite!==t&&(t?this.defines.COLOR_WRITE=!0:delete this.defines.COLOR_WRITE,this.colorWrite=t,this.needsUpdate=!0),this.uniforms.inputBuffer.value=e}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(e){const t=e!==null;this.depthWrite!==t&&(t?this.defines.DEPTH_WRITE=!0:delete this.defines.DEPTH_WRITE,this.depthTest=t,this.depthWrite=t,this.needsUpdate=!0),this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}get channelWeights(){return this.uniforms.channelWeights.value}set channelWeights(e){e!==null?(this.defines.USE_WEIGHTS="1",this.uniforms.channelWeights.value=e):delete this.defines.USE_WEIGHTS,this.needsUpdate=!0}setInputBuffer(e){this.uniforms.inputBuffer.value=e}getOpacity(e){return this.uniforms.opacity.value}setOpacity(e){this.uniforms.opacity.value=e}},vo=class extends Fe{constructor(e,t=!0){super("CopyPass"),this.fullscreenMaterial=new Cn,this.needsSwap=!1,this.renderTarget=e,e===void 0&&(this.renderTarget=new dt(1,1,{minFilter:Ri,magFilter:Ri,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=t}get resize(){return this.autoResize}set resize(e){this.autoResize=e}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(e){this.autoResize=e}render(e,t,r,i,s){this.fullscreenMaterial.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){this.autoResize&&this.renderTarget.setSize(e,t)}initialize(e,t,r){r!==void 0&&(this.renderTarget.texture.type=r,r!==Kt?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":e!==null&&e.outputColorSpace===Pe&&(this.renderTarget.texture.colorSpace=Pe))}},zs=new Ui,ds=class extends Fe{constructor(e=!0,t=!0,r=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=e,this.depth=t,this.stencil=r,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(e,t,r){this.color=e,this.depth=t,this.stencil=r}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(e){this.overrideClearColor=e}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(e){this.overrideClearAlpha=e}render(e,t,r,i,s){const n=this.overrideClearColor,a=this.overrideClearAlpha,o=e.getClearAlpha(),c=n!==null,d=a>=0;c?(e.getClearColor(zs),e.setClearColor(n,d?a:o)):d&&e.setClearAlpha(a),e.setRenderTarget(this.renderToScreen?null:t),e.clear(this.color,this.depth,this.stencil),c?e.setClearColor(zs,o):d&&e.setClearAlpha(o)}},xo=class extends Fe{constructor(e,t){super("MaskPass",e,t),this.needsSwap=!1,this.clearPass=new ds(!1,!1,!0),this.inverse=!1}set mainScene(e){this.scene=e}set mainCamera(e){this.camera=e}get inverted(){return this.inverse}set inverted(e){this.inverse=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(e){this.inverted=e}render(e,t,r,i,s){const n=e.getContext(),a=e.state.buffers,o=this.scene,c=this.camera,d=this.clearPass,v=this.inverted?0:1,p=1-v;a.color.setMask(!1),a.depth.setMask(!1),a.color.setLocked(!0),a.depth.setLocked(!0),a.stencil.setTest(!0),a.stencil.setOp(n.REPLACE,n.REPLACE,n.REPLACE),a.stencil.setFunc(n.ALWAYS,v,4294967295),a.stencil.setClear(p),a.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?d.render(e,null):(d.render(e,t),d.render(e,r))),this.renderToScreen?(e.setRenderTarget(null),e.render(o,c)):(e.setRenderTarget(t),e.render(o,c),e.setRenderTarget(r),e.render(o,c)),a.color.setLocked(!1),a.depth.setLocked(!1),a.stencil.setLocked(!1),a.stencil.setFunc(n.EQUAL,1,4294967295),a.stencil.setOp(n.KEEP,n.KEEP,n.KEEP),a.stencil.setLocked(!0)}},_o=class{constructor(e=null,{depthBuffer:t=!0,stencilBuffer:r=!1,multisampling:i=0,frameBufferType:s}={}){this.renderer=null,this.inputBuffer=this.createBuffer(t,r,s,i),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new vo,this.depthTexture=null,this.passes=[],this.timer=new fo,this.autoRenderToScreen=!0,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){const t=this.inputBuffer,r=this.multisampling;r>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):r!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(t.depthBuffer,t.stencilBuffer,t.texture.type,e),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){if(this.renderer=e,e!==null){const t=e.getSize(new Me),r=e.getContext().getContextAttributes().alpha,i=this.inputBuffer.texture.type;i===Kt&&e.outputColorSpace===Pe&&(this.inputBuffer.texture.colorSpace=Pe,this.outputBuffer.texture.colorSpace=Pe,this.inputBuffer.dispose(),this.outputBuffer.dispose()),e.autoClear=!1,this.setSize(t.width,t.height);for(const s of this.passes)s.initialize(e,r,i)}}replaceRenderer(e,t=!0){const r=this.renderer,i=r.domElement.parentNode;return this.setRenderer(e),t&&i!==null&&(i.removeChild(r.domElement),i.appendChild(e.domElement)),r}createDepthTexture(){const e=this.depthTexture=new ma;return this.inputBuffer.depthTexture=e,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(e.format=va,e.type=xa):e.type=_a,e}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const e of this.passes)e.setDepthTexture(null)}}createBuffer(e,t,r,i){const s=this.renderer,n=s===null?new Me:s.getDrawingBufferSize(new Me),a={minFilter:Ri,magFilter:Ri,stencilBuffer:t,depthBuffer:e,type:r},o=new dt(n.width,n.height,a);return i>0&&(o.samples=i),r===Kt&&s!==null&&s.outputColorSpace===Pe&&(o.texture.colorSpace=Pe),o.texture.name="EffectComposer.Buffer",o.texture.generateMipmaps=!1,o}setMainScene(e){for(const t of this.passes)t.mainScene=e}setMainCamera(e){for(const t of this.passes)t.mainCamera=e}addPass(e,t){const r=this.passes,i=this.renderer,s=i.getDrawingBufferSize(new Me),n=i.getContext().getContextAttributes().alpha,a=this.inputBuffer.texture.type;if(e.setRenderer(i),e.setSize(s.width,s.height),e.initialize(i,n,a),this.autoRenderToScreen&&(r.length>0&&(r[r.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),t!==void 0?r.splice(t,0,e):r.push(e),this.autoRenderToScreen&&(r[r.length-1].renderToScreen=!0),e.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){const o=this.createDepthTexture();for(e of r)e.setDepthTexture(o)}else e.setDepthTexture(this.depthTexture)}removePass(e){const t=this.passes,r=t.indexOf(e);if(r!==-1&&t.splice(r,1).length>0){if(this.depthTexture!==null){const n=(o,c)=>o||c.needsDepthTexture;t.reduce(n,!1)||(e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&r===t.length&&(e.renderToScreen=!1,t.length>0&&(t[t.length-1].renderToScreen=!0))}}removeAllPasses(){const e=this.passes;this.deleteDepthTexture(),e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){const t=this.renderer,r=this.copyPass;let i=this.inputBuffer,s=this.outputBuffer,n=!1,a,o,c;e===void 0&&(this.timer.update(),e=this.timer.getDelta());for(const d of this.passes)d.enabled&&(d.render(t,i,s,e,n),d.needsSwap&&(n&&(r.renderToScreen=d.renderToScreen,a=t.getContext(),o=t.state.buffers.stencil,o.setFunc(a.NOTEQUAL,1,4294967295),r.render(t,i,s,e,n),o.setFunc(a.EQUAL,1,4294967295)),c=i,i=s,s=c),d instanceof xo?n=!0:d instanceof go&&(n=!1))}setSize(e,t,r){const i=this.renderer,s=i.getSize(new Me);(e===void 0||t===void 0)&&(e=s.width,t=s.height),(s.width!==e||s.height!==t)&&i.setSize(e,t,r);const n=i.getDrawingBufferSize(new Me);this.inputBuffer.setSize(n.width,n.height),this.outputBuffer.setSize(n.width,n.height);for(const a of this.passes)a.setSize(n.width,n.height)}reset(){this.dispose(),this.autoRenderToScreen=!0}dispose(){for(const e of this.passes)e.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose(),Fe.fullscreenGeometry.dispose()}},qt={NONE:0,DEPTH:1,CONVOLUTION:2},W={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},yo=class{constructor(){this.shaderParts=new Map([[W.FRAGMENT_HEAD,null],[W.FRAGMENT_MAIN_UV,null],[W.FRAGMENT_MAIN_IMAGE,null],[W.VERTEX_HEAD,null],[W.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=qt.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=mn}},ji=!1,Os=class{constructor(e=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(e),this.meshCount=0,this.replaceMaterial=t=>{if(t.isMesh){let r;if(t.material.flatShading)switch(t.material.side){case ai:r=this.materialsFlatShadedDoubleSide;break;case ni:r=this.materialsFlatShadedBackSide;break;default:r=this.materialsFlatShaded;break}else switch(t.material.side){case ai:r=this.materialsDoubleSide;break;case ni:r=this.materialsBackSide;break;default:r=this.materials;break}this.originalMaterials.set(t,t.material),t.isSkinnedMesh?t.material=r[2]:t.isInstancedMesh?t.material=r[1]:t.material=r[0],++this.meshCount}}}cloneMaterial(e){if(!(e instanceof Nt))return e.clone();const t=e.uniforms,r=new Map;for(const s in t){const n=t[s].value;n.isRenderTargetTexture&&(t[s].value=null,r.set(s,n))}const i=e.clone();for(const s of r)t[s[0]].value=s[1],i.uniforms[s[0]].value=s[1];return i}setMaterial(e){if(this.disposeMaterials(),this.material=e,e!==null){const t=this.materials=[this.cloneMaterial(e),this.cloneMaterial(e),this.cloneMaterial(e)];for(const r of t)r.uniforms=Object.assign({},e.uniforms),r.side=Ea;t[2].skinning=!0,this.materialsBackSide=t.map(r=>{const i=this.cloneMaterial(r);return i.uniforms=Object.assign({},e.uniforms),i.side=ni,i}),this.materialsDoubleSide=t.map(r=>{const i=this.cloneMaterial(r);return i.uniforms=Object.assign({},e.uniforms),i.side=ai,i}),this.materialsFlatShaded=t.map(r=>{const i=this.cloneMaterial(r);return i.uniforms=Object.assign({},e.uniforms),i.flatShading=!0,i}),this.materialsFlatShadedBackSide=t.map(r=>{const i=this.cloneMaterial(r);return i.uniforms=Object.assign({},e.uniforms),i.flatShading=!0,i.side=ni,i}),this.materialsFlatShadedDoubleSide=t.map(r=>{const i=this.cloneMaterial(r);return i.uniforms=Object.assign({},e.uniforms),i.flatShading=!0,i.side=ai,i})}}render(e,t,r){const i=e.shadowMap.enabled;if(e.shadowMap.enabled=!1,ji){const s=this.originalMaterials;this.meshCount=0,t.traverse(this.replaceMaterial),e.render(t,r);for(const n of s)n[0].material=n[1];this.meshCount!==s.size&&s.clear()}else{const s=t.overrideMaterial;t.overrideMaterial=this.material,e.render(t,r),t.overrideMaterial=s}e.shadowMap.enabled=i}disposeMaterials(){if(this.material!==null){const e=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const t of e)t.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return ji}static set workaroundEnabled(e){ji=e}},Wt=-1,be=class extends hs{constructor(e,t=Wt,r=Wt,i=1){super(),this.resizable=e,this.baseSize=new Me(1,1),this.preferredSize=new Me(t,r),this.target=this.preferredSize,this.s=i,this.effectiveSize=new Me,this.addEventListener("change",()=>this.updateEffectiveSize()),this.updateEffectiveSize()}updateEffectiveSize(){const e=this.baseSize,t=this.preferredSize,r=this.effectiveSize,i=this.scale;t.width!==Wt?r.width=t.width:t.height!==Wt?r.width=Math.round(t.height*(e.width/Math.max(e.height,1))):r.width=Math.round(e.width*i),t.height!==Wt?r.height=t.height:t.width!==Wt?r.height=Math.round(t.width/Math.max(e.width/Math.max(e.height,1),1)):r.height=Math.round(e.height*i)}get width(){return this.effectiveSize.width}set width(e){this.preferredWidth=e}get height(){return this.effectiveSize.height}set height(e){this.preferredHeight=e}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(e){this.s!==e&&(this.s=e,this.preferredSize.setScalar(Wt),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(e){this.scale=e}get baseWidth(){return this.baseSize.width}set baseWidth(e){this.baseSize.width!==e&&(this.baseSize.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(e){this.baseWidth=e}get baseHeight(){return this.baseSize.height}set baseHeight(e){this.baseSize.height!==e&&(this.baseSize.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(e){this.baseHeight=e}setBaseSize(e,t){(this.baseSize.width!==e||this.baseSize.height!==t)&&(this.baseSize.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(e){this.preferredSize.width!==e&&(this.preferredSize.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(e){this.preferredWidth=e}get preferredHeight(){return this.preferredSize.height}set preferredHeight(e){this.preferredSize.height!==e&&(this.preferredSize.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(e){this.preferredHeight=e}setPreferredSize(e,t){(this.preferredSize.width!==e||this.preferredSize.height!==t)&&(this.preferredSize.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(e){this.s=e.scale,this.baseSize.set(e.baseWidth,e.baseHeight),this.preferredSize.set(e.preferredWidth,e.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return Wt}},bo=class{constructor(e=0){this.nextId=e}getNextId(){return this.nextId++}reset(e=0){return this.nextId=e,this}},Wi=new bo(2),So=class extends Set{constructor(e,t=Wi.getNextId()){super(),this.exclusive=!1,this._layer=t,(this._layer<1||this._layer>31)&&(console.warn("Layer out of range, resetting to 2"),Wi.reset(2),this._layer=Wi.getNextId()),e!==void 0&&this.set(e)}get layer(){return this._layer}set layer(e){const t=this._layer;for(const r of this)r.layers.disable(t),r.layers.enable(e);this._layer=e}getLayer(){return this.layer}setLayer(e){this.layer=e}isExclusive(){return this.exclusive}setExclusive(e){this.exclusive=e}clear(){const e=this.layer;for(const t of this)t.layers.disable(e);return super.clear()}set(e){this.clear();for(const t of e)this.add(t);return this}indexOf(e){return this.has(e)?0:-1}add(e){return this.exclusive?e.layers.set(this.layer):e.layers.enable(this.layer),super.add(e)}delete(e){return this.has(e)&&e.layers.disable(this.layer),super.delete(e)}toggle(e){let t;return this.has(e)?(this.delete(e),t=!1):(this.add(e),t=!0),t}setVisible(e){for(const t of this)e?t.layers.enable(0):t.layers.disable(0);return this}},H={ADD:0,AVERAGE:2,COLOR:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,DIVIDE:8,DST:9,EXCLUSION:10,HARD_LIGHT:11,HARD_MIX:12,HUE:13,INVERT:14,INVERT_RGB:15,LIGHTEN:16,LINEAR_BURN:17,LINEAR_DODGE:18,LINEAR_LIGHT:19,LUMINOSITY:20,MULTIPLY:21,NEGATION:22,NORMAL:23,OVERLAY:24,PIN_LIGHT:25,REFLECT:26,SATURATION:27,SCREEN:28,SOFT_LIGHT:29,SRC:30,SUBTRACT:31,VIVID_LIGHT:32},To="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(x.rgb+y.rgb,y.a),y.a*opacity);}",Eo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4((x.rgb+y.rgb)*0.5,y.a),y.a*opacity);}",wo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.xy,xHSL.z));return mix(x,vec4(z,y.a),y.a*opacity);}",Mo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 a=x.rgb,b=y.rgb;vec3 z=mix(step(0.0,b)*(1.0-min(vec3(1.0),(1.0-a)/b)),vec3(1.0),step(1.0,a));return mix(x,vec4(z,y.a),y.a*opacity);}",Po="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 a=x.rgb,b=y.rgb;vec3 z=step(0.0,a)*mix(min(vec3(1.0),a/max(1.0-b,1e-9)),vec3(1.0),step(1.0,b));return mix(x,vec4(z,y.a),y.a*opacity);}",Ro="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(min(x.rgb,y.rgb),y.a),y.a*opacity);}",Do="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(abs(x.rgb-y.rgb),y.a),y.a*opacity);}",Co="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(x.rgb/max(y.rgb,1e-12),y.a),y.a*opacity);}",Bo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4((x.rgb+y.rgb-2.0*x.rgb*y.rgb),y.a),y.a*opacity);}",Ao="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 a=min(x.rgb,1.0);vec3 b=min(y.rgb,1.0);vec3 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,b));return mix(x,vec4(z,y.a),y.a*opacity);}",Uo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(step(1.0,x.rgb+y.rgb),y.a),y.a*opacity);}",Io="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.x,xHSL.yz));return mix(x,vec4(z,y.a),y.a*opacity);}",ko="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(1.0-y.rgb,y.a),y.a*opacity);}",No="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(y.rgb*(1.0-x.rgb),y.a),y.a*opacity);}",zo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(max(x.rgb,y.rgb),y.a),y.a*opacity);}",Oo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(clamp(y.rgb+x.rgb-1.0,0.0,1.0),y.a),y.a*opacity);}",Fo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(min(x.rgb+y.rgb,1.0),y.a),y.a*opacity);}",Ho="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(clamp(2.0*y.rgb+x.rgb-1.0,0.0,1.0),y.a),y.a*opacity);}",Lo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.xy,yHSL.z));return mix(x,vec4(z,y.a),y.a*opacity);}",Go="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(x.rgb*y.rgb,y.a),y.a*opacity);}",jo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(1.0-abs(1.0-x.rgb-y.rgb),y.a),y.a*opacity);}",Wo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,y.a*opacity);}",Vo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 z=mix(2.0*y.rgb*x.rgb,1.0-2.0*(1.0-y.rgb)*(1.0-x.rgb),step(0.5,x.rgb));return mix(x,vec4(z,y.a),y.a*opacity);}",Xo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 y2=2.0*y.rgb;vec3 z=mix(mix(y2,x.rgb,step(0.5*x.rgb,y.rgb)),max(y2-1.0,vec3(0.0)),step(x.rgb,y2-1.0));return mix(x,vec4(z,y.a),y.a*opacity);}",Yo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 z=mix(min(x.rgb*x.rgb/max(1.0-y.rgb,1e-12),1.0),y.rgb,step(1.0,y.rgb));return mix(x,vec4(z,y.a),y.a*opacity);}",qo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.x,yHSL.y,xHSL.z));return mix(x,vec4(z,y.a),y.a*opacity);}",$o="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(x.rgb+y.rgb-min(x.rgb*y.rgb,1.0),y.a),y.a*opacity);}",Ko="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 a=x.rgb;vec3 b=y.rgb;vec3 y2=2.0*b;vec3 w=step(0.5,b);vec3 c=a-(1.0-y2)*a*(1.0-a);vec3 d=mix(a+(y2-1.0)*(sqrt(a)-a),a+(y2-1.0)*a*((16.0*a-12.0)*a+3.0),w*(1.0-step(0.25,a)));vec3 z=mix(c,d,w);return mix(x,vec4(z,y.a),y.a*opacity);}",Zo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}",Qo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(max(x.rgb+y.rgb-1.0,0.0),y.a),y.a*opacity);}",Jo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 z=mix(max(1.0-min((1.0-x.rgb)/(2.0*y.rgb),1.0),0.0),min(x.rgb/(2.0*(1.0-y.rgb)),1.0),step(0.5,y.rgb));return mix(x,vec4(z,y.a),y.a*opacity);}",el=new Map([[H.ADD,To],[H.AVERAGE,Eo],[H.COLOR,wo],[H.COLOR_BURN,Mo],[H.COLOR_DODGE,Po],[H.DARKEN,Ro],[H.DIFFERENCE,Do],[H.DIVIDE,Co],[H.DST,null],[H.EXCLUSION,Bo],[H.HARD_LIGHT,Ao],[H.HARD_MIX,Uo],[H.HUE,Io],[H.INVERT,ko],[H.INVERT_RGB,No],[H.LIGHTEN,zo],[H.LINEAR_BURN,Oo],[H.LINEAR_DODGE,Fo],[H.LINEAR_LIGHT,Ho],[H.LUMINOSITY,Lo],[H.MULTIPLY,Go],[H.NEGATION,jo],[H.NORMAL,Wo],[H.OVERLAY,Vo],[H.PIN_LIGHT,Xo],[H.REFLECT,Yo],[H.SATURATION,qo],[H.SCREEN,$o],[H.SOFT_LIGHT,Ko],[H.SRC,Zo],[H.SUBTRACT,Qo],[H.VIVID_LIGHT,Jo]]),tl=class extends hs{constructor(e,t=1){super(),this._blendFunction=e,this.opacity=new L(t)}getOpacity(){return this.opacity.value}setOpacity(e){this.opacity.value=e}get blendFunction(){return this._blendFunction}set blendFunction(e){this._blendFunction=e,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(e){this.blendFunction=e}getShaderCode(){return el.get(this.blendFunction)}},es=class extends hs{constructor(e,t,{attributes:r=qt.NONE,blendFunction:i=H.NORMAL,defines:s=new Map,uniforms:n=new Map,extensions:a=null,vertexShader:o=null}={}){super(),this.name=e,this.renderer=null,this.attributes=r,this.fragmentShader=t,this.vertexShader=o,this.defines=s,this.uniforms=n,this.extensions=a,this.blendMode=new tl(i),this.blendMode.addEventListener("change",c=>this.setChanged()),this._inputColorSpace=mn,this._outputColorSpace=vn}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(e){this._inputColorSpace=e,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e,this.setChanged()}set mainScene(e){}set mainCamera(e){}getName(){return this.name}setRenderer(e){this.renderer=e}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(e){this.attributes=e,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(e){this.fragmentShader=e,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(e){this.vertexShader=e,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(e,t=kt){}update(e,t,r){}setSize(e,t){}initialize(e,t,r){}dispose(){for(const e of Object.keys(this)){const t=this[e];(t instanceof dt||t instanceof yn||t instanceof bn||t instanceof Fe)&&this[e].dispose()}}},ps={MEDIUM:2,LARGE:3},rl=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <colorspace_fragment>
}`,il="uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",sl=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],nl=class extends Nt{constructor(e=new Rs){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new L(null),texelSize:new L(new Rs),scale:new L(1),kernel:new L(0)},blending:Qt,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:rl,vertexShader:il}),this.setTexelSize(e.x,e.y),this.kernelSize=ps.MEDIUM}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.inputBuffer=e}get kernelSequence(){return sl[this.kernelSize]}get scale(){return this.uniforms.scale.value}set scale(e){this.uniforms.scale.value=e}getScale(){return this.uniforms.scale.value}setScale(e){this.uniforms.scale.value=e}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(e){this.uniforms.kernel.value=e}setKernel(e){this.kernel=e}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t,e*.5,t*.5)}setSize(e,t){const r=1/e,i=1/t;this.uniforms.texelSize.value.set(r,i,r*.5,i*.5)}},al=class extends Fe{constructor({kernelSize:e=ps.MEDIUM,resolutionScale:t=.5,width:r=be.AUTO_SIZE,height:i=be.AUTO_SIZE,resolutionX:s=r,resolutionY:n=i}={}){super("KawaseBlurPass"),this.renderTargetA=new dt(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";const a=this.resolution=new be(this,s,n,t);a.addEventListener("change",o=>this.setSize(a.baseWidth,a.baseHeight)),this._blurMaterial=new nl,this._blurMaterial.kernelSize=e,this.copyMaterial=new Cn}getResolution(){return this.resolution}get blurMaterial(){return this._blurMaterial}set blurMaterial(e){this._blurMaterial=e}get dithering(){return this.copyMaterial.dithering}set dithering(e){this.copyMaterial.dithering=e}get kernelSize(){return this.blurMaterial.kernelSize}set kernelSize(e){this.blurMaterial.kernelSize=e}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get scale(){return this.blurMaterial.scale}set scale(e){this.blurMaterial.scale=e}getScale(){return this.blurMaterial.scale}setScale(e){this.blurMaterial.scale=e}getKernelSize(){return this.kernelSize}setKernelSize(e){this.kernelSize=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,r,i,s){const n=this.scene,a=this.camera,o=this.renderTargetA,c=this.renderTargetB,d=this.blurMaterial,v=d.kernelSequence;let p=t;this.fullscreenMaterial=d;for(let g=0,u=v.length;g<u;++g){const m=(g&1)===0?o:c;d.kernel=v[g],d.inputBuffer=p.texture,e.setRenderTarget(m),e.render(n,a),p=m}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=p.texture,e.setRenderTarget(this.renderToScreen?null:r),e.render(n,a)}setSize(e,t){const r=this.resolution;r.setBaseSize(e,t);const i=r.width,s=r.height;this.renderTargetA.setSize(i,s),this.renderTargetB.setSize(i,s),this.blurMaterial.setSize(e,t)}initialize(e,t,r){r!==void 0&&(this.renderTargetA.texture.type=r,this.renderTargetB.texture.type=r,r!==Kt?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):e!==null&&e.outputColorSpace===Pe&&(this.renderTargetA.texture.colorSpace=Pe,this.renderTargetB.texture.colorSpace=Pe))}static get AUTO_SIZE(){return be.AUTO_SIZE}},ol=`#include <common>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef RANGE
uniform vec2 range;
#elif defined(THRESHOLD)
uniform float threshold;uniform float smoothing;
#endif
varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);float mask=1.0;
#ifdef RANGE
float low=step(range.x,l);float high=step(l,range.y);mask=low*high;
#elif defined(THRESHOLD)
mask=smoothstep(threshold,threshold+smoothing,l);
#endif
#ifdef COLOR
gl_FragColor=texel*mask;
#else
gl_FragColor=vec4(l*mask);
#endif
}`,ll=class extends Nt{constructor(e=!1,t=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:Sn.replace(/\D+/g,"")},uniforms:{inputBuffer:new L(null),threshold:new L(0),smoothing:new L(1),range:new L(null)},blending:Qt,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:ol,vertexShader:fs}),this.colorOutput=e,this.luminanceRange=t}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get threshold(){return this.uniforms.threshold.value}set threshold(e){this.smoothing>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=e}getThreshold(){return this.threshold}setThreshold(e){this.threshold=e}get smoothing(){return this.uniforms.smoothing.value}set smoothing(e){this.threshold>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=e}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(e){this.smoothing=e}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(e){}get colorOutput(){return this.defines.COLOR!==void 0}set colorOutput(e){e?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(e){return this.colorOutput}setColorOutputEnabled(e){this.colorOutput=e}get useRange(){return this.luminanceRange!==null}set useRange(e){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(e){e!==null?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=e,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(e){this.luminanceRange=e}},cl=class extends Fe{constructor({renderTarget:e,luminanceRange:t,colorOutput:r,resolutionScale:i=1,width:s=be.AUTO_SIZE,height:n=be.AUTO_SIZE,resolutionX:a=s,resolutionY:o=n}={}){super("LuminancePass"),this.fullscreenMaterial=new ll(r,t),this.needsSwap=!1,this.renderTarget=e,this.renderTarget===void 0&&(this.renderTarget=new dt(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target");const c=this.resolution=new be(this,a,o,i);c.addEventListener("change",d=>this.setSize(c.baseWidth,c.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(e,t,r,i,s){const n=this.fullscreenMaterial;n.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){const r=this.resolution;r.setBaseSize(e,t),this.renderTarget.setSize(r.width,r.height)}initialize(e,t,r){r!==void 0&&r!==Kt&&(this.renderTarget.texture.type=r,this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},ul=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#define WEIGHT_INNER 0.125
#define WEIGHT_OUTER 0.0555555
varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;float clampToBorder(const in vec2 uv){return float(uv.s>=0.0&&uv.s<=1.0&&uv.t>=0.0&&uv.t<=1.0);}void main(){vec4 c=vec4(0.0);vec4 w=WEIGHT_INNER*vec4(clampToBorder(vUv00),clampToBorder(vUv01),clampToBorder(vUv02),clampToBorder(vUv03));c+=w.x*texture2D(inputBuffer,vUv00);c+=w.y*texture2D(inputBuffer,vUv01);c+=w.z*texture2D(inputBuffer,vUv02);c+=w.w*texture2D(inputBuffer,vUv03);w=WEIGHT_OUTER*vec4(clampToBorder(vUv04),clampToBorder(vUv05),clampToBorder(vUv06),clampToBorder(vUv07));c+=w.x*texture2D(inputBuffer,vUv04);c+=w.y*texture2D(inputBuffer,vUv05);c+=w.z*texture2D(inputBuffer,vUv06);c+=w.w*texture2D(inputBuffer,vUv07);w=WEIGHT_OUTER*vec4(clampToBorder(vUv08),clampToBorder(vUv09),clampToBorder(vUv10),clampToBorder(vUv11));c+=w.x*texture2D(inputBuffer,vUv08);c+=w.y*texture2D(inputBuffer,vUv09);c+=w.z*texture2D(inputBuffer,vUv10);c+=w.w*texture2D(inputBuffer,vUv11);c+=WEIGHT_OUTER*texture2D(inputBuffer,vUv);gl_FragColor=c;
#include <colorspace_fragment>
}`,hl="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;void main(){vUv=position.xy*0.5+0.5;vUv00=vUv+texelSize*vec2(-1.0,1.0);vUv01=vUv+texelSize*vec2(1.0,1.0);vUv02=vUv+texelSize*vec2(-1.0,-1.0);vUv03=vUv+texelSize*vec2(1.0,-1.0);vUv04=vUv+texelSize*vec2(-2.0,2.0);vUv05=vUv+texelSize*vec2(0.0,2.0);vUv06=vUv+texelSize*vec2(2.0,2.0);vUv07=vUv+texelSize*vec2(-2.0,0.0);vUv08=vUv+texelSize*vec2(2.0,0.0);vUv09=vUv+texelSize*vec2(-2.0,-2.0);vUv10=vUv+texelSize*vec2(0.0,-2.0);vUv11=vUv+texelSize*vec2(2.0,-2.0);gl_Position=vec4(position.xy,1.0,1.0);}",fl=class extends Nt{constructor(){super({name:"DownsamplingMaterial",uniforms:{inputBuffer:new L(null),texelSize:new L(new Me)},blending:Qt,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:ul,vertexShader:hl})}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}},dl=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;uniform mediump sampler2D supportBuffer;
#else
uniform lowp sampler2D inputBuffer;uniform lowp sampler2D supportBuffer;
#endif
uniform float radius;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vec4 c=vec4(0.0);c+=texture2D(inputBuffer,vUv0)*0.0625;c+=texture2D(inputBuffer,vUv1)*0.125;c+=texture2D(inputBuffer,vUv2)*0.0625;c+=texture2D(inputBuffer,vUv3)*0.125;c+=texture2D(inputBuffer,vUv)*0.25;c+=texture2D(inputBuffer,vUv4)*0.125;c+=texture2D(inputBuffer,vUv5)*0.0625;c+=texture2D(inputBuffer,vUv6)*0.125;c+=texture2D(inputBuffer,vUv7)*0.0625;vec4 baseColor=texture2D(supportBuffer,vUv);gl_FragColor=mix(baseColor,c,radius);
#include <colorspace_fragment>
}`,pl="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,1.0);vUv1=vUv+texelSize*vec2(0.0,1.0);vUv2=vUv+texelSize*vec2(1.0,1.0);vUv3=vUv+texelSize*vec2(-1.0,0.0);vUv4=vUv+texelSize*vec2(1.0,0.0);vUv5=vUv+texelSize*vec2(-1.0,-1.0);vUv6=vUv+texelSize*vec2(0.0,-1.0);vUv7=vUv+texelSize*vec2(1.0,-1.0);gl_Position=vec4(position.xy,1.0,1.0);}",gl=class extends Nt{constructor(){super({name:"UpsamplingMaterial",uniforms:{inputBuffer:new L(null),supportBuffer:new L(null),texelSize:new L(new Me),radius:new L(.85)},blending:Qt,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:dl,vertexShader:pl})}set inputBuffer(e){this.uniforms.inputBuffer.value=e}set supportBuffer(e){this.uniforms.supportBuffer.value=e}get radius(){return this.uniforms.radius.value}set radius(e){this.uniforms.radius.value=e}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}},ml=class extends Fe{constructor(){super("MipmapBlurPass"),this.needsSwap=!1,this.renderTarget=new dt(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Upsampling.Mipmap0",this.downsamplingMipmaps=[],this.upsamplingMipmaps=[],this.downsamplingMaterial=new fl,this.upsamplingMaterial=new gl,this.resolution=new Me}get texture(){return this.renderTarget.texture}get levels(){return this.downsamplingMipmaps.length}set levels(e){if(this.levels!==e){const t=this.renderTarget;this.dispose(),this.downsamplingMipmaps=[],this.upsamplingMipmaps=[];for(let r=0;r<e;++r){const i=t.clone();i.texture.name="Downsampling.Mipmap"+r,this.downsamplingMipmaps.push(i)}this.upsamplingMipmaps.push(t);for(let r=1,i=e-1;r<i;++r){const s=t.clone();s.texture.name="Upsampling.Mipmap"+r,this.upsamplingMipmaps.push(s)}this.setSize(this.resolution.x,this.resolution.y)}}get radius(){return this.upsamplingMaterial.radius}set radius(e){this.upsamplingMaterial.radius=e}render(e,t,r,i,s){const{scene:n,camera:a}=this,{downsamplingMaterial:o,upsamplingMaterial:c}=this,{downsamplingMipmaps:d,upsamplingMipmaps:v}=this;let p=t;this.fullscreenMaterial=o;for(let g=0,u=d.length;g<u;++g){const m=d[g];o.setSize(p.width,p.height),o.inputBuffer=p.texture,e.setRenderTarget(m),e.render(n,a),p=m}this.fullscreenMaterial=c;for(let g=v.length-1;g>=0;--g){const u=v[g];c.setSize(p.width,p.height),c.inputBuffer=p.texture,c.supportBuffer=d[g].texture,e.setRenderTarget(u),e.render(n,a),p=u}}setSize(e,t){const r=this.resolution;r.set(e,t);let i=r.width,s=r.height;for(let n=0,a=this.downsamplingMipmaps.length;n<a;++n)i=Math.round(i*.5),s=Math.round(s*.5),this.downsamplingMipmaps[n].setSize(i,s),n<this.upsamplingMipmaps.length&&this.upsamplingMipmaps[n].setSize(i,s)}initialize(e,t,r){if(r!==void 0){const i=this.downsamplingMipmaps.concat(this.upsamplingMipmaps);for(const s of i)s.texture.type=r;if(r!==Kt)this.downsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.upsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1";else if(e!==null&&e.outputColorSpace===Pe)for(const s of i)s.texture.colorSpace=Pe}}dispose(){super.dispose();for(const e of this.downsamplingMipmaps.concat(this.upsamplingMipmaps))e.dispose()}},vl=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 texel=texture2D(map,uv);outputColor=vec4(texel.rgb*intensity,max(inputColor.a,texel.a));}`,xl=class extends es{constructor({blendFunction:e=H.SCREEN,luminanceThreshold:t=1,luminanceSmoothing:r=.03,mipmapBlur:i=!0,intensity:s=1,radius:n=.85,levels:a=8,kernelSize:o=ps.LARGE,resolutionScale:c=.5,width:d=be.AUTO_SIZE,height:v=be.AUTO_SIZE,resolutionX:p=d,resolutionY:g=v}={}){super("BloomEffect",vl,{blendFunction:e,uniforms:new Map([["map",new L(null)],["intensity",new L(s)]])}),this.renderTarget=new dt(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.blurPass=new al({kernelSize:o}),this.luminancePass=new cl({colorOutput:!0}),this.luminanceMaterial.threshold=t,this.luminanceMaterial.smoothing=r,this.mipmapBlurPass=new ml,this.mipmapBlurPass.enabled=i,this.mipmapBlurPass.radius=n,this.mipmapBlurPass.levels=a,this.uniforms.get("map").value=i?this.mipmapBlurPass.texture:this.renderTarget.texture;const u=this.resolution=new be(this,p,g,c);u.addEventListener("change",m=>this.setSize(u.baseWidth,u.baseHeight))}get texture(){return this.mipmapBlurPass.enabled?this.mipmapBlurPass.texture:this.renderTarget.texture}getTexture(){return this.texture}getResolution(){return this.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get dithering(){return this.blurPass.dithering}set dithering(e){this.blurPass.dithering=e}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(e){this.blurPass.kernelSize=e}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(e){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(e){this.uniforms.get("intensity").value=e}getIntensity(){return this.intensity}setIntensity(e){this.intensity=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}update(e,t,r){const i=this.renderTarget,s=this.luminancePass;s.enabled?(s.render(e,t),this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(e,s.renderTarget):this.blurPass.render(e,s.renderTarget,i)):this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(e,t):this.blurPass.render(e,t,i)}setSize(e,t){const r=this.resolution;r.setBaseSize(e,t),this.renderTarget.setSize(r.width,r.height),this.blurPass.resolution.copy(r),this.luminancePass.setSize(e,t),this.mipmapBlurPass.setSize(e,t)}initialize(e,t,r){this.blurPass.initialize(e,t,r),this.luminancePass.initialize(e,t,r),this.mipmapBlurPass.initialize(e,t,r),r!==void 0&&(this.renderTarget.texture.type=r,e!==null&&e.outputColorSpace===Pe&&(this.renderTarget.texture.colorSpace=Pe))}},_l=class extends Fe{constructor(e,t="inputBuffer"){super("ShaderPass"),this.fullscreenMaterial=e,this.input=t}setInput(e){this.input=e}render(e,t,r,i,s){const n=this.fullscreenMaterial.uniforms;t!==null&&n!==void 0&&n[this.input]!==void 0&&(n[this.input].value=t.texture),e.setRenderTarget(this.renderToScreen?null:r),e.render(this.scene,this.camera)}initialize(e,t,r){r!==void 0&&r!==Kt&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},gs=class extends Fe{constructor(e,t,r=null){super("RenderPass",e,t),this.needsSwap=!1,this.clearPass=new ds,this.overrideMaterialManager=r===null?null:new Os(r),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(e){this.scene=e}set mainCamera(e){this.camera=e}get renderToScreen(){return super.renderToScreen}set renderToScreen(e){super.renderToScreen=e,this.clearPass.renderToScreen=e}get overrideMaterial(){const e=this.overrideMaterialManager;return e!==null?e.material:null}set overrideMaterial(e){const t=this.overrideMaterialManager;e!==null?t!==null?t.setMaterial(e):this.overrideMaterialManager=new Os(e):t!==null&&(t.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(e){this.overrideMaterial=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getSelection(){return this.selection}setSelection(e){this.selection=e}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(e){this.ignoreBackground=e}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(e){this.skipShadowMapUpdate=e}getClearPass(){return this.clearPass}render(e,t,r,i,s){const n=this.scene,a=this.camera,o=this.selection,c=a.layers.mask,d=n.background,v=e.shadowMap.autoUpdate,p=this.renderToScreen?null:t;o!==null&&a.layers.set(o.getLayer()),this.skipShadowMapUpdate&&(e.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(n.background=null),this.clearPass.enabled&&this.clearPass.render(e,t),e.setRenderTarget(p),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(e,n,a):e.render(n,a),a.layers.mask=c,n.background=d,e.shadowMap.autoUpdate=v}},Lr={KEEP_MAX_DEPTH:1,DISCARD_MAX_DEPTH:2},yl=class extends Fe{constructor(e,t,{renderTarget:r,resolutionScale:i=1,width:s=be.AUTO_SIZE,height:n=be.AUTO_SIZE,resolutionX:a=s,resolutionY:o=n}={}){super("DepthPass"),this.needsSwap=!1,this.renderPass=new gs(e,t,new wa({depthPacking:xn}));const c=this.renderPass;c.skipShadowMapUpdate=!0,c.ignoreBackground=!0,this.renderTarget=r,this.renderTarget===void 0&&(this.renderTarget=new dt(1,1,{minFilter:Pr,magFilter:Pr}),this.renderTarget.texture.name="DepthPass.Target");const d=this.resolution=new be(this,a,o,i);d.addEventListener("change",v=>this.setSize(d.baseWidth,d.baseHeight))}set mainScene(e){this.renderPass.mainScene=e}set mainCamera(e){this.renderPass.mainCamera=e}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,r,i,s){const n=this.renderToScreen?null:this.renderTarget;this.renderPass.render(e,n)}setSize(e,t){const r=this.resolution;r.setBaseSize(e,t),this.renderTarget.setSize(r.width,r.height)}initialize(e,t,r){const i=e.capabilities.reversedDepthBuffer?0:16777215,s=this.renderPass.clearPass;s.overrideClearColor=new Ui(i),s.overrideClearAlpha=1}},bl=`#include <common>
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer0;uniform highp sampler2D depthBuffer1;
#else
uniform mediump sampler2D depthBuffer0;uniform mediump sampler2D depthBuffer1;
#endif
uniform sampler2D inputBuffer;uniform vec2 cameraNearFar;float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#else
return orthographicDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#endif
}varying vec2 vUv;void main(){vec2 depth;
#if DEPTH_PACKING_0 == 3201
depth.x=unpackRGBAToDepth(texture2D(depthBuffer0,vUv));
#else
depth.x=texture2D(depthBuffer0,vUv).r;
#endif
#if DEPTH_PACKING_1 == 3201
depth.y=unpackRGBAToDepth(texture2D(depthBuffer1,vUv));
#else
depth.y=texture2D(depthBuffer1,vUv).r;
#endif
#if defined(USE_LOGARITHMIC_DEPTH_BUFFER) || defined(LOG_DEPTH)
float a=cameraNearFar.y/(cameraNearFar.y-cameraNearFar.x);float b=cameraNearFar.y*cameraNearFar.x/(cameraNearFar.x-cameraNearFar.y);float c=log2(cameraNearFar.y+1.0);float d=pow(2.0,depth.x*c)-1.0;depth.x=a+b/d;d=pow(2.0,depth.y*c)-1.0;depth.y=a+b/d;
#elif defined(USE_REVERSED_DEPTH_BUFFER)
depth.x=1.0-depth.x;depth.y=1.0-depth.y;
#endif
bool isMaxDepth=(depth.x==1.0);
#ifdef PERSPECTIVE_CAMERA
depth.x=viewZToOrthographicDepth(getViewZ(depth.x),cameraNearFar.x,cameraNearFar.y);depth.y=viewZToOrthographicDepth(getViewZ(depth.y),cameraNearFar.x,cameraNearFar.y);
#endif
#if DEPTH_TEST_STRATEGY == 0
bool keep=depthTest(depth.x,depth.y);
#elif DEPTH_TEST_STRATEGY == 1
bool keep=isMaxDepth||depthTest(depth.x,depth.y);
#else
bool keep=!isMaxDepth&&depthTest(depth.x,depth.y);
#endif
if(keep){gl_FragColor=texture2D(inputBuffer,vUv);}else{discard;}}`,Sl=class extends Nt{constructor(){super({name:"DepthMaskMaterial",defines:{DEPTH_EPSILON:"0.0001",DEPTH_PACKING_0:"0",DEPTH_PACKING_1:"0",DEPTH_TEST_STRATEGY:Lr.KEEP_MAX_DEPTH},uniforms:{inputBuffer:new L(null),depthBuffer0:new L(null),depthBuffer1:new L(null),cameraNearFar:new L(new Me(1,1))},blending:Qt,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:bl,vertexShader:fs}),this.depthMode=Ms}set depthBuffer0(e){this.uniforms.depthBuffer0.value=e}set depthPacking0(e){this.defines.DEPTH_PACKING_0=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer0(e,t=kt){this.depthBuffer0=e,this.depthPacking0=t}set depthBuffer1(e){this.uniforms.depthBuffer1.value=e}set depthPacking1(e){this.defines.DEPTH_PACKING_1=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer1(e,t=kt){this.depthBuffer1=e,this.depthPacking1=t}get maxDepthStrategy(){return Number(this.defines.DEPTH_TEST_STRATEGY)}set maxDepthStrategy(e){this.defines.DEPTH_TEST_STRATEGY=e.toFixed(0),this.needsUpdate=!0}get keepFar(){return this.maxDepthStrategy}set keepFar(e){this.maxDepthStrategy=e?Lr.KEEP_MAX_DEPTH:Lr.DISCARD_MAX_DEPTH}getMaxDepthStrategy(){return this.maxDepthStrategy}setMaxDepthStrategy(e){this.maxDepthStrategy=e}get epsilon(){return Number(this.defines.DEPTH_EPSILON)}set epsilon(e){this.defines.DEPTH_EPSILON=e.toFixed(16),this.needsUpdate=!0}getEpsilon(){return this.epsilon}setEpsilon(e){this.epsilon=e}get depthMode(){return Number(this.defines.DEPTH_MODE)}set depthMode(e){let t;switch(e){case Ca:t="false";break;case En:t="true";break;case Qi:t="abs(d1 - d0) <= DEPTH_EPSILON";break;case _n:t="abs(d1 - d0) > DEPTH_EPSILON";break;case Ms:t="d0 > d1";break;case Da:t="d0 >= d1";break;case Ra:t="d0 <= d1";break;case Pa:default:t="d0 < d1";break}this.defines.DEPTH_MODE=e.toFixed(0),this.defines["depthTest(d0, d1)"]=t,this.needsUpdate=!0}getDepthMode(){return this.depthMode}setDepthMode(e){this.depthMode=e}adoptCameraSettings(e){this.copyCameraSettings(e)}copyCameraSettings(e){e&&(this.uniforms.cameraNearFar.value.set(e.near,e.far),e instanceof Tn?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},Tl=class extends xl{constructor(e,t,r){super(r),this.setAttributes(this.getAttributes()|qt.DEPTH),this.camera=t,this.depthPass=new yl(e,t),this.clearPass=new ds(!0,!1,!1),this.clearPass.overrideClearColor=new Ui(0),this.depthMaskPass=new _l(new Sl);const i=this.depthMaskMaterial;i.copyCameraSettings(t),i.depthBuffer1=this.depthPass.texture,i.depthPacking1=xn,i.depthMode=Qi,this.renderTargetMasked=new dt(1,1,{depthBuffer:!1}),this.renderTargetMasked.texture.name="Bloom.Masked",this.selection=new So,this._inverted=!1,this._ignoreBackground=!1}set mainScene(e){this.depthPass.mainScene=e}set mainCamera(e){this.camera=e,this.depthPass.mainCamera=e,this.depthMaskMaterial.copyCameraSettings(e)}getSelection(){return this.selection}get depthMaskMaterial(){return this.depthMaskPass.fullscreenMaterial}get inverted(){return this._inverted}set inverted(e){this._inverted=e,this.depthMaskMaterial.depthMode=e?_n:Qi}isInverted(){return this.inverted}setInverted(e){this.inverted=e}get ignoreBackground(){return this._ignoreBackground}set ignoreBackground(e){this._ignoreBackground=e,this.depthMaskMaterial.maxDepthStrategy=e?Lr.DISCARD_MAX_DEPTH:Lr.KEEP_MAX_DEPTH}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(e){this.ignoreBackground=e}setDepthTexture(e,t=kt){this.depthMaskMaterial.depthBuffer0=e,this.depthMaskMaterial.depthPacking0=t}update(e,t,r){const i=this.camera,s=this.selection,n=this.inverted;let a=t;if(this.ignoreBackground||!n||s.size>0){const o=i.layers.mask;i.layers.set(s.layer),this.depthPass.render(e),i.layers.mask=o,a=this.renderTargetMasked,this.clearPass.render(e,a),this.depthMaskPass.render(e,t,a)}super.update(e,a,r)}setSize(e,t){super.setSize(e,t),this.renderTargetMasked.setSize(e,t),this.depthPass.setSize(e,t)}initialize(e,t,r){super.initialize(e,t,r),this.clearPass.initialize(e,t,r),this.depthPass.initialize(e,t,r),this.depthMaskPass.initialize(e,t,r),e!==null&&e.capabilities.logarithmicDepthBuffer&&(this.depthMaskPass.fullscreenMaterial.defines.LOG_DEPTH="1"),r!==void 0&&(this.renderTargetMasked.texture.type=r,e!==null&&e.outputColorSpace===Pe&&(this.renderTargetMasked.texture.colorSpace=Pe))}},El=`#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
#ifdef DOWNSAMPLE_NORMALS
uniform lowp sampler2D normalBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}int findBestDepth(const in float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])*0.25;float distances[4];distances[0]=abs(c-samples[0]);distances[1]=abs(c-samples[1]);distances[2]=abs(c-samples[2]);distances[3]=abs(c-samples[3]);float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){float d[4];d[0]=readDepth(vUv0);d[1]=readDepth(vUv1);d[2]=readDepth(vUv2);d[3]=readDepth(vUv3);int index=findBestDepth(d);
#ifdef DOWNSAMPLE_NORMALS
vec3 n[4];n[0]=texture2D(normalBuffer,vUv0).rgb;n[1]=texture2D(normalBuffer,vUv1).rgb;n[2]=texture2D(normalBuffer,vUv2).rgb;n[3]=texture2D(normalBuffer,vUv3).rgb;
#else
vec3 n[4];n[0]=vec3(0.0);n[1]=vec3(0.0);n[2]=vec3(0.0);n[3]=vec3(0.0);
#endif
gl_FragColor=vec4(n[index],d[index]);}`,wl="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}",Ml=class extends Nt{constructor(){super({name:"DepthDownsamplingMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new L(null),normalBuffer:new L(null),texelSize:new L(new Me)},blending:Qt,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:El,vertexShader:wl})}set depthBuffer(e){this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=kt){this.depthBuffer=e,this.depthPacking=t}set normalBuffer(e){this.uniforms.normalBuffer.value=e,e!==null?this.defines.DOWNSAMPLE_NORMALS="1":delete this.defines.DOWNSAMPLE_NORMALS,this.needsUpdate=!0}setNormalBuffer(e){this.normalBuffer=e}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t)}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}},Pl=class extends Fe{constructor({normalBuffer:e=null,resolutionScale:t=.5,width:r=be.AUTO_SIZE,height:i=be.AUTO_SIZE,resolutionX:s=r,resolutionY:n=i}={}){super("DepthDownsamplingPass");const a=new Ml;a.normalBuffer=e,this.fullscreenMaterial=a,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new dt(1,1,{minFilter:Pr,magFilter:Pr,depthBuffer:!1,type:ba}),this.renderTarget.texture.name="DepthDownsamplingPass.Target",this.renderTarget.texture.generateMipmaps=!1;const o=this.resolution=new be(this,s,n,t);o.addEventListener("change",c=>this.setSize(o.baseWidth,o.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}setDepthTexture(e,t=kt){this.fullscreenMaterial.depthBuffer=e,this.fullscreenMaterial.depthPacking=t}render(e,t,r,i,s){e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){const r=this.resolution;r.setBaseSize(e,t),this.renderTarget.setSize(r.width,r.height),this.fullscreenMaterial.setSize(e,t)}initialize(e,t,r){const i=e.getContext();if(!(i.getExtension("EXT_color_buffer_float")||i.getExtension("EXT_color_buffer_half_float")))throw new Error("Rendering to float texture is not supported.")}},Rl=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
float depth=unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
float depth=texture2D(depthBuffer,uv).r;
#endif
#if defined(USE_LOGARITHMIC_DEPTH_BUFFER) || defined(LOG_DEPTH)
float d=pow(2.0,depth*log2(cameraFar+1.0))-1.0;float a=cameraFar/(cameraFar-cameraNear);float b=cameraFar*cameraNear/(cameraNear-cameraFar);depth=a+b/d;
#elif defined(USE_REVERSED_DEPTH_BUFFER)
depth=1.0-depth;
#endif
return depth;}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEAD void main(){FRAGMENT_MAIN_UV vec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGE color0.a=clamp(color0.a,0.0,1.0);gl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <colorspace_fragment>
#endif
#include <dithering_fragment>
}`,Dl="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEAD void main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORT gl_Position=vec4(position.xy,1.0,1.0);}",Cl=class extends Nt{constructor(e,t,r,i,s=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:Sn.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new L(null),depthBuffer:new L(null),resolution:new L(new Me),texelSize:new L(new Me),cameraNear:new L(.3),cameraFar:new L(1e3),aspect:new L(1),time:new L(0)},blending:Qt,toneMapped:!1,depthWrite:!1,depthTest:!1,dithering:s}),e&&this.setShaderParts(e),t&&this.setDefines(t),r&&this.setUniforms(r),this.copyCameraSettings(i)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(e){this.uniforms.depthBuffer.value=e}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=kt){this.depthBuffer=e,this.depthPacking=t}setShaderData(e){this.setShaderParts(e.shaderParts),this.setDefines(e.defines),this.setUniforms(e.uniforms),this.setExtensions(e.extensions)}setShaderParts(e){return this.fragmentShader=Rl.replace(W.FRAGMENT_HEAD,e.get(W.FRAGMENT_HEAD)||"").replace(W.FRAGMENT_MAIN_UV,e.get(W.FRAGMENT_MAIN_UV)||"").replace(W.FRAGMENT_MAIN_IMAGE,e.get(W.FRAGMENT_MAIN_IMAGE)||""),this.vertexShader=Dl.replace(W.VERTEX_HEAD,e.get(W.VERTEX_HEAD)||"").replace(W.VERTEX_MAIN_SUPPORT,e.get(W.VERTEX_MAIN_SUPPORT)||""),this.needsUpdate=!0,this}setDefines(e){for(const t of e.entries())this.defines[t[0]]=t[1];return this.needsUpdate=!0,this}setUniforms(e){for(const t of e.entries())this.uniforms[t[0]]=t[1];return this}setExtensions(e){this.extensions={};for(const t of e)this.extensions[t]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(e){this.encodeOutput!==e&&(e?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(e){return this.encodeOutput}setOutputEncodingEnabled(e){this.encodeOutput=e}get time(){return this.uniforms.time.value}set time(e){this.uniforms.time.value=e}setDeltaTime(e){this.uniforms.time.value+=e}adoptCameraSettings(e){this.copyCameraSettings(e)}copyCameraSettings(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof Tn?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(e,t){const r=this.uniforms;r.resolution.value.set(e,t),r.texelSize.value.set(1/e,1/t),r.aspect.value=e/t}static get Section(){return W}};function Fs(e,t,r){for(const i of t){const s="$1"+e+i.charAt(0).toUpperCase()+i.slice(1),n=new RegExp("([^\\.])(\\b"+i+"\\b)","g");for(const a of r.entries())a[1]!==null&&r.set(a[0],a[1].replace(n,s))}}function Bl(e,t,r){let i=t.getFragmentShader(),s=t.getVertexShader();const n=i!==void 0&&/mainImage/.test(i),a=i!==void 0&&/mainUv/.test(i);if(r.attributes|=t.getAttributes(),i===void 0)throw new Error(`Missing fragment shader (${t.name})`);if(a&&(r.attributes&qt.CONVOLUTION)!==0)throw new Error(`Effects that transform UVs are incompatible with convolution effects (${t.name})`);if(!n&&!a)throw new Error(`Could not find mainImage or mainUv function (${t.name})`);{const o=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,c=r.shaderParts;let d=c.get(W.FRAGMENT_HEAD)||"",v=c.get(W.FRAGMENT_MAIN_UV)||"",p=c.get(W.FRAGMENT_MAIN_IMAGE)||"",g=c.get(W.VERTEX_HEAD)||"",u=c.get(W.VERTEX_MAIN_SUPPORT)||"";const m=new Set,B=new Set;if(a&&(v+=`	${e}MainUv(UV);
`,r.uvTransformation=!0),s!==null&&/mainSupport/.test(s)){const E=/mainSupport *\([\w\s]*?uv\s*?\)/.test(s);u+=`	${e}MainSupport(`,u+=E?`vUv);
`:`);
`;for(const y of s.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const S of y[1].split(/\s*,\s*/))r.varyings.add(S),m.add(S),B.add(S);for(const y of s.matchAll(o))B.add(y[1])}for(const E of i.matchAll(o))B.add(E[1]);for(const E of t.defines.keys())B.add(E.replace(/\([\w\s,]*\)/g,""));for(const E of t.uniforms.keys())B.add(E);B.delete("while"),B.delete("for"),B.delete("if"),t.uniforms.forEach((E,y)=>r.uniforms.set(e+y.charAt(0).toUpperCase()+y.slice(1),E)),t.defines.forEach((E,y)=>r.defines.set(e+y.charAt(0).toUpperCase()+y.slice(1),E));const C=new Map([["fragment",i],["vertex",s]]);Fs(e,B,r.defines),Fs(e,B,C),i=C.get("fragment"),s=C.get("vertex");const R=t.blendMode;if(r.blendModes.set(R.blendFunction,R),n){t.inputColorSpace!==null&&t.inputColorSpace!==r.colorSpace&&(p+=t.inputColorSpace===Pe?`color0 = sRGBTransferOETF(color0);
	`:`color0 = sRGBToLinear(color0);
	`),t.outputColorSpace!==vn?r.colorSpace=t.outputColorSpace:t.inputColorSpace!==null&&(r.colorSpace=t.inputColorSpace);const E=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;p+=`${e}MainImage(color0, UV, `,(r.attributes&qt.DEPTH)!==0&&E.test(i)&&(p+="depth, ",r.readDepth=!0),p+=`color1);
	`;const y=e+"BlendOpacity";r.uniforms.set(y,R.opacity),p+=`color0 = blend${R.blendFunction}(color0, color1, ${y});

	`,d+=`uniform float ${y};

`}if(d+=i+`
`,s!==null&&(g+=s+`
`),c.set(W.FRAGMENT_HEAD,d),c.set(W.FRAGMENT_MAIN_UV,v),c.set(W.FRAGMENT_MAIN_IMAGE,p),c.set(W.VERTEX_HEAD,g),c.set(W.VERTEX_MAIN_SUPPORT,u),t.extensions!==null)for(const E of t.extensions)r.extensions.add(E)}}var Al=class extends Fe{constructor(e,...t){super("EffectPass"),this.fullscreenMaterial=new Cl(null,null,null,e),this.listener=r=>this.handleEvent(r),this.effects=[],this.setEffects(t),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(e){for(const t of this.effects)t.mainScene=e}set mainCamera(e){this.fullscreenMaterial.copyCameraSettings(e);for(const t of this.effects)t.mainCamera=e}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(e){this.fullscreenMaterial.encodeOutput=e}get dithering(){return this.fullscreenMaterial.dithering}set dithering(e){const t=this.fullscreenMaterial;t.dithering=e,t.needsUpdate=!0}setEffects(e){for(const t of this.effects)t.removeEventListener("change",this.listener);this.effects=e.sort((t,r)=>r.attributes-t.attributes);for(const t of this.effects)t.addEventListener("change",this.listener)}updateMaterial(){const e=new yo;let t=0;for(const a of this.effects)if(a.blendMode.blendFunction===H.DST)e.attributes|=a.getAttributes()&qt.DEPTH;else{if((e.attributes&a.getAttributes()&qt.CONVOLUTION)!==0)throw new Error(`Convolution effects cannot be merged (${a.name})`);Bl("e"+t++,a,e)}let r=e.shaderParts.get(W.FRAGMENT_HEAD),i=e.shaderParts.get(W.FRAGMENT_MAIN_IMAGE),s=e.shaderParts.get(W.FRAGMENT_MAIN_UV);const n=/\bblend\b/g;for(const a of e.blendModes.values())r+=a.getShaderCode().replace(n,`blend${a.blendFunction}`)+`
`;(e.attributes&qt.DEPTH)!==0?(e.readDepth&&(i=`float depth = readDepth(UV);

	`+i),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,e.colorSpace===Pe&&(i+=`color0 = sRGBToLinear(color0);
	`),e.uvTransformation?(s=`vec2 transformedUv = vUv;
`+s,e.defines.set("UV","transformedUv")):e.defines.set("UV","vUv"),e.shaderParts.set(W.FRAGMENT_HEAD,r),e.shaderParts.set(W.FRAGMENT_MAIN_IMAGE,i),e.shaderParts.set(W.FRAGMENT_MAIN_UV,s);for(const[a,o]of e.shaderParts)o!==null&&e.shaderParts.set(a,o.trim().replace(/^#/,`
#`));this.skipRendering=t===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(e)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(e,t=kt){this.fullscreenMaterial.depthBuffer=e,this.fullscreenMaterial.depthPacking=t;for(const r of this.effects)r.setDepthTexture(e,t)}render(e,t,r,i,s){for(const n of this.effects)n.update(e,t,i);if(!this.skipRendering||this.renderToScreen){const n=this.fullscreenMaterial;n.inputBuffer=t.texture,n.time+=i*this.timeScale,e.setRenderTarget(this.renderToScreen?null:r),e.render(this.scene,this.camera)}}setSize(e,t){this.fullscreenMaterial.setSize(e,t);for(const r of this.effects)r.setSize(e,t)}initialize(e,t,r){this.renderer=e;for(const i of this.effects)i.initialize(e,t,r);this.updateMaterial(),r!==void 0&&r!==Kt&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const e of this.effects)e.removeEventListener("change",this.listener),e.dispose()}handleEvent(e){switch(e.type){case"change":this.recompile();break}}},Ul=class extends Fe{constructor(e,t,{renderTarget:r,resolutionScale:i=1,width:s=be.AUTO_SIZE,height:n=be.AUTO_SIZE,resolutionX:a=s,resolutionY:o=n}={}){super("NormalPass"),this.needsSwap=!1,this.renderPass=new gs(e,t,new ya);const c=this.renderPass;c.ignoreBackground=!0,c.skipShadowMapUpdate=!0;const d=c.getClearPass();d.overrideClearColor=new Ui(7829503),d.overrideClearAlpha=1,this.renderTarget=r,this.renderTarget===void 0&&(this.renderTarget=new dt(1,1,{minFilter:Pr,magFilter:Pr}),this.renderTarget.texture.name="NormalPass.Target");const v=this.resolution=new be(this,a,o,i);v.addEventListener("change",p=>this.setSize(v.baseWidth,v.baseHeight))}set mainScene(e){this.renderPass.mainScene=e}set mainCamera(e){this.renderPass.mainCamera=e}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,r,i,s){const n=this.renderToScreen?null:this.renderTarget;this.renderPass.render(e,n,n)}setSize(e,t){const r=this.resolution;r.setBaseSize(e,t),this.renderTarget.setSize(r.width,r.height)}};function Gr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}new Me;new Me;function Bn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ct=function e(t,r,i){var s=this;Bn(this,e),Gr(this,"dot2",function(n,a){return s.x*n+s.y*a}),Gr(this,"dot3",function(n,a,o){return s.x*n+s.y*a+s.z*o}),this.x=t,this.y=r,this.z=i},Il=[new ct(1,1,0),new ct(-1,1,0),new ct(1,-1,0),new ct(-1,-1,0),new ct(1,0,1),new ct(-1,0,1),new ct(1,0,-1),new ct(-1,0,-1),new ct(0,1,1),new ct(0,-1,1),new ct(0,1,-1),new ct(0,-1,-1)],Hs=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],Ls=new Array(512),Gs=new Array(512),kl=function(t){t>0&&t<1&&(t*=65536),t=Math.floor(t),t<256&&(t|=t<<8);for(var r=0;r<256;r++){var i;r&1?i=Hs[r]^t&255:i=Hs[r]^t>>8&255,Ls[r]=Ls[r+256]=i,Gs[r]=Gs[r+256]=Il[i%12]}};kl(0);function Nl(e){if(typeof e=="number")e=Math.abs(e);else if(typeof e=="string"){var t=e;e=0;for(var r=0;r<t.length;r++)e=(e+(r+1)*(t.charCodeAt(r)%96))%2147483647}return e===0&&(e=311),e}function js(e){var t=Nl(e);return function(){var r=t*48271%2147483647;return t=r,r/2147483647}}var zl=function e(t){var r=this;Bn(this,e),Gr(this,"seed",0),Gr(this,"init",function(i){r.seed=i,r.value=js(i)}),Gr(this,"value",js(this.seed)),this.init(t)};new zl(Math.random());const Ol=_.createContext(null),An=_.createContext(null),Ws=e=>(e.getAttributes()&2)===2,Fl=_.memo(_.forwardRef(({children:e,camera:t,scene:r,resolutionScale:i,enabled:s=!0,renderPriority:n=1,autoClear:a=!0,depthBuffer:o,enableNormalPass:c,stencilBuffer:d,multisampling:v=8,frameBufferType:p=Ba},g)=>{const{gl:u,scene:m,camera:B,size:C}=dn(),R=r||m,E=t||B,[y,S,ue]=_.useMemo(()=>{const q=new _o(u,{depthBuffer:o,stencilBuffer:d,multisampling:v,frameBufferType:p});q.addPass(new gs(R,E));let ee=null,b=null;return c&&(b=new Ul(R,E),b.enabled=!1,q.addPass(b),i!==void 0&&(ee=new Pl({normalBuffer:b.texture,resolutionScale:i}),ee.enabled=!1,q.addPass(ee))),[q,b,ee]},[E,u,o,d,v,p,R,c,i]);_.useEffect(()=>y?.setSize(C.width,C.height),[y,C]),pn((q,ee)=>{if(s){const b=u.autoClear;u.autoClear=a,d&&!a&&u.clearStencil(),y.render(ee),u.autoClear=b}},s?n:0);const $=_.useRef(null);_.useLayoutEffect(()=>{const q=[],ee=$.current.__r3f;if(ee&&y){const b=ee.children;for(let Q=0;Q<b.length;Q++){const w=b[Q].object;if(w instanceof es){const at=[w];if(!Ws(w)){let me=null;for(;(me=b[Q+1]?.object)instanceof es&&!Ws(me);)at.push(me),Q++}const ne=new Al(E,...at);q.push(ne)}else w instanceof Fe&&q.push(w)}for(const Q of q)y?.addPass(Q);S&&(S.enabled=!0),ue&&(ue.enabled=!0)}return()=>{for(const b of q)y?.removePass(b);S&&(S.enabled=!1),ue&&(ue.enabled=!1)}},[y,e,E,S,ue]),_.useEffect(()=>{const q=u.toneMapping;return u.toneMapping=Aa,()=>{u.toneMapping=q}},[u]);const D=_.useMemo(()=>({composer:y,normalPass:S,downSamplingPass:ue,resolutionScale:i,camera:E,scene:R}),[y,S,ue,i,E,R]);return _.useImperativeHandle(g,()=>y,[y]),h.jsx(An.Provider,{value:D,children:h.jsx("group",{ref:$,children:e})})})),li=e=>typeof e=="object"&&e!=null&&"current"in e?e.current:e,Hl=(e,t)=>e.layers.enable(t.selection.layer),Ll=(e,t)=>e.layers.disable(t.selection.layer),Gl=_.forwardRef(function({selection:e=[],selectionLayer:t=10,lights:r=[],inverted:i=!1,ignoreBackground:s=!1,luminanceThreshold:n,luminanceSmoothing:a,intensity:o,width:c,height:d,kernelSize:v,mipmapBlur:p,...g},u){r.length===0&&console.warn("SelectiveBloom requires lights to work.");const m=dn(y=>y.invalidate),{scene:B,camera:C}=_.useContext(An),R=_.useMemo(()=>{const y=new Tl(B,C,{blendFunction:0,luminanceThreshold:n,luminanceSmoothing:a,intensity:o,width:c,height:d,kernelSize:v,mipmapBlur:p,...g});return y.inverted=i,y.ignoreBackground=s,y},[B,C,n,a,o,c,d,v,p,i,s,g]),E=_.useContext(Ol);return _.useEffect(()=>{if(!E&&e)return R.selection.set(Array.isArray(e)?e.map(li):[li(e)]),m(),()=>{R.selection.clear(),m()}},[R,e,E,m]),_.useEffect(()=>{R.selection.layer=t,m()},[R,m,t]),_.useEffect(()=>{if(r&&r.length>0)return r.forEach(y=>Hl(li(y),R)),m(),()=>{r.forEach(y=>Ll(li(y),R)),m()}},[R,m,r,t]),_.useEffect(()=>{if(E&&E.enabled&&E.selected?.length)return R.selection.set(E.selected),m(),()=>{R.selection.clear(),m()}},[E,R.selection,m]),h.jsx("primitive",{ref:u,object:R,dispose:null})}),jl=_.memo(function(t){const{nodes:r,materials:i}=gn("/models/optimized-room.glb"),s=_.useRef(),n=ua("/images/textures/mat1.png"),a=_.useMemo(()=>new xr({color:"#d90429"}),[]),o=_.useMemo(()=>new xr({map:n}),[n]),c=_.useMemo(()=>new xr({color:"#582f0e"}),[]),d=_.useMemo(()=>new xr({color:"#fff"}),[]),v=_.useMemo(()=>new Ua({color:"#fff"}),[]),p=_.useMemo(()=>new xr({color:"#8338ec"}),[]),g=_.useMemo(()=>new xr({color:"#000"}),[]);return h.jsxs("group",{...t,dispose:null,children:[h.jsx(Fl,{children:h.jsx(Gl,{selection:s,intensity:1,luminanceThreshold:.2,luminanceSmoothing:.9,blendFunction:H.ADD})}),h.jsx("mesh",{geometry:r._________6_blinn1_0.geometry,material:a}),h.jsx("mesh",{geometry:r.body1_blinn1_0.geometry,material:o}),h.jsx("mesh",{geometry:r.cabin_blinn1_0.geometry,material:c}),h.jsx("mesh",{geometry:r.chair_body_blinn1_0.geometry,material:g}),h.jsx("mesh",{geometry:r.comp_blinn1_0.geometry,material:v}),h.jsx("mesh",{ref:s,geometry:r.emis_lambert1_0.geometry,material:i.lambert1}),h.jsx("mesh",{geometry:r.handls_blinn1_0.geometry,material:i.blinn1}),h.jsx("mesh",{geometry:r.keyboard_blinn1_0.geometry,material:i.blinn1}),h.jsx("mesh",{geometry:r.kovrik_blinn1_0.geometry,material:i.blinn1}),h.jsx("mesh",{geometry:r.lamp_bl_blinn1_0.geometry,material:i.blinn1}),h.jsx("mesh",{geometry:r.lamp_white_blinn1_0.geometry,material:i.blinn1}),h.jsx("mesh",{geometry:r.miuse_blinn1_0.geometry,material:i.blinn1}),h.jsx("mesh",{geometry:r.monitor2_blinn1_0.geometry,material:i.blinn1}),h.jsx("mesh",{geometry:r.monitor3_blinn1_0.geometry,material:i.blinn1}),h.jsx("mesh",{geometry:r.pCylinder5_blinn1_0.geometry,material:i.blinn1}),h.jsx("mesh",{geometry:r.pillows_blinn1_0.geometry,material:p}),h.jsx("mesh",{geometry:r.polySurface53_blinn1_0.geometry,material:i.blinn1}),h.jsx("mesh",{geometry:r.radiator_blinn1_0.geometry,material:d}),h.jsx("mesh",{geometry:r.radiator_blinn1_0001.geometry,material:i.blinn1}),h.jsx("mesh",{geometry:r.railing_blinn1_0.geometry,material:i.blinn1}),h.jsx("mesh",{geometry:r.red_bttns_blinn1_0.geometry,material:i.blinn1}),h.jsx("mesh",{geometry:r.red_vac_blinn1_0.geometry,material:i.blinn1}),h.jsx("mesh",{geometry:r.stylus_blinn1_0.geometry,material:i.blinn1}),h.jsx("mesh",{geometry:r.table_blinn1_0.geometry,material:c}),h.jsx("mesh",{geometry:r.tablet_blinn1_0.geometry,material:i.blinn1}),h.jsx("mesh",{geometry:r.triangle_blinn1_0.geometry,material:i.blinn1}),h.jsx("mesh",{geometry:r.vac_black_blinn1_0.geometry,material:i.blinn1}),h.jsx("mesh",{geometry:r.vacuum1_blinn1_0.geometry,material:i.blinn1}),h.jsx("mesh",{geometry:r.vacuumgrey_blinn1_0.geometry,material:i.blinn1}),h.jsx("mesh",{geometry:r.vires_blinn1_0.geometry,material:i.blinn1}),h.jsx("mesh",{geometry:r.window_blinn1_0.geometry,material:i.blinn1}),h.jsx("mesh",{geometry:r.window4_phong1_0.geometry,material:i.phong1})]})});gn.preload("/models/optimized-room.glb");const Un=_.memo(()=>h.jsxs(h.Fragment,{children:[h.jsx("spotLight",{position:[2,5,6],angle:.15,penumbra:.2,intensity:100,color:"white"}),h.jsx(ha,{position:[-1,5,6],angle:.15,penumbra:.2,intensity:100,color:"white"}),h.jsx("spotLight",{position:[4,5,4],angle:.3,penumbra:.5,intensity:40,color:"#4cc9f0"}),h.jsx("spotLight",{position:[-3,5,5],angle:.4,penumbra:1,intensity:60,color:"#9d4edd"}),h.jsx("primitive",{object:new Ia("#a259ff",8,3,2),position:[1,3,4],rotation:[-Math.PI/4,Math.PI/4,0],intensity:15}),h.jsx("pointLight",{position:[0,1,0],intensity:10,color:"#7209b7"}),h.jsx("pointLight",{position:[1,2,-2],intensity:10,color:"#0d00a4"})]}));Un.displayName="HeroLights";const In=_.memo(({count:e=200})=>{const t=_.useRef(),r=_.useMemo(()=>{const s=[];for(let n=0;n<e;n++)s.push({position:[(Math.random()-.5)*10,Math.random()*10+5,(Math.random()-.5)*10],speed:.005+Math.random()*.001});return s},[e]),i=_.useMemo(()=>{const s=new Float32Array(e*3);return r.forEach((n,a)=>{s[a*3]=n.position[0],s[a*3+1]=n.position[1],s[a*3+2]=n.position[2]}),s},[e,r]);return pn(()=>{if(!t.current)return;const s=t.current.geometry.attributes.position.array;for(let n=0;n<e;n++){let a=s[n*3+1];a-=r[n].speed,a<-2&&(a=Math.random()*10+5),s[n*3+1]=a}t.current.geometry.attributes.position.needsUpdate=!0}),h.jsxs("points",{ref:t,children:[h.jsx("bufferGeometry",{children:h.jsx("bufferAttribute",{attach:"attributes-position",count:e,array:i,itemSize:3})}),h.jsx("pointsMaterial",{color:"#ffffff",size:.05,transparent:!0,opacity:.9,depthWrite:!1})]})});In.displayName="Particles";const kn=_.memo(({isActive:e=!0})=>{const t=Ns({query:"(max-width: 768px)"}),r=Ns({query:"(max-width: 1024px)"}),i=_.useMemo(()=>t?40:80,[t]);return h.jsxs(fa,{camera:{position:[0,0,15],fov:45},dpr:[1,1.5],gl:{antialias:!0,powerPreference:"high-performance"},frameloop:e?"always":"demand",children:[h.jsx("ambientLight",{intensity:.2,color:"#1a1a40"}),h.jsx(da,{enablePan:!1,enableZoom:!r,maxDistance:20,minDistance:5,minPolarAngle:Math.PI/5,maxPolarAngle:Math.PI/2,enableDamping:!0,dampingFactor:.05}),h.jsxs(_.Suspense,{fallback:null,children:[h.jsx(Un,{}),e&&h.jsx(In,{count:i}),h.jsx("group",{scale:t?.7:1,position:[0,-3.5,0],rotation:[0,-Math.PI/4,0],children:h.jsx(jl,{})})]})]})});kn.displayName="HeroExperience";let Vs=typeof document<"u"?_.useLayoutEffect:_.useEffect,Xs=e=>e&&!Array.isArray(e)&&typeof e=="object",ci=[],Wl={},Nn=Jr;const Ii=(e,t=ci)=>{let r=Wl;Xs(e)?(r=e,e=null,t="dependencies"in r?r.dependencies:ci):Xs(t)&&(r=t,t="dependencies"in r?r.dependencies:ci),e&&typeof e!="function"&&console.warn("First parameter must be a function or config object");const{scope:i,revertOnUpdate:s}=r,n=_.useRef(!1),a=_.useRef(Nn.context(()=>{},i)),o=_.useRef(d=>a.current.add(null,d)),c=t&&t.length&&!s;return c&&Vs(()=>(n.current=!0,()=>a.current.revert()),ci),Vs(()=>{if(e&&a.current.add(e,i),!c||!n.current)return()=>a.current.revert()},t),{context:a.current,contextSafe:o.current}};Ii.register=e=>{Nn=e};Ii.headless=!0;function Vl(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Xl(e,t,r){return t&&Vl(e.prototype,t),e}var Ce,Si,nt,Xt,Yt,Er,zn,ar,jr,On,Ut,_t,Fn,Hn=function(){return Ce||typeof window<"u"&&(Ce=window.gsap)&&Ce.registerPlugin&&Ce},Ln=1,Tr=[],z=[],wt=[],Wr=Date.now,ts=function(t,r){return r},Yl=function(){var t=jr.core,r=t.bridge||{},i=t._scrollers,s=t._proxies;i.push.apply(i,z),s.push.apply(s,wt),z=i,wt=s,ts=function(a,o){return r[a](o)}},$t=function(t,r){return~wt.indexOf(t)&&wt[wt.indexOf(t)+1][r]},Vr=function(t){return!!~On.indexOf(t)},Ve=function(t,r,i,s,n){return t.addEventListener(r,i,{passive:s!==!1,capture:!!n})},We=function(t,r,i,s){return t.removeEventListener(r,i,!!s)},ui="scrollLeft",hi="scrollTop",rs=function(){return Ut&&Ut.isPressed||z.cache++},Di=function(t,r){var i=function s(n){if(n||n===0){Ln&&(nt.history.scrollRestoration="manual");var a=Ut&&Ut.isPressed;n=s.v=Math.round(n)||(Ut&&Ut.iOS?1:0),t(n),s.cacheID=z.cache,a&&ts("ss",n)}else(r||z.cache!==s.cacheID||ts("ref"))&&(s.cacheID=z.cache,s.v=t());return s.v+s.offset};return i.offset=0,t&&i},Ke={s:ui,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Di(function(e){return arguments.length?nt.scrollTo(e,ye.sc()):nt.pageXOffset||Xt[ui]||Yt[ui]||Er[ui]||0})},ye={s:hi,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Ke,sc:Di(function(e){return arguments.length?nt.scrollTo(Ke.sc(),e):nt.pageYOffset||Xt[hi]||Yt[hi]||Er[hi]||0})},Qe=function(t,r){return(r&&r._ctx&&r._ctx.selector||Ce.utils.toArray)(t)[0]||(typeof t=="string"&&Ce.config().nullTargetWarn!==!1?console.warn("Element not found:",t):null)},ql=function(t,r){for(var i=r.length;i--;)if(r[i]===t||r[i].contains(t))return!0;return!1},Zt=function(t,r){var i=r.s,s=r.sc;Vr(t)&&(t=Xt.scrollingElement||Yt);var n=z.indexOf(t),a=s===ye.sc?1:2;!~n&&(n=z.push(t)-1),z[n+a]||Ve(t,"scroll",rs);var o=z[n+a],c=o||(z[n+a]=Di($t(t,i),!0)||(Vr(t)?s:Di(function(d){return arguments.length?t[i]=d:t[i]})));return c.target=t,o||(c.smooth=Ce.getProperty(t,"scrollBehavior")==="smooth"),c},is=function(t,r,i){var s=t,n=t,a=Wr(),o=a,c=r||50,d=Math.max(500,c*3),v=function(m,B){var C=Wr();B||C-a>c?(n=s,s=m,o=a,a=C):i?s+=m:s=n+(m-n)/(C-o)*(a-o)},p=function(){n=s=i?0:s,o=a=0},g=function(m){var B=o,C=n,R=Wr();return(m||m===0)&&m!==s&&v(m),a===o||R-o>d?0:(s+(i?C:-C))/((i?R:a)-B)*1e3};return{update:v,reset:p,getVelocity:g}},Ir=function(t,r){return r&&!t._gsapAllow&&t.preventDefault(),t.changedTouches?t.changedTouches[0]:t},Ys=function(t){var r=Math.max.apply(Math,t),i=Math.min.apply(Math,t);return Math.abs(r)>=Math.abs(i)?r:i},Gn=function(){jr=Ce.core.globals().ScrollTrigger,jr&&jr.core&&Yl()},jn=function(t){return Ce=t||Hn(),!Si&&Ce&&typeof document<"u"&&document.body&&(nt=window,Xt=document,Yt=Xt.documentElement,Er=Xt.body,On=[nt,Xt,Yt,Er],Ce.utils.clamp,Fn=Ce.core.context||function(){},ar="onpointerenter"in Er?"pointer":"mouse",zn=ce.isTouch=nt.matchMedia&&nt.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in nt||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,_t=ce.eventTypes=("ontouchstart"in Yt?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Yt?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return Ln=0},500),Gn(),Si=1),Si};Ke.op=ye;z.cache=0;var ce=(function(){function e(r){this.init(r)}var t=e.prototype;return t.init=function(i){Si||jn(Ce)||console.warn("Please gsap.registerPlugin(Observer)"),jr||Gn();var s=i.tolerance,n=i.dragMinimum,a=i.type,o=i.target,c=i.lineHeight,d=i.debounce,v=i.preventDefault,p=i.onStop,g=i.onStopDelay,u=i.ignore,m=i.wheelSpeed,B=i.event,C=i.onDragStart,R=i.onDragEnd,E=i.onDrag,y=i.onPress,S=i.onRelease,ue=i.onRight,$=i.onLeft,D=i.onUp,q=i.onDown,ee=i.onChangeX,b=i.onChangeY,Q=i.onChange,w=i.onToggleX,at=i.onToggleY,ne=i.onHover,me=i.onHoverEnd,He=i.onMove,K=i.ignoreCheck,he=i.isNormalizer,fe=i.onGestureStart,l=i.onGestureEnd,ve=i.onWheel,Jt=i.onEnable,zt=i.onDisable,ot=i.onClick,Mt=i.scrollSpeed,Be=i.capture,de=i.allowClicks,Le=i.lockAxis,Ae=i.onLockAxis;this.target=o=Qe(o)||Yt,this.vars=i,u&&(u=Ce.utils.toArray(u)),s=s||1e-9,n=n||0,m=m||1,Mt=Mt||1,a=a||"wheel,touch,pointer",d=d!==!1,c||(c=parseFloat(nt.getComputedStyle(Er).lineHeight)||22);var Ot,Ge,je,j,ae,Ze,Je,f=this,et=0,Pt=0,Ft=i.passive||!v&&i.passive!==!1,ie=Zt(o,Ke),Rt=Zt(o,ye),Ht=ie(),er=Rt(),Se=~a.indexOf("touch")&&!~a.indexOf("pointer")&&_t[0]==="pointerdown",Lt=Vr(o),oe=o.ownerDocument||Xt,pt=[0,0,0],lt=[0,0,0],Dt=0,Cr=function(){return Dt=Wr()},pe=function(P,V){return(f.event=P)&&u&&ql(P.target,u)||V&&Se&&P.pointerType!=="touch"||K&&K(P,V)},ri=function(){f._vx.reset(),f._vy.reset(),Ge.pause(),p&&p(f)},Ct=function(){var P=f.deltaX=Ys(pt),V=f.deltaY=Ys(lt),x=Math.abs(P)>=s,A=Math.abs(V)>=s;Q&&(x||A)&&Q(f,P,V,pt,lt),x&&(ue&&f.deltaX>0&&ue(f),$&&f.deltaX<0&&$(f),ee&&ee(f),w&&f.deltaX<0!=et<0&&w(f),et=f.deltaX,pt[0]=pt[1]=pt[2]=0),A&&(q&&f.deltaY>0&&q(f),D&&f.deltaY<0&&D(f),b&&b(f),at&&f.deltaY<0!=Pt<0&&at(f),Pt=f.deltaY,lt[0]=lt[1]=lt[2]=0),(j||je)&&(He&&He(f),je&&(C&&je===1&&C(f),E&&E(f),je=0),j=!1),Ze&&!(Ze=!1)&&Ae&&Ae(f),ae&&(ve(f),ae=!1),Ot=0},gr=function(P,V,x){pt[x]+=P,lt[x]+=V,f._vx.update(P),f._vy.update(V),d?Ot||(Ot=requestAnimationFrame(Ct)):Ct()},mr=function(P,V){Le&&!Je&&(f.axis=Je=Math.abs(P)>Math.abs(V)?"x":"y",Ze=!0),Je!=="y"&&(pt[2]+=P,f._vx.update(P,!0)),Je!=="x"&&(lt[2]+=V,f._vy.update(V,!0)),d?Ot||(Ot=requestAnimationFrame(Ct)):Ct()},Gt=function(P){if(!pe(P,1)){P=Ir(P,v);var V=P.clientX,x=P.clientY,A=V-f.x,M=x-f.y,U=f.isDragging;f.x=V,f.y=x,(U||(A||M)&&(Math.abs(f.startX-V)>=n||Math.abs(f.startY-x)>=n))&&(je||(je=U?2:1),U||(f.isDragging=!0),mr(A,M))}},tr=f.onPress=function(I){pe(I,1)||I&&I.button||(f.axis=Je=null,Ge.pause(),f.isPressed=!0,I=Ir(I),et=Pt=0,f.startX=f.x=I.clientX,f.startY=f.y=I.clientY,f._vx.reset(),f._vy.reset(),Ve(he?o:oe,_t[1],Gt,Ft,!0),f.deltaX=f.deltaY=0,y&&y(f))},O=f.onRelease=function(I){if(!pe(I,1)){We(he?o:oe,_t[1],Gt,!0);var P=!isNaN(f.y-f.startY),V=f.isDragging,x=V&&(Math.abs(f.x-f.startX)>3||Math.abs(f.y-f.startY)>3),A=Ir(I);!x&&P&&(f._vx.reset(),f._vy.reset(),v&&de&&Ce.delayedCall(.08,function(){if(Wr()-Dt>300&&!I.defaultPrevented){if(I.target.click)I.target.click();else if(oe.createEvent){var M=oe.createEvent("MouseEvents");M.initMouseEvent("click",!0,!0,nt,1,A.screenX,A.screenY,A.clientX,A.clientY,!1,!1,!1,!1,0,null),I.target.dispatchEvent(M)}}})),f.isDragging=f.isGesturing=f.isPressed=!1,p&&V&&!he&&Ge.restart(!0),je&&Ct(),R&&V&&R(f),S&&S(f,x)}},rr=function(P){return P.touches&&P.touches.length>1&&(f.isGesturing=!0)&&fe(P,f.isDragging)},gt=function(){return(f.isGesturing=!1)||l(f)},mt=function(P){if(!pe(P)){var V=ie(),x=Rt();gr((V-Ht)*Mt,(x-er)*Mt,1),Ht=V,er=x,p&&Ge.restart(!0)}},vt=function(P){if(!pe(P)){P=Ir(P,v),ve&&(ae=!0);var V=(P.deltaMode===1?c:P.deltaMode===2?nt.innerHeight:1)*m;gr(P.deltaX*V,P.deltaY*V,0),p&&!he&&Ge.restart(!0)}},ir=function(P){if(!pe(P)){var V=P.clientX,x=P.clientY,A=V-f.x,M=x-f.y;f.x=V,f.y=x,j=!0,p&&Ge.restart(!0),(A||M)&&mr(A,M)}},vr=function(P){f.event=P,ne(f)},Bt=function(P){f.event=P,me(f)},Br=function(P){return pe(P)||Ir(P,v)&&ot(f)};Ge=f._dc=Ce.delayedCall(g||.25,ri).pause(),f.deltaX=f.deltaY=0,f._vx=is(0,50,!0),f._vy=is(0,50,!0),f.scrollX=ie,f.scrollY=Rt,f.isDragging=f.isGesturing=f.isPressed=!1,Fn(this),f.enable=function(I){return f.isEnabled||(Ve(Lt?oe:o,"scroll",rs),a.indexOf("scroll")>=0&&Ve(Lt?oe:o,"scroll",mt,Ft,Be),a.indexOf("wheel")>=0&&Ve(o,"wheel",vt,Ft,Be),(a.indexOf("touch")>=0&&zn||a.indexOf("pointer")>=0)&&(Ve(o,_t[0],tr,Ft,Be),Ve(oe,_t[2],O),Ve(oe,_t[3],O),de&&Ve(o,"click",Cr,!0,!0),ot&&Ve(o,"click",Br),fe&&Ve(oe,"gesturestart",rr),l&&Ve(oe,"gestureend",gt),ne&&Ve(o,ar+"enter",vr),me&&Ve(o,ar+"leave",Bt),He&&Ve(o,ar+"move",ir)),f.isEnabled=!0,f.isDragging=f.isGesturing=f.isPressed=j=je=!1,f._vx.reset(),f._vy.reset(),Ht=ie(),er=Rt(),I&&I.type&&tr(I),Jt&&Jt(f)),f},f.disable=function(){f.isEnabled&&(Tr.filter(function(I){return I!==f&&Vr(I.target)}).length||We(Lt?oe:o,"scroll",rs),f.isPressed&&(f._vx.reset(),f._vy.reset(),We(he?o:oe,_t[1],Gt,!0)),We(Lt?oe:o,"scroll",mt,Be),We(o,"wheel",vt,Be),We(o,_t[0],tr,Be),We(oe,_t[2],O),We(oe,_t[3],O),We(o,"click",Cr,!0),We(o,"click",Br),We(oe,"gesturestart",rr),We(oe,"gestureend",gt),We(o,ar+"enter",vr),We(o,ar+"leave",Bt),We(o,ar+"move",ir),f.isEnabled=f.isPressed=f.isDragging=!1,zt&&zt(f))},f.kill=f.revert=function(){f.disable();var I=Tr.indexOf(f);I>=0&&Tr.splice(I,1),Ut===f&&(Ut=0)},Tr.push(f),he&&Vr(o)&&(Ut=f),f.enable(B)},Xl(e,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),e})();ce.version="3.14.2";ce.create=function(e){return new ce(e)};ce.register=jn;ce.getAll=function(){return Tr.slice()};ce.getById=function(e){return Tr.filter(function(t){return t.vars.id===e})[0]};Hn()&&Ce.registerPlugin(ce);var T,br,N,J,st,Y,ms,Ci,ei,Xr,Nr,fi,Ne,ki,ss,qe,qs,$s,Sr,Wn,Vi,Vn,Ye,ns,Xn,Yn,Vt,as,vs,wr,xs,Yr,os,Xi,di=1,ze=Date.now,Yi=ze(),ft=0,zr=0,Ks=function(t,r,i){var s=it(t)&&(t.substr(0,6)==="clamp("||t.indexOf("max")>-1);return i["_"+r+"Clamp"]=s,s?t.substr(6,t.length-7):t},Zs=function(t,r){return r&&(!it(t)||t.substr(0,6)!=="clamp(")?"clamp("+t+")":t},$l=function e(){return zr&&requestAnimationFrame(e)},Qs=function(){return ki=1},Js=function(){return ki=0},Tt=function(t){return t},Or=function(t){return Math.round(t*1e5)/1e5||0},qn=function(){return typeof window<"u"},$n=function(){return T||qn()&&(T=window.gsap)&&T.registerPlugin&&T},fr=function(t){return!!~ms.indexOf(t)},Kn=function(t){return(t==="Height"?xs:N["inner"+t])||st["client"+t]||Y["client"+t]},Zn=function(t){return $t(t,"getBoundingClientRect")||(fr(t)?function(){return Pi.width=N.innerWidth,Pi.height=xs,Pi}:function(){return At(t)})},Kl=function(t,r,i){var s=i.d,n=i.d2,a=i.a;return(a=$t(t,"getBoundingClientRect"))?function(){return a()[s]}:function(){return(r?Kn(n):t["client"+n])||0}},Zl=function(t,r){return!r||~wt.indexOf(t)?Zn(t):function(){return Pi}},Et=function(t,r){var i=r.s,s=r.d2,n=r.d,a=r.a;return Math.max(0,(i="scroll"+s)&&(a=$t(t,i))?a()-Zn(t)()[n]:fr(t)?(st[i]||Y[i])-Kn(s):t[i]-t["offset"+s])},pi=function(t,r){for(var i=0;i<Sr.length;i+=3)(!r||~r.indexOf(Sr[i+1]))&&t(Sr[i],Sr[i+1],Sr[i+2])},it=function(t){return typeof t=="string"},Oe=function(t){return typeof t=="function"},Fr=function(t){return typeof t=="number"},or=function(t){return typeof t=="object"},kr=function(t,r,i){return t&&t.progress(r?0:1)&&i&&t.pause()},qi=function(t,r){if(t.enabled){var i=t._ctx?t._ctx.add(function(){return r(t)}):r(t);i&&i.totalTime&&(t.callbackAnimation=i)}},_r=Math.abs,Qn="left",Jn="top",_s="right",ys="bottom",cr="width",ur="height",qr="Right",$r="Left",Kr="Top",Zr="Bottom",ge="padding",ut="margin",Rr="Width",bs="Height",_e="px",ht=function(t){return N.getComputedStyle(t)},Ql=function(t){var r=ht(t).position;t.style.position=r==="absolute"||r==="fixed"?r:"relative"},en=function(t,r){for(var i in r)i in t||(t[i]=r[i]);return t},At=function(t,r){var i=r&&ht(t)[ss]!=="matrix(1, 0, 0, 1, 0, 0)"&&T.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),s=t.getBoundingClientRect();return i&&i.progress(0).kill(),s},Bi=function(t,r){var i=r.d2;return t["offset"+i]||t["client"+i]||0},ea=function(t){var r=[],i=t.labels,s=t.duration(),n;for(n in i)r.push(i[n]/s);return r},Jl=function(t){return function(r){return T.utils.snap(ea(t),r)}},Ss=function(t){var r=T.utils.snap(t),i=Array.isArray(t)&&t.slice(0).sort(function(s,n){return s-n});return i?function(s,n,a){a===void 0&&(a=.001);var o;if(!n)return r(s);if(n>0){for(s-=a,o=0;o<i.length;o++)if(i[o]>=s)return i[o];return i[o-1]}else for(o=i.length,s+=a;o--;)if(i[o]<=s)return i[o];return i[0]}:function(s,n,a){a===void 0&&(a=.001);var o=r(s);return!n||Math.abs(o-s)<a||o-s<0==n<0?o:r(n<0?s-t:s+t)}},ec=function(t){return function(r,i){return Ss(ea(t))(r,i.direction)}},gi=function(t,r,i,s){return i.split(",").forEach(function(n){return t(r,n,s)})},we=function(t,r,i,s,n){return t.addEventListener(r,i,{passive:!s,capture:!!n})},Ee=function(t,r,i,s){return t.removeEventListener(r,i,!!s)},mi=function(t,r,i){i=i&&i.wheelHandler,i&&(t(r,"wheel",i),t(r,"touchmove",i))},tn={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},vi={toggleActions:"play",anticipatePin:0},Ai={top:0,left:0,center:.5,bottom:1,right:1},Ti=function(t,r){if(it(t)){var i=t.indexOf("="),s=~i?+(t.charAt(i-1)+1)*parseFloat(t.substr(i+1)):0;~i&&(t.indexOf("%")>i&&(s*=r/100),t=t.substr(0,i-1)),t=s+(t in Ai?Ai[t]*r:~t.indexOf("%")?parseFloat(t)*r/100:parseFloat(t)||0)}return t},xi=function(t,r,i,s,n,a,o,c){var d=n.startColor,v=n.endColor,p=n.fontSize,g=n.indent,u=n.fontWeight,m=J.createElement("div"),B=fr(i)||$t(i,"pinType")==="fixed",C=t.indexOf("scroller")!==-1,R=B?Y:i,E=t.indexOf("start")!==-1,y=E?d:v,S="border-color:"+y+";font-size:"+p+";color:"+y+";font-weight:"+u+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return S+="position:"+((C||c)&&B?"fixed;":"absolute;"),(C||c||!B)&&(S+=(s===ye?_s:ys)+":"+(a+parseFloat(g))+"px;"),o&&(S+="box-sizing:border-box;text-align:left;width:"+o.offsetWidth+"px;"),m._isStart=E,m.setAttribute("class","gsap-marker-"+t+(r?" marker-"+r:"")),m.style.cssText=S,m.innerText=r||r===0?t+"-"+r:t,R.children[0]?R.insertBefore(m,R.children[0]):R.appendChild(m),m._offset=m["offset"+s.op.d2],Ei(m,0,s,E),m},Ei=function(t,r,i,s){var n={display:"block"},a=i[s?"os2":"p2"],o=i[s?"p2":"os2"];t._isFlipped=s,n[i.a+"Percent"]=s?-100:0,n[i.a]=s?"1px":0,n["border"+a+Rr]=1,n["border"+o+Rr]=0,n[i.p]=r+"px",T.set(t,n)},k=[],ls={},ti,rn=function(){return ze()-ft>34&&(ti||(ti=requestAnimationFrame(It)))},yr=function(){(!Ye||!Ye.isPressed||Ye.startX>Y.clientWidth)&&(z.cache++,Ye?ti||(ti=requestAnimationFrame(It)):It(),ft||pr("scrollStart"),ft=ze())},$i=function(){Yn=N.innerWidth,Xn=N.innerHeight},Hr=function(t){z.cache++,(t===!0||!Ne&&!Vn&&!J.fullscreenElement&&!J.webkitFullscreenElement&&(!ns||Yn!==N.innerWidth||Math.abs(N.innerHeight-Xn)>N.innerHeight*.25))&&Ci.restart(!0)},dr={},tc=[],ta=function e(){return Ee(F,"scrollEnd",e)||lr(!0)},pr=function(t){return dr[t]&&dr[t].map(function(r){return r()})||tc},rt=[],ra=function(t){for(var r=0;r<rt.length;r+=5)(!t||rt[r+4]&&rt[r+4].query===t)&&(rt[r].style.cssText=rt[r+1],rt[r].getBBox&&rt[r].setAttribute("transform",rt[r+2]||""),rt[r+3].uncache=1)},ia=function(){return z.forEach(function(t){return Oe(t)&&++t.cacheID&&(t.rec=t())})},Ts=function(t,r){var i;for(qe=0;qe<k.length;qe++)i=k[qe],i&&(!r||i._ctx===r)&&(t?i.kill(1):i.revert(!0,!0));Yr=!0,r&&ra(r),r||pr("revert")},sa=function(t,r){z.cache++,(r||!$e)&&z.forEach(function(i){return Oe(i)&&i.cacheID++&&(i.rec=0)}),it(t)&&(N.history.scrollRestoration=vs=t)},$e,hr=0,sn,rc=function(){if(sn!==hr){var t=sn=hr;requestAnimationFrame(function(){return t===hr&&lr(!0)})}},na=function(){Y.appendChild(wr),xs=!Ye&&wr.offsetHeight||N.innerHeight,Y.removeChild(wr)},nn=function(t){return ei(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(r){return r.style.display=t?"none":"block"})},lr=function(t,r){if(st=J.documentElement,Y=J.body,ms=[N,J,st,Y],ft&&!t&&!Yr){we(F,"scrollEnd",ta);return}na(),$e=F.isRefreshing=!0,Yr||ia();var i=pr("refreshInit");Wn&&F.sort(),r||Ts(),z.forEach(function(s){Oe(s)&&(s.smooth&&(s.target.style.scrollBehavior="auto"),s(0))}),k.slice(0).forEach(function(s){return s.refresh()}),Yr=!1,k.forEach(function(s){if(s._subPinOffset&&s.pin){var n=s.vars.horizontal?"offsetWidth":"offsetHeight",a=s.pin[n];s.revert(!0,1),s.adjustPinSpacing(s.pin[n]-a),s.refresh()}}),os=1,nn(!0),k.forEach(function(s){var n=Et(s.scroller,s._dir),a=s.vars.end==="max"||s._endClamp&&s.end>n,o=s._startClamp&&s.start>=n;(a||o)&&s.setPositions(o?n-1:s.start,a?Math.max(o?n:s.start+1,n):s.end,!0)}),nn(!1),os=0,i.forEach(function(s){return s&&s.render&&s.render(-1)}),z.forEach(function(s){Oe(s)&&(s.smooth&&requestAnimationFrame(function(){return s.target.style.scrollBehavior="smooth"}),s.rec&&s(s.rec))}),sa(vs,1),Ci.pause(),hr++,$e=2,It(2),k.forEach(function(s){return Oe(s.vars.onRefresh)&&s.vars.onRefresh(s)}),$e=F.isRefreshing=!1,pr("refresh")},cs=0,wi=1,Qr,It=function(t){if(t===2||!$e&&!Yr){F.isUpdating=!0,Qr&&Qr.update(0);var r=k.length,i=ze(),s=i-Yi>=50,n=r&&k[0].scroll();if(wi=cs>n?-1:1,$e||(cs=n),s&&(ft&&!ki&&i-ft>200&&(ft=0,pr("scrollEnd")),Nr=Yi,Yi=i),wi<0){for(qe=r;qe-- >0;)k[qe]&&k[qe].update(0,s);wi=1}else for(qe=0;qe<r;qe++)k[qe]&&k[qe].update(0,s);F.isUpdating=!1}ti=0},us=[Qn,Jn,ys,_s,ut+Zr,ut+qr,ut+Kr,ut+$r,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Mi=us.concat([cr,ur,"boxSizing","max"+Rr,"max"+bs,"position",ut,ge,ge+Kr,ge+qr,ge+Zr,ge+$r]),ic=function(t,r,i){Mr(i);var s=t._gsap;if(s.spacerIsNative)Mr(s.spacerState);else if(t._gsap.swappedIn){var n=r.parentNode;n&&(n.insertBefore(t,r),n.removeChild(r))}t._gsap.swappedIn=!1},Ki=function(t,r,i,s){if(!t._gsap.swappedIn){for(var n=us.length,a=r.style,o=t.style,c;n--;)c=us[n],a[c]=i[c];a.position=i.position==="absolute"?"absolute":"relative",i.display==="inline"&&(a.display="inline-block"),o[ys]=o[_s]="auto",a.flexBasis=i.flexBasis||"auto",a.overflow="visible",a.boxSizing="border-box",a[cr]=Bi(t,Ke)+_e,a[ur]=Bi(t,ye)+_e,a[ge]=o[ut]=o[Jn]=o[Qn]="0",Mr(s),o[cr]=o["max"+Rr]=i[cr],o[ur]=o["max"+bs]=i[ur],o[ge]=i[ge],t.parentNode!==r&&(t.parentNode.insertBefore(r,t),r.appendChild(t)),t._gsap.swappedIn=!0}},sc=/([A-Z])/g,Mr=function(t){if(t){var r=t.t.style,i=t.length,s=0,n,a;for((t.t._gsap||T.core.getCache(t.t)).uncache=1;s<i;s+=2)a=t[s+1],n=t[s],a?r[n]=a:r[n]&&r.removeProperty(n.replace(sc,"-$1").toLowerCase())}},_i=function(t){for(var r=Mi.length,i=t.style,s=[],n=0;n<r;n++)s.push(Mi[n],i[Mi[n]]);return s.t=t,s},nc=function(t,r,i){for(var s=[],n=t.length,a=i?8:0,o;a<n;a+=2)o=t[a],s.push(o,o in r?r[o]:t[a+1]);return s.t=t.t,s},Pi={left:0,top:0},an=function(t,r,i,s,n,a,o,c,d,v,p,g,u,m){Oe(t)&&(t=t(c)),it(t)&&t.substr(0,3)==="max"&&(t=g+(t.charAt(4)==="="?Ti("0"+t.substr(3),i):0));var B=u?u.time():0,C,R,E;if(u&&u.seek(0),isNaN(t)||(t=+t),Fr(t))u&&(t=T.utils.mapRange(u.scrollTrigger.start,u.scrollTrigger.end,0,g,t)),o&&Ei(o,i,s,!0);else{Oe(r)&&(r=r(c));var y=(t||"0").split(" "),S,ue,$,D;E=Qe(r,c)||Y,S=At(E)||{},(!S||!S.left&&!S.top)&&ht(E).display==="none"&&(D=E.style.display,E.style.display="block",S=At(E),D?E.style.display=D:E.style.removeProperty("display")),ue=Ti(y[0],S[s.d]),$=Ti(y[1]||"0",i),t=S[s.p]-d[s.p]-v+ue+n-$,o&&Ei(o,$,s,i-$<20||o._isStart&&$>20),i-=i-$}if(m&&(c[m]=t||-.001,t<0&&(t=0)),a){var q=t+i,ee=a._isStart;C="scroll"+s.d2,Ei(a,q,s,ee&&q>20||!ee&&(p?Math.max(Y[C],st[C]):a.parentNode[C])<=q+1),p&&(d=At(o),p&&(a.style[s.op.p]=d[s.op.p]-s.op.m-a._offset+_e))}return u&&E&&(C=At(E),u.seek(g),R=At(E),u._caScrollDist=C[s.p]-R[s.p],t=t/u._caScrollDist*g),u&&u.seek(B),u?t:Math.round(t)},ac=/(webkit|moz|length|cssText|inset)/i,on=function(t,r,i,s){if(t.parentNode!==r){var n=t.style,a,o;if(r===Y){t._stOrig=n.cssText,o=ht(t);for(a in o)!+a&&!ac.test(a)&&o[a]&&typeof n[a]=="string"&&a!=="0"&&(n[a]=o[a]);n.top=i,n.left=s}else n.cssText=t._stOrig;T.core.getCache(t).uncache=1,r.appendChild(t)}},aa=function(t,r,i){var s=r,n=s;return function(a){var o=Math.round(t());return o!==s&&o!==n&&Math.abs(o-s)>3&&Math.abs(o-n)>3&&(a=o,i&&i()),n=s,s=Math.round(a),s}},yi=function(t,r,i){var s={};s[r.p]="+="+i,T.set(t,s)},ln=function(t,r){var i=Zt(t,r),s="_scroll"+r.p2,n=function a(o,c,d,v,p){var g=a.tween,u=c.onComplete,m={};d=d||i();var B=aa(i,d,function(){g.kill(),a.tween=0});return p=v&&p||0,v=v||o-d,g&&g.kill(),c[s]=o,c.inherit=!1,c.modifiers=m,m[s]=function(){return B(d+v*g.ratio+p*g.ratio*g.ratio)},c.onUpdate=function(){z.cache++,a.tween&&It()},c.onComplete=function(){a.tween=0,u&&u.call(g)},g=a.tween=T.to(t,c),g};return t[s]=i,i.wheelHandler=function(){return n.tween&&n.tween.kill()&&(n.tween=0)},we(t,"wheel",i.wheelHandler),F.isTouch&&we(t,"touchmove",i.wheelHandler),n},F=(function(){function e(r,i){br||e.register(T)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),as(this),this.init(r,i)}var t=e.prototype;return t.init=function(i,s){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!zr){this.update=this.refresh=this.kill=Tt;return}i=en(it(i)||Fr(i)||i.nodeType?{trigger:i}:i,vi);var n=i,a=n.onUpdate,o=n.toggleClass,c=n.id,d=n.onToggle,v=n.onRefresh,p=n.scrub,g=n.trigger,u=n.pin,m=n.pinSpacing,B=n.invalidateOnRefresh,C=n.anticipatePin,R=n.onScrubComplete,E=n.onSnapComplete,y=n.once,S=n.snap,ue=n.pinReparent,$=n.pinSpacer,D=n.containerAnimation,q=n.fastScrollEnd,ee=n.preventOverlaps,b=i.horizontal||i.containerAnimation&&i.horizontal!==!1?Ke:ye,Q=!p&&p!==0,w=Qe(i.scroller||N),at=T.core.getCache(w),ne=fr(w),me=("pinType"in i?i.pinType:$t(w,"pinType")||ne&&"fixed")==="fixed",He=[i.onEnter,i.onLeave,i.onEnterBack,i.onLeaveBack],K=Q&&i.toggleActions.split(" "),he="markers"in i?i.markers:vi.markers,fe=ne?0:parseFloat(ht(w)["border"+b.p2+Rr])||0,l=this,ve=i.onRefreshInit&&function(){return i.onRefreshInit(l)},Jt=Kl(w,ne,b),zt=Zl(w,ne),ot=0,Mt=0,Be=0,de=Zt(w,b),Le,Ae,Ot,Ge,je,j,ae,Ze,Je,f,et,Pt,Ft,ie,Rt,Ht,er,Se,Lt,oe,pt,lt,Dt,Cr,pe,ri,Ct,gr,mr,Gt,tr,O,rr,gt,mt,vt,ir,vr,Bt;if(l._startClamp=l._endClamp=!1,l._dir=b,C*=45,l.scroller=w,l.scroll=D?D.time.bind(D):de,Ge=de(),l.vars=i,s=s||i.animation,"refreshPriority"in i&&(Wn=1,i.refreshPriority===-9999&&(Qr=l)),at.tweenScroll=at.tweenScroll||{top:ln(w,ye),left:ln(w,Ke)},l.tweenTo=Le=at.tweenScroll[b.p],l.scrubDuration=function(x){rr=Fr(x)&&x,rr?O?O.duration(x):O=T.to(s,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:rr,paused:!0,onComplete:function(){return R&&R(l)}}):(O&&O.progress(1).kill(),O=0)},s&&(s.vars.lazy=!1,s._initted&&!l.isReverted||s.vars.immediateRender!==!1&&i.immediateRender!==!1&&s.duration()&&s.render(0,!0,!0),l.animation=s.pause(),s.scrollTrigger=l,l.scrubDuration(p),Gt=0,c||(c=s.vars.id)),S&&((!or(S)||S.push)&&(S={snapTo:S}),"scrollBehavior"in Y.style&&T.set(ne?[Y,st]:w,{scrollBehavior:"auto"}),z.forEach(function(x){return Oe(x)&&x.target===(ne?J.scrollingElement||st:w)&&(x.smooth=!1)}),Ot=Oe(S.snapTo)?S.snapTo:S.snapTo==="labels"?Jl(s):S.snapTo==="labelsDirectional"?ec(s):S.directional!==!1?function(x,A){return Ss(S.snapTo)(x,ze()-Mt<500?0:A.direction)}:T.utils.snap(S.snapTo),gt=S.duration||{min:.1,max:2},gt=or(gt)?Xr(gt.min,gt.max):Xr(gt,gt),mt=T.delayedCall(S.delay||rr/2||.1,function(){var x=de(),A=ze()-Mt<500,M=Le.tween;if((A||Math.abs(l.getVelocity())<10)&&!M&&!ki&&ot!==x){var U=(x-j)/ie,Te=s&&!Q?s.totalProgress():U,G=A?0:(Te-tr)/(ze()-Nr)*1e3||0,le=T.utils.clamp(-U,1-U,_r(G/2)*G/.185),Ue=U+(S.inertia===!1?0:le),se,te,Z=S,xt=Z.onStart,re=Z.onInterrupt,tt=Z.onComplete;if(se=Ot(Ue,l),Fr(se)||(se=Ue),te=Math.max(0,Math.round(j+se*ie)),x<=ae&&x>=j&&te!==x){if(M&&!M._initted&&M.data<=_r(te-x))return;S.inertia===!1&&(le=se-U),Le(te,{duration:gt(_r(Math.max(_r(Ue-Te),_r(se-Te))*.185/G/.05||0)),ease:S.ease||"power3",data:_r(te-x),onInterrupt:function(){return mt.restart(!0)&&re&&re(l)},onComplete:function(){l.update(),ot=de(),s&&!Q&&(O?O.resetTo("totalProgress",se,s._tTime/s._tDur):s.progress(se)),Gt=tr=s&&!Q?s.totalProgress():l.progress,E&&E(l),tt&&tt(l)}},x,le*ie,te-x-le*ie),xt&&xt(l,Le.tween)}}else l.isActive&&ot!==x&&mt.restart(!0)}).pause()),c&&(ls[c]=l),g=l.trigger=Qe(g||u!==!0&&u),Bt=g&&g._gsap&&g._gsap.stRevert,Bt&&(Bt=Bt(l)),u=u===!0?g:Qe(u),it(o)&&(o={targets:g,className:o}),u&&(m===!1||m===ut||(m=!m&&u.parentNode&&u.parentNode.style&&ht(u.parentNode).display==="flex"?!1:ge),l.pin=u,Ae=T.core.getCache(u),Ae.spacer?Rt=Ae.pinState:($&&($=Qe($),$&&!$.nodeType&&($=$.current||$.nativeElement),Ae.spacerIsNative=!!$,$&&(Ae.spacerState=_i($))),Ae.spacer=Se=$||J.createElement("div"),Se.classList.add("pin-spacer"),c&&Se.classList.add("pin-spacer-"+c),Ae.pinState=Rt=_i(u)),i.force3D!==!1&&T.set(u,{force3D:!0}),l.spacer=Se=Ae.spacer,mr=ht(u),Cr=mr[m+b.os2],oe=T.getProperty(u),pt=T.quickSetter(u,b.a,_e),Ki(u,Se,mr),er=_i(u)),he){Pt=or(he)?en(he,tn):tn,f=xi("scroller-start",c,w,b,Pt,0),et=xi("scroller-end",c,w,b,Pt,0,f),Lt=f["offset"+b.op.d2];var Br=Qe($t(w,"content")||w);Ze=this.markerStart=xi("start",c,Br,b,Pt,Lt,0,D),Je=this.markerEnd=xi("end",c,Br,b,Pt,Lt,0,D),D&&(vr=T.quickSetter([Ze,Je],b.a,_e)),!me&&!(wt.length&&$t(w,"fixedMarkers")===!0)&&(Ql(ne?Y:w),T.set([f,et],{force3D:!0}),ri=T.quickSetter(f,b.a,_e),gr=T.quickSetter(et,b.a,_e))}if(D){var I=D.vars.onUpdate,P=D.vars.onUpdateParams;D.eventCallback("onUpdate",function(){l.update(0,0,1),I&&I.apply(D,P||[])})}if(l.previous=function(){return k[k.indexOf(l)-1]},l.next=function(){return k[k.indexOf(l)+1]},l.revert=function(x,A){if(!A)return l.kill(!0);var M=x!==!1||!l.enabled,U=Ne;M!==l.isReverted&&(M&&(vt=Math.max(de(),l.scroll.rec||0),Be=l.progress,ir=s&&s.progress()),Ze&&[Ze,Je,f,et].forEach(function(Te){return Te.style.display=M?"none":"block"}),M&&(Ne=l,l.update(M)),u&&(!ue||!l.isActive)&&(M?ic(u,Se,Rt):Ki(u,Se,ht(u),pe)),M||l.update(M),Ne=U,l.isReverted=M)},l.refresh=function(x,A,M,U){if(!((Ne||!l.enabled)&&!A)){if(u&&x&&ft){we(e,"scrollEnd",ta);return}!$e&&ve&&ve(l),Ne=l,Le.tween&&!M&&(Le.tween.kill(),Le.tween=0),O&&O.pause(),B&&s&&(s.revert({kill:!1}).invalidate(),s.getChildren?s.getChildren(!0,!0,!1).forEach(function(jt){return jt.vars.immediateRender&&jt.render(0,!0,!0)}):s.vars.immediateRender&&s.render(0,!0,!0)),l.isReverted||l.revert(!0,!0),l._subPinOffset=!1;var Te=Jt(),G=zt(),le=D?D.duration():Et(w,b),Ue=ie<=.01||!ie,se=0,te=U||0,Z=or(M)?M.end:i.end,xt=i.endTrigger||g,re=or(M)?M.start:i.start||(i.start===0||!g?0:u?"0 0":"0 100%"),tt=l.pinnedContainer=i.pinnedContainer&&Qe(i.pinnedContainer,l),yt=g&&Math.max(0,k.indexOf(l))||0,Re=yt,De,Ie,sr,ii,ke,xe,bt,Ni,Es,Ar,St,Ur,si;for(he&&or(M)&&(Ur=T.getProperty(f,b.p),si=T.getProperty(et,b.p));Re-- >0;)xe=k[Re],xe.end||xe.refresh(0,1)||(Ne=l),bt=xe.pin,bt&&(bt===g||bt===u||bt===tt)&&!xe.isReverted&&(Ar||(Ar=[]),Ar.unshift(xe),xe.revert(!0,!0)),xe!==k[Re]&&(yt--,Re--);for(Oe(re)&&(re=re(l)),re=Ks(re,"start",l),j=an(re,g,Te,b,de(),Ze,f,l,G,fe,me,le,D,l._startClamp&&"_startClamp")||(u?-.001:0),Oe(Z)&&(Z=Z(l)),it(Z)&&!Z.indexOf("+=")&&(~Z.indexOf(" ")?Z=(it(re)?re.split(" ")[0]:"")+Z:(se=Ti(Z.substr(2),Te),Z=it(re)?re:(D?T.utils.mapRange(0,D.duration(),D.scrollTrigger.start,D.scrollTrigger.end,j):j)+se,xt=g)),Z=Ks(Z,"end",l),ae=Math.max(j,an(Z||(xt?"100% 0":le),xt,Te,b,de()+se,Je,et,l,G,fe,me,le,D,l._endClamp&&"_endClamp"))||-.001,se=0,Re=yt;Re--;)xe=k[Re]||{},bt=xe.pin,bt&&xe.start-xe._pinPush<=j&&!D&&xe.end>0&&(De=xe.end-(l._startClamp?Math.max(0,xe.start):xe.start),(bt===g&&xe.start-xe._pinPush<j||bt===tt)&&isNaN(re)&&(se+=De*(1-xe.progress)),bt===u&&(te+=De));if(j+=se,ae+=se,l._startClamp&&(l._startClamp+=se),l._endClamp&&!$e&&(l._endClamp=ae||-.001,ae=Math.min(ae,Et(w,b))),ie=ae-j||(j-=.01)&&.001,Ue&&(Be=T.utils.clamp(0,1,T.utils.normalize(j,ae,vt))),l._pinPush=te,Ze&&se&&(De={},De[b.a]="+="+se,tt&&(De[b.p]="-="+de()),T.set([Ze,Je],De)),u&&!(os&&l.end>=Et(w,b)))De=ht(u),ii=b===ye,sr=de(),lt=parseFloat(oe(b.a))+te,!le&&ae>1&&(St=(ne?J.scrollingElement||st:w).style,St={style:St,value:St["overflow"+b.a.toUpperCase()]},ne&&ht(Y)["overflow"+b.a.toUpperCase()]!=="scroll"&&(St.style["overflow"+b.a.toUpperCase()]="scroll")),Ki(u,Se,De),er=_i(u),Ie=At(u,!0),Ni=me&&Zt(w,ii?Ke:ye)(),m?(pe=[m+b.os2,ie+te+_e],pe.t=Se,Re=m===ge?Bi(u,b)+ie+te:0,Re&&(pe.push(b.d,Re+_e),Se.style.flexBasis!=="auto"&&(Se.style.flexBasis=Re+_e)),Mr(pe),tt&&k.forEach(function(jt){jt.pin===tt&&jt.vars.pinSpacing!==!1&&(jt._subPinOffset=!0)}),me&&de(vt)):(Re=Bi(u,b),Re&&Se.style.flexBasis!=="auto"&&(Se.style.flexBasis=Re+_e)),me&&(ke={top:Ie.top+(ii?sr-j:Ni)+_e,left:Ie.left+(ii?Ni:sr-j)+_e,boxSizing:"border-box",position:"fixed"},ke[cr]=ke["max"+Rr]=Math.ceil(Ie.width)+_e,ke[ur]=ke["max"+bs]=Math.ceil(Ie.height)+_e,ke[ut]=ke[ut+Kr]=ke[ut+qr]=ke[ut+Zr]=ke[ut+$r]="0",ke[ge]=De[ge],ke[ge+Kr]=De[ge+Kr],ke[ge+qr]=De[ge+qr],ke[ge+Zr]=De[ge+Zr],ke[ge+$r]=De[ge+$r],Ht=nc(Rt,ke,ue),$e&&de(0)),s?(Es=s._initted,Vi(1),s.render(s.duration(),!0,!0),Dt=oe(b.a)-lt+ie+te,Ct=Math.abs(ie-Dt)>1,me&&Ct&&Ht.splice(Ht.length-2,2),s.render(0,!0,!0),Es||s.invalidate(!0),s.parent||s.totalTime(s.totalTime()),Vi(0)):Dt=ie,St&&(St.value?St.style["overflow"+b.a.toUpperCase()]=St.value:St.style.removeProperty("overflow-"+b.a));else if(g&&de()&&!D)for(Ie=g.parentNode;Ie&&Ie!==Y;)Ie._pinOffset&&(j-=Ie._pinOffset,ae-=Ie._pinOffset),Ie=Ie.parentNode;Ar&&Ar.forEach(function(jt){return jt.revert(!1,!0)}),l.start=j,l.end=ae,Ge=je=$e?vt:de(),!D&&!$e&&(Ge<vt&&de(vt),l.scroll.rec=0),l.revert(!1,!0),Mt=ze(),mt&&(ot=-1,mt.restart(!0)),Ne=0,s&&Q&&(s._initted||ir)&&s.progress()!==ir&&s.progress(ir||0,!0).render(s.time(),!0,!0),(Ue||Be!==l.progress||D||B||s&&!s._initted)&&(s&&!Q&&(s._initted||Be||s.vars.immediateRender!==!1)&&s.totalProgress(D&&j<-.001&&!Be?T.utils.normalize(j,ae,0):Be,!0),l.progress=Ue||(Ge-j)/ie===Be?0:Be),u&&m&&(Se._pinOffset=Math.round(l.progress*Dt)),O&&O.invalidate(),isNaN(Ur)||(Ur-=T.getProperty(f,b.p),si-=T.getProperty(et,b.p),yi(f,b,Ur),yi(Ze,b,Ur-(U||0)),yi(et,b,si),yi(Je,b,si-(U||0))),Ue&&!$e&&l.update(),v&&!$e&&!Ft&&(Ft=!0,v(l),Ft=!1)}},l.getVelocity=function(){return(de()-je)/(ze()-Nr)*1e3||0},l.endAnimation=function(){kr(l.callbackAnimation),s&&(O?O.progress(1):s.paused()?Q||kr(s,l.direction<0,1):kr(s,s.reversed()))},l.labelToScroll=function(x){return s&&s.labels&&(j||l.refresh()||j)+s.labels[x]/s.duration()*ie||0},l.getTrailing=function(x){var A=k.indexOf(l),M=l.direction>0?k.slice(0,A).reverse():k.slice(A+1);return(it(x)?M.filter(function(U){return U.vars.preventOverlaps===x}):M).filter(function(U){return l.direction>0?U.end<=j:U.start>=ae})},l.update=function(x,A,M){if(!(D&&!M&&!x)){var U=$e===!0?vt:l.scroll(),Te=x?0:(U-j)/ie,G=Te<0?0:Te>1?1:Te||0,le=l.progress,Ue,se,te,Z,xt,re,tt,yt;if(A&&(je=Ge,Ge=D?de():U,S&&(tr=Gt,Gt=s&&!Q?s.totalProgress():G)),C&&u&&!Ne&&!di&&ft&&(!G&&j<U+(U-je)/(ze()-Nr)*C?G=1e-4:G===1&&ae>U+(U-je)/(ze()-Nr)*C&&(G=.9999)),G!==le&&l.enabled){if(Ue=l.isActive=!!G&&G<1,se=!!le&&le<1,re=Ue!==se,xt=re||!!G!=!!le,l.direction=G>le?1:-1,l.progress=G,xt&&!Ne&&(te=G&&!le?0:G===1?1:le===1?2:3,Q&&(Z=!re&&K[te+1]!=="none"&&K[te+1]||K[te],yt=s&&(Z==="complete"||Z==="reset"||Z in s))),ee&&(re||yt)&&(yt||p||!s)&&(Oe(ee)?ee(l):l.getTrailing(ee).forEach(function(sr){return sr.endAnimation()})),Q||(O&&!Ne&&!di?(O._dp._time-O._start!==O._time&&O.render(O._dp._time-O._start),O.resetTo?O.resetTo("totalProgress",G,s._tTime/s._tDur):(O.vars.totalProgress=G,O.invalidate().restart())):s&&s.totalProgress(G,!!(Ne&&(Mt||x)))),u){if(x&&m&&(Se.style[m+b.os2]=Cr),!me)pt(Or(lt+Dt*G));else if(xt){if(tt=!x&&G>le&&ae+1>U&&U+1>=Et(w,b),ue)if(!x&&(Ue||tt)){var Re=At(u,!0),De=U-j;on(u,Y,Re.top+(b===ye?De:0)+_e,Re.left+(b===ye?0:De)+_e)}else on(u,Se);Mr(Ue||tt?Ht:er),Ct&&G<1&&Ue||pt(lt+(G===1&&!tt?Dt:0))}}S&&!Le.tween&&!Ne&&!di&&mt.restart(!0),o&&(re||y&&G&&(G<1||!Xi))&&ei(o.targets).forEach(function(sr){return sr.classList[Ue||y?"add":"remove"](o.className)}),a&&!Q&&!x&&a(l),xt&&!Ne?(Q&&(yt&&(Z==="complete"?s.pause().totalProgress(1):Z==="reset"?s.restart(!0).pause():Z==="restart"?s.restart(!0):s[Z]()),a&&a(l)),(re||!Xi)&&(d&&re&&qi(l,d),He[te]&&qi(l,He[te]),y&&(G===1?l.kill(!1,1):He[te]=0),re||(te=G===1?1:3,He[te]&&qi(l,He[te]))),q&&!Ue&&Math.abs(l.getVelocity())>(Fr(q)?q:2500)&&(kr(l.callbackAnimation),O?O.progress(1):kr(s,Z==="reverse"?1:!G,1))):Q&&a&&!Ne&&a(l)}if(gr){var Ie=D?U/D.duration()*(D._caScrollDist||0):U;ri(Ie+(f._isFlipped?1:0)),gr(Ie)}vr&&vr(-U/D.duration()*(D._caScrollDist||0))}},l.enable=function(x,A){l.enabled||(l.enabled=!0,we(w,"resize",Hr),ne||we(w,"scroll",yr),ve&&we(e,"refreshInit",ve),x!==!1&&(l.progress=Be=0,Ge=je=ot=de()),A!==!1&&l.refresh())},l.getTween=function(x){return x&&Le?Le.tween:O},l.setPositions=function(x,A,M,U){if(D){var Te=D.scrollTrigger,G=D.duration(),le=Te.end-Te.start;x=Te.start+le*x/G,A=Te.start+le*A/G}l.refresh(!1,!1,{start:Zs(x,M&&!!l._startClamp),end:Zs(A,M&&!!l._endClamp)},U),l.update()},l.adjustPinSpacing=function(x){if(pe&&x){var A=pe.indexOf(b.d)+1;pe[A]=parseFloat(pe[A])+x+_e,pe[1]=parseFloat(pe[1])+x+_e,Mr(pe)}},l.disable=function(x,A){if(x!==!1&&l.revert(!0,!0),l.enabled&&(l.enabled=l.isActive=!1,A||O&&O.pause(),vt=0,Ae&&(Ae.uncache=1),ve&&Ee(e,"refreshInit",ve),mt&&(mt.pause(),Le.tween&&Le.tween.kill()&&(Le.tween=0)),!ne)){for(var M=k.length;M--;)if(k[M].scroller===w&&k[M]!==l)return;Ee(w,"resize",Hr),ne||Ee(w,"scroll",yr)}},l.kill=function(x,A){l.disable(x,A),O&&!A&&O.kill(),c&&delete ls[c];var M=k.indexOf(l);M>=0&&k.splice(M,1),M===qe&&wi>0&&qe--,M=0,k.forEach(function(U){return U.scroller===l.scroller&&(M=1)}),M||$e||(l.scroll.rec=0),s&&(s.scrollTrigger=null,x&&s.revert({kill:!1}),A||s.kill()),Ze&&[Ze,Je,f,et].forEach(function(U){return U.parentNode&&U.parentNode.removeChild(U)}),Qr===l&&(Qr=0),u&&(Ae&&(Ae.uncache=1),M=0,k.forEach(function(U){return U.pin===u&&M++}),M||(Ae.spacer=0)),i.onKill&&i.onKill(l)},k.push(l),l.enable(!1,!1),Bt&&Bt(l),s&&s.add&&!ie){var V=l.update;l.update=function(){l.update=V,z.cache++,j||ae||l.refresh()},T.delayedCall(.01,l.update),ie=.01,j=ae=0}else l.refresh();u&&rc()},e.register=function(i){return br||(T=i||$n(),qn()&&window.document&&e.enable(),br=zr),br},e.defaults=function(i){if(i)for(var s in i)vi[s]=i[s];return vi},e.disable=function(i,s){zr=0,k.forEach(function(a){return a[s?"kill":"disable"](i)}),Ee(N,"wheel",yr),Ee(J,"scroll",yr),clearInterval(fi),Ee(J,"touchcancel",Tt),Ee(Y,"touchstart",Tt),gi(Ee,J,"pointerdown,touchstart,mousedown",Qs),gi(Ee,J,"pointerup,touchend,mouseup",Js),Ci.kill(),pi(Ee);for(var n=0;n<z.length;n+=3)mi(Ee,z[n],z[n+1]),mi(Ee,z[n],z[n+2])},e.enable=function(){if(N=window,J=document,st=J.documentElement,Y=J.body,T&&(ei=T.utils.toArray,Xr=T.utils.clamp,as=T.core.context||Tt,Vi=T.core.suppressOverwrites||Tt,vs=N.history.scrollRestoration||"auto",cs=N.pageYOffset||0,T.core.globals("ScrollTrigger",e),Y)){zr=1,wr=document.createElement("div"),wr.style.height="100vh",wr.style.position="absolute",na(),$l(),ce.register(T),e.isTouch=ce.isTouch,Vt=ce.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),ns=ce.isTouch===1,we(N,"wheel",yr),ms=[N,J,st,Y],T.matchMedia?(e.matchMedia=function(d){var v=T.matchMedia(),p;for(p in d)v.add(p,d[p]);return v},T.addEventListener("matchMediaInit",function(){ia(),Ts()}),T.addEventListener("matchMediaRevert",function(){return ra()}),T.addEventListener("matchMedia",function(){lr(0,1),pr("matchMedia")}),T.matchMedia().add("(orientation: portrait)",function(){return $i(),$i})):console.warn("Requires GSAP 3.11.0 or later"),$i(),we(J,"scroll",yr);var i=Y.hasAttribute("style"),s=Y.style,n=s.borderTopStyle,a=T.core.Animation.prototype,o,c;for(a.revert||Object.defineProperty(a,"revert",{value:function(){return this.time(-.01,!0)}}),s.borderTopStyle="solid",o=At(Y),ye.m=Math.round(o.top+ye.sc())||0,Ke.m=Math.round(o.left+Ke.sc())||0,n?s.borderTopStyle=n:s.removeProperty("border-top-style"),i||(Y.setAttribute("style",""),Y.removeAttribute("style")),fi=setInterval(rn,250),T.delayedCall(.5,function(){return di=0}),we(J,"touchcancel",Tt),we(Y,"touchstart",Tt),gi(we,J,"pointerdown,touchstart,mousedown",Qs),gi(we,J,"pointerup,touchend,mouseup",Js),ss=T.utils.checkPrefix("transform"),Mi.push(ss),br=ze(),Ci=T.delayedCall(.2,lr).pause(),Sr=[J,"visibilitychange",function(){var d=N.innerWidth,v=N.innerHeight;J.hidden?(qs=d,$s=v):(qs!==d||$s!==v)&&Hr()},J,"DOMContentLoaded",lr,N,"load",lr,N,"resize",Hr],pi(we),k.forEach(function(d){return d.enable(0,1)}),c=0;c<z.length;c+=3)mi(Ee,z[c],z[c+1]),mi(Ee,z[c],z[c+2])}},e.config=function(i){"limitCallbacks"in i&&(Xi=!!i.limitCallbacks);var s=i.syncInterval;s&&clearInterval(fi)||(fi=s)&&setInterval(rn,s),"ignoreMobileResize"in i&&(ns=e.isTouch===1&&i.ignoreMobileResize),"autoRefreshEvents"in i&&(pi(Ee)||pi(we,i.autoRefreshEvents||"none"),Vn=(i.autoRefreshEvents+"").indexOf("resize")===-1)},e.scrollerProxy=function(i,s){var n=Qe(i),a=z.indexOf(n),o=fr(n);~a&&z.splice(a,o?6:2),s&&(o?wt.unshift(N,s,Y,s,st,s):wt.unshift(n,s))},e.clearMatchMedia=function(i){k.forEach(function(s){return s._ctx&&s._ctx.query===i&&s._ctx.kill(!0,!0)})},e.isInViewport=function(i,s,n){var a=(it(i)?Qe(i):i).getBoundingClientRect(),o=a[n?cr:ur]*s||0;return n?a.right-o>0&&a.left+o<N.innerWidth:a.bottom-o>0&&a.top+o<N.innerHeight},e.positionInViewport=function(i,s,n){it(i)&&(i=Qe(i));var a=i.getBoundingClientRect(),o=a[n?cr:ur],c=s==null?o/2:s in Ai?Ai[s]*o:~s.indexOf("%")?parseFloat(s)*o/100:parseFloat(s)||0;return n?(a.left+c)/N.innerWidth:(a.top+c)/N.innerHeight},e.killAll=function(i){if(k.slice(0).forEach(function(n){return n.vars.id!=="ScrollSmoother"&&n.kill()}),i!==!0){var s=dr.killAll||[];dr={},s.forEach(function(n){return n()})}},e})();F.version="3.14.2";F.saveStyles=function(e){return e?ei(e).forEach(function(t){if(t&&t.style){var r=rt.indexOf(t);r>=0&&rt.splice(r,5),rt.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),T.core.getCache(t),as())}}):rt};F.revert=function(e,t){return Ts(!e,t)};F.create=function(e,t){return new F(e,t)};F.refresh=function(e){return e?Hr(!0):(br||F.register())&&lr(!0)};F.update=function(e){return++z.cache&&It(e===!0?2:0)};F.clearScrollMemory=sa;F.maxScroll=function(e,t){return Et(e,t?Ke:ye)};F.getScrollFunc=function(e,t){return Zt(Qe(e),t?Ke:ye)};F.getById=function(e){return ls[e]};F.getAll=function(){return k.filter(function(e){return e.vars.id!=="ScrollSmoother"})};F.isScrolling=function(){return!!ft};F.snapDirectional=Ss;F.addEventListener=function(e,t){var r=dr[e]||(dr[e]=[]);~r.indexOf(t)||r.push(t)};F.removeEventListener=function(e,t){var r=dr[e],i=r&&r.indexOf(t);i>=0&&r.splice(i,1)};F.batch=function(e,t){var r=[],i={},s=t.interval||.016,n=t.batchMax||1e9,a=function(d,v){var p=[],g=[],u=T.delayedCall(s,function(){v(p,g),p=[],g=[]}).pause();return function(m){p.length||u.restart(!0),p.push(m.trigger),g.push(m),n<=p.length&&u.progress(1)}},o;for(o in t)i[o]=o.substr(0,2)==="on"&&Oe(t[o])&&o!=="onRefreshInit"?a(o,t[o]):t[o];return Oe(n)&&(n=n(),we(F,"refresh",function(){return n=t.batchMax()})),ei(e).forEach(function(c){var d={};for(o in i)d[o]=i[o];d.trigger=c,r.push(F.create(d))}),r};var cn=function(t,r,i,s){return r>s?t(s):r<0&&t(0),i>s?(s-r)/(i-r):i<0?r/(r-i):1},Zi=function e(t,r){r===!0?t.style.removeProperty("touch-action"):t.style.touchAction=r===!0?"auto":r?"pan-"+r+(ce.isTouch?" pinch-zoom":""):"none",t===st&&e(Y,r)},bi={auto:1,scroll:1},oc=function(t){var r=t.event,i=t.target,s=t.axis,n=(r.changedTouches?r.changedTouches[0]:r).target,a=n._gsap||T.core.getCache(n),o=ze(),c;if(!a._isScrollT||o-a._isScrollT>2e3){for(;n&&n!==Y&&(n.scrollHeight<=n.clientHeight&&n.scrollWidth<=n.clientWidth||!(bi[(c=ht(n)).overflowY]||bi[c.overflowX]));)n=n.parentNode;a._isScroll=n&&n!==i&&!fr(n)&&(bi[(c=ht(n)).overflowY]||bi[c.overflowX]),a._isScrollT=o}(a._isScroll||s==="x")&&(r.stopPropagation(),r._gsapAllow=!0)},oa=function(t,r,i,s){return ce.create({target:t,capture:!0,debounce:!1,lockAxis:!0,type:r,onWheel:s=s&&oc,onPress:s,onDrag:s,onScroll:s,onEnable:function(){return i&&we(J,ce.eventTypes[0],hn,!1,!0)},onDisable:function(){return Ee(J,ce.eventTypes[0],hn,!0)}})},lc=/(input|label|select|textarea)/i,un,hn=function(t){var r=lc.test(t.target.tagName);(r||un)&&(t._gsapAllow=!0,un=r)},cc=function(t){or(t)||(t={}),t.preventDefault=t.isNormalizer=t.allowClicks=!0,t.type||(t.type="wheel,touch"),t.debounce=!!t.debounce,t.id=t.id||"normalizer";var r=t,i=r.normalizeScrollX,s=r.momentum,n=r.allowNestedScroll,a=r.onRelease,o,c,d=Qe(t.target)||st,v=T.core.globals().ScrollSmoother,p=v&&v.get(),g=Vt&&(t.content&&Qe(t.content)||p&&t.content!==!1&&!p.smooth()&&p.content()),u=Zt(d,ye),m=Zt(d,Ke),B=1,C=(ce.isTouch&&N.visualViewport?N.visualViewport.scale*N.visualViewport.width:N.outerWidth)/N.innerWidth,R=0,E=Oe(s)?function(){return s(o)}:function(){return s||2.8},y,S,ue=oa(d,t.type,!0,n),$=function(){return S=!1},D=Tt,q=Tt,ee=function(){c=Et(d,ye),q=Xr(Vt?1:0,c),i&&(D=Xr(0,Et(d,Ke))),y=hr},b=function(){g._gsap.y=Or(parseFloat(g._gsap.y)+u.offset)+"px",g.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(g._gsap.y)+", 0, 1)",u.offset=u.cacheID=0},Q=function(){if(S){requestAnimationFrame($);var he=Or(o.deltaY/2),fe=q(u.v-he);if(g&&fe!==u.v+u.offset){u.offset=fe-u.v;var l=Or((parseFloat(g&&g._gsap.y)||0)-u.offset);g.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+l+", 0, 1)",g._gsap.y=l+"px",u.cacheID=z.cache,It()}return!0}u.offset&&b(),S=!0},w,at,ne,me,He=function(){ee(),w.isActive()&&w.vars.scrollY>c&&(u()>c?w.progress(1)&&u(c):w.resetTo("scrollY",c))};return g&&T.set(g,{y:"+=0"}),t.ignoreCheck=function(K){return Vt&&K.type==="touchmove"&&Q()||B>1.05&&K.type!=="touchstart"||o.isGesturing||K.touches&&K.touches.length>1},t.onPress=function(){S=!1;var K=B;B=Or((N.visualViewport&&N.visualViewport.scale||1)/C),w.pause(),K!==B&&Zi(d,B>1.01?!0:i?!1:"x"),at=m(),ne=u(),ee(),y=hr},t.onRelease=t.onGestureStart=function(K,he){if(u.offset&&b(),!he)me.restart(!0);else{z.cache++;var fe=E(),l,ve;i&&(l=m(),ve=l+fe*.05*-K.velocityX/.227,fe*=cn(m,l,ve,Et(d,Ke)),w.vars.scrollX=D(ve)),l=u(),ve=l+fe*.05*-K.velocityY/.227,fe*=cn(u,l,ve,Et(d,ye)),w.vars.scrollY=q(ve),w.invalidate().duration(fe).play(.01),(Vt&&w.vars.scrollY>=c||l>=c-1)&&T.to({},{onUpdate:He,duration:fe})}a&&a(K)},t.onWheel=function(){w._ts&&w.pause(),ze()-R>1e3&&(y=0,R=ze())},t.onChange=function(K,he,fe,l,ve){if(hr!==y&&ee(),he&&i&&m(D(l[2]===he?at+(K.startX-K.x):m()+he-l[1])),fe){u.offset&&b();var Jt=ve[2]===fe,zt=Jt?ne+K.startY-K.y:u()+fe-ve[1],ot=q(zt);Jt&&zt!==ot&&(ne+=ot-zt),u(ot)}(fe||he)&&It()},t.onEnable=function(){Zi(d,i?!1:"x"),F.addEventListener("refresh",He),we(N,"resize",He),u.smooth&&(u.target.style.scrollBehavior="auto",u.smooth=m.smooth=!1),ue.enable()},t.onDisable=function(){Zi(d,!0),Ee(N,"resize",He),F.removeEventListener("refresh",He),ue.kill()},t.lockAxis=t.lockAxis!==!1,o=new ce(t),o.iOS=Vt,Vt&&!u()&&u(1),Vt&&T.ticker.add(Tt),me=o._dc,w=T.to(o,{ease:"power4",paused:!0,inherit:!1,scrollX:i?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:aa(u,u(),function(){return w.pause()})},onUpdate:It,onComplete:me.vars.onComplete}),o};F.sort=function(e){if(Oe(e))return k.sort(e);var t=N.pageYOffset||0;return F.getAll().forEach(function(r){return r._sortY=r.trigger?t+r.trigger.getBoundingClientRect().top:r.start+N.innerHeight}),k.sort(e||function(r,i){return(r.vars.refreshPriority||0)*-1e6+(r.vars.containerAnimation?1e6:r._sortY)-((i.vars.containerAnimation?1e6:i._sortY)+(i.vars.refreshPriority||0)*-1e6)})};F.observe=function(e){return new ce(e)};F.normalizeScroll=function(e){if(typeof e>"u")return Ye;if(e===!0&&Ye)return Ye.enable();if(e===!1){Ye&&Ye.kill(),Ye=e;return}var t=e instanceof ce?e:cc(e);return Ye&&Ye.target===t.target&&Ye.kill(),fr(t.target)&&(Ye=t),t};F.core={_getVelocityProp:is,_inputObserver:oa,_scrollers:z,_proxies:wt,bridge:{ss:function(){ft||pr("scrollStart"),ft=ze()},ref:function(){return Ne}}};$n()&&T.registerPlugin(F);Jr.registerPlugin(F);const uc=()=>{const e=_.useRef(null),t=_.useRef([]);return Ii(()=>{t.current.forEach((r,i)=>{const s=r.querySelector(".counter-number"),n=Ds[i];Jr.set(s,{innerText:"0"}),Jr.to(s,{innerText:n.value,duration:2.5,ease:"power2.out",snap:{innerText:1},scrollTrigger:{trigger:"#counter",start:"top center"},onComplete:()=>{s.textContent=`${n.value}${n.suffix}`}})},e)},[]),h.jsx("div",{id:"counter",ref:e,className:"padding-x-lg xl:mt-0 mt-32",children:h.jsx("div",{className:"mx-auto grid-4-cols",children:Ds.map((r,i)=>h.jsxs("div",{ref:s=>s&&(t.current[i]=s),className:"bg-zinc-900 rounded-lg p-10 flex flex-col justify-center",children:[h.jsxs("div",{className:"counter-number text-white-50 text-5xl font-bold mb-2",children:["0 ",r.suffix]}),h.jsx("div",{className:"text-white-50 text-lg",children:r.label})]},i))})})},la=_.memo(()=>{const e=_.useRef(null),[t,r]=_.useState(!0);return _.useEffect(()=>{const i=e.current;if(!i||typeof window>"u"||!("IntersectionObserver"in window))return;const s=new IntersectionObserver(([n])=>{r(n.isIntersecting)},{threshold:.1});return s.observe(i),()=>s.disconnect()},[]),Ii(()=>{const i=Jr.fromTo(".hero-text h1",{y:50,opacity:0},{y:0,opacity:1,stagger:.3,duration:1,ease:"power2.inOut"});return()=>{i.kill()}},{dependencies:[]}),h.jsxs("section",{id:"hero",ref:e,className:"relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 left-0 z-10",children:h.jsx("img",{src:"/images/bg.png",alt:"background",loading:"eager",decoding:"async",fetchPriority:"high"})}),h.jsxs("div",{className:"hero-layout",children:[h.jsx("header",{className:"flex flex-col justify-center md:w-full w-screen md:px-20 px-5",children:h.jsxs("div",{className:"flex flex-col gap-7",children:[h.jsxs("div",{className:"hero-text",children:[h.jsxs("h1",{children:["Shaping",h.jsx("span",{className:"slide",children:h.jsx("span",{className:"wrapper",children:Na.map((i,s)=>h.jsxs("span",{className:"flex items-center md:gap-3 gap-1 pb-2",children:[h.jsx("img",{src:i.imgPath,alt:i.text,width:48,height:48,loading:"lazy",decoding:"async",className:"xl:size-12 md:size-10 size-7 md:p-2 p-1 rounded-full bg-white-50"}),h.jsx("span",{className:"text-purple-700",children:i.text})]},s))})})]}),h.jsx("h1",{children:"into Real Projects"}),h.jsx("h1",{children:"that Deliver Results"})]}),h.jsx("b",{children:h.jsx("p",{className:"bg-gradient-to-r from-white via-indigo-400 to-gray-400 text-transparent bg-clip-text md:text-xl relative z-10 pointer-events-none",children:"Hi, I’m Moiz Jawad, a Full-Stack Developer who builds real-world products"})}),h.jsx(Mn,{text:"See My Work",className:"md:w-80 md:h-16 w-60 h-12 z-10",id:"counter"})]})}),h.jsx("figure",{children:h.jsx("div",{className:"hero-3d-layout",children:h.jsx(kn,{isActive:t})})})]}),h.jsx(uc,{})]})});la.displayName="Hero";const ca=_.memo(()=>h.jsx("footer",{className:"footer",children:h.jsxs("div",{className:"footer-container",children:[h.jsx("div",{className:"flex flex-col justify-center",children:h.jsx("p",{children:"Terms & Conditions"})}),h.jsx("div",{className:"socials",children:za.map((e,t)=>h.jsx("div",{className:"icon",children:h.jsx("img",{src:e.imgPath,alt:`${e.name} social icon`,loading:"lazy",decoding:"async"})},t))}),h.jsx("div",{className:"flex flex-col justify-center",children:h.jsxs("p",{className:"text-center md:text-end",children:["© ",new Date().getFullYear()," Moiz Jawad. All rights reserved."]})})]})}));ca.displayName="Footer";class nr extends pa.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Error caught by boundary:",t,r)}render(){return this.state.hasError?h.jsx("div",{className:"flex-center min-h-screen p-5",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-2xl font-bold mb-4 text-red-400",children:"Something went wrong"}),h.jsx("p",{className:"text-white-50 mb-4",children:"Please refresh the page or try again later."}),h.jsx("button",{onClick:()=>{this.setState({hasError:!1,error:null}),window.location.reload()},className:"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Reload Page"})]})}):this.props.children}}const hc=_.lazy(()=>Dr(()=>import("./TechStack-hQh1OJk4.js"),__vite__mapDeps([0,1,2,3,4]))),fc=_.lazy(()=>Dr(()=>import("./ShowcaseSection-C7Wjp7IU.js"),__vite__mapDeps([5,1,2,3]))),dc=_.lazy(()=>Dr(()=>import("./LogoSection-DEb6Qmjc.js"),__vite__mapDeps([6,1,2,3]))),pc=_.lazy(()=>Dr(()=>import("./FeatureCards-DJkC3n3H.js"),__vite__mapDeps([7,1,2,3]))),gc=_.lazy(()=>Dr(()=>import("./ExperienceSection-QP_P5T-u.js"),__vite__mapDeps([8,1,2,4,3]))),mc=_.lazy(()=>Dr(()=>import("./Contact-DTjt7SiR.js"),__vite__mapDeps([9,1,2,4]))),vc=()=>h.jsxs(nr,{children:[h.jsx(wn,{}),h.jsx(la,{}),h.jsxs(_.Suspense,{fallback:null,children:[h.jsx(nr,{children:h.jsx(fc,{})}),h.jsx(nr,{children:h.jsx(dc,{})}),h.jsx(nr,{children:h.jsx(pc,{})}),h.jsx(nr,{children:h.jsx(gc,{})}),h.jsx(nr,{children:h.jsx(hc,{})}),h.jsx(nr,{children:h.jsx(mc,{})})]}),h.jsx(ca,{})]});ga.createRoot(document.getElementById("root")).render(h.jsx(vc,{}));export{F as S,Sc as a,Ec as e,bc as l,Tc as t,Ii as u};
