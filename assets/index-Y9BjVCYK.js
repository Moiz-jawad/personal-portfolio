import{j as l,g as fs,r as A,u as mn,a as vn,b as xn,c as aa,S as oa,C as la,O as ca,d as ua,e as fa}from"./r3f-D-q34aMw.js";import{g as Ie,U as Qt,c as ke,ay as ha,az as da,aA as pa,aB as ga,aC as xt,Z as Ci,aD as ma,C as Ni,_ as Rr,aE as va,aF as Ft,aG as hs,L as yn,aH as _n,aI as bn,aJ as Qi,aK as Sn,S as Ms,O as xa,ab as ya,aL as ai,a6 as oi,aw as Ht,as as _a,aM as er,aN as Y,a3 as wn,ao as Tn,j as En,P as Mn,aO as ba,aP as Rs,aQ as Rn,a9 as Sa,G as Ps,aR as wa,aS as Ta,aT as Ea,aU as Ma,aV as Cs,aW as Ra,N as Pa,aX as xr,a5 as Ca,aY as Da}from"./three-D5Ynj-dl.js";import{g as Xe}from"./animations-DDlvirwQ.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=r(s);fetch(s.href,n)}})();const Aa=[{name:"Work",link:"#work"},{name:"Experience",link:"#experience"},{name:"Skills",link:"#skills"},{name:"Testimonials",link:"#testimonials"}],Ba=[{text:"Ideas",imgPath:"/images/ideas.svg"},{text:"Concepts",imgPath:"/images/concepts.svg"},{text:"Designs",imgPath:"/images/designs.svg"},{text:"Code",imgPath:"/images/code.svg"},{text:"Ideas",imgPath:"/images/ideas.svg"},{text:"Concepts",imgPath:"/images/concepts.svg"},{text:"Designs",imgPath:"/images/designs.svg"},{text:"Code",imgPath:"/images/code.svg"}],Ds=[{value:1,suffix:"+",label:"Years of Experience"},{value:"N/A",suffix:"",label:"Satisfied Clients"},{value:18,suffix:"+",label:"Completed Projects"},{value:"N/A",suffix:"",label:"Client Retention Rate"}],As=[{imgPath:"https://img.icons8.com/color/80/flutter.png"},{imgPath:"https://img.icons8.com/color/80/nodejs.png"},{imgPath:"https://img.icons8.com/officel/80/react.png"},{imgPath:"https://img.icons8.com/color/96/google-firebase-console.png"},{imgPath:"https://img.icons8.com/fluency/96/visual-studio-code-2019.png"},{imgPath:"https://img.icons8.com/3d-fluency/94/github-logo.png"},{imgPath:"https://img.icons8.com/external-tal-revivo-color-tal-revivo/48/external-mongodb-a-cross-platform-document-oriented-database-program-logo-color-tal-revivo.png"},{imgPath:"https://img.icons8.com/color/96/html-5--v1.png"},{imgPath:"https://img.icons8.com/color/96/tailwindcss.png"},{imgPath:"https://img.icons8.com/color/96/javascript--v1.png"}],Ua=[{imgPath:"https://img.icons8.com/nolan/64/design.png",title:"Robust Architecture",desc:"Designing scalable backend systems and clean frontend components with modern frameworks."},{imgPath:"https://img.icons8.com/color/48/api.png",title:"Secure APIs",desc:"Implementing JWT authentication, validation, and error handling for reliable communication between client and server."},{imgPath:"https://img.icons8.com/pulsar-gradient/48/spaceship-launch-documentation.png",title:"Efficient Deployment",desc:"Delivering production-ready apps with optimized performance, CI/CD pipelines, and on-time releases."},{imgPath:"https://img.icons8.com/color/48/web-design.png",title:"User-Centric Design",desc:"Crafting responsive, accessible, and polished interfaces with React and modern UI libraries."},{imgPath:"https://img.icons8.com/nolan/64/database.png",title:"Database Mastery",desc:"Building reliable schemas, optimizing queries, and integrating SQL/NoSQL solutions for performance and scalability."},{imgPath:"https://img.icons8.com/fluency/48/security-configuration.png",title:"Best-Practice Security",desc:"Applying password hashing, rate limiting, and secure coding standards to protect applications end-to-end."}],Na=[{review:"Moiz’s contributions to Docker's web applications have been outstanding. He approaches challenges with a problem-solving mindset.",imgPath:"/images/exp2.png",logoPath:"/images/logo2.png",title:"Full Stack Developer",date:"Oct 2025 - Present",responsibilities:["Led the development of Docker's web applications, focusing on scalability.","Worked with backend engineers to integrate APIs seamlessly with the frontend.","Contributed to open-source projects that were used with the Docker ecosystem."]},{review:"Moiz’s work on Appwrite’s mobile app brought a high level of quality and efficiency. He delivered solutions that enhanced our mobile experience & meet our product goals.",imgPath:"/images/exp3.png",logoPath:"/images/logo3.png",title:"Backend Developer",date:"Oct 2025 - Nov 2025",responsibilities:["Built cross-platform mobile apps using React Native, integrating with Appwrite's backend services.","Improved app performance and user experience through code optimization and testing.","Coordinated with the product team to implement features based on feedback."]},{review:"Moiz brought creativity and technical expertise to the team, significantly improving our frontend performance. His work has been invaluable in delivering faster experiences.",imgPath:"/images/DEN.png",logoPath:"/images/DEN.png",title:"Flutter Developer",date:"July 2025 - Sept 2025",responsibilities:[`Built multiple Flutter apps (Quiz App, Task Manager, AdMob,
      Monetization App, Authentication System, Highway Incident
      Detection App, and Social Learning App) within weekly
      deadlines, integrating Firebase Auth, Firestore, Supabase
      SharedPreferences, AdMob, and MVVM architecture.`,`Applied state management, form validation, and animated UI/UX
      transitions to deliver polished, production-ready applications
      with real-world monetization and scalable features.`]}],Oa=({className:e,id:t,text:r})=>l.jsx("a",{onClick:i=>{i.preventDefault();const s=document.getElementById("counter");if(s&&t){const n=window.innerHeight*.15,a=s.getBoundingClientRect().top+window.pageYOffset-n;window.scrollTo({top:a,behavior:"smooth"})}},className:`${e??""}  "cta-wrapper`,children:l.jsxs("div",{className:"cta-button group",children:[l.jsx("div",{className:"bg-circle"}),l.jsx("p",{className:"text",children:r}),l.jsx("div",{className:"arrow-wrapper",children:l.jsx("img",{src:"/images/arrow-down.svg",alt:"arrow"})})]})});var li={},Bs;function Ia(){if(Bs)return li;Bs=1,li.match=n,li.parse=a;var e=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,r=/^(?:(min|max)-)?(.+)/,i=/(em|rem|px|cm|mm|in|pt|pc)?$/,s=/(dpi|dpcm|dppx)?$/;function n(x,g){return a(x).some(function(m){var h=m.inverse,_=m.type==="all"||g.type===m.type;if(_&&h||!(_||h))return!1;var B=m.expressions.every(function(C){var P=C.feature,M=C.modifier,w=C.value,E=g[P];if(!E)return!1;switch(P){case"orientation":case"scan":return E.toLowerCase()===w.toLowerCase();case"width":case"height":case"device-width":case"device-height":w=c(w),E=c(E);break;case"resolution":w=u(w),E=u(E);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":w=o(w),E=o(E);break;case"grid":case"color":case"color-index":case"monochrome":w=parseInt(w,10)||1,E=parseInt(E,10)||0;break}switch(M){case"min":return E>=w;case"max":return E<=w;default:return E===w}});return B&&!h||!B&&h})}function a(x){return x.split(",").map(function(g){g=g.trim();var m=g.match(e),h=m[1],_=m[2],B=m[3]||"",C={};return C.inverse=!!h&&h.toLowerCase()==="not",C.type=_?_.toLowerCase():"all",B=B.match(/\([^\)]+\)/g)||[],C.expressions=B.map(function(P){var M=P.match(t),w=M[1].toLowerCase().match(r);return{modifier:w[1],feature:w[2],value:M[2]}}),C})}function o(x){var g=Number(x),m;return g||(m=x.match(/^(\d+)\s*\/\s*(\d+)$/),g=m[1]/m[2]),g}function u(x){var g=parseFloat(x),m=String(x).match(s)[1];switch(m){case"dpcm":return g/2.54;case"dppx":return g*96;default:return g}}function c(x){var g=parseFloat(x),m=String(x).match(i)[1];switch(m){case"em":return g*16;case"rem":return g*16;case"cm":return g*96/2.54;case"mm":return g*96/2.54/10;case"in":return g*96;case"pt":return g*72;case"pc":return g*72/12;default:return g}}return li}var ki,Us;function ka(){if(Us)return ki;Us=1;var e=Ia().match,t=typeof window<"u"?window.matchMedia:null;function r(s,n,a){var o=this,u;t&&!a&&(u=t.call(window,s)),u?(this.matches=u.matches,this.media=u.media,u.addListener(g)):(this.matches=e(s,n),this.media=s),this.addListener=c,this.removeListener=x,this.dispose=m;function c(h){u&&u.addListener(h)}function x(h){u&&u.removeListener(h)}function g(h){o.matches=h.matches,o.media=h.media}function m(){u&&u.removeListener(g)}}function i(s,n,a){return new r(s,n,a)}return ki=i,ki}var za=ka();const Fa=fs(za);var Ha=/[A-Z]/g,La=/^ms-/,zi={};function ja(e){return"-"+e.toLowerCase()}function Pn(e){if(zi.hasOwnProperty(e))return zi[e];var t=e.replace(Ha,ja);return zi[e]=La.test(t)?"-"+t:t}function Ga(e,t){if(e===t)return!0;if(!e||!t)return!1;const r=Object.keys(e),i=Object.keys(t),s=r.length;if(i.length!==s)return!1;for(let n=0;n<s;n++){const a=r[n];if(e[a]!==t[a]||!Object.prototype.hasOwnProperty.call(t,a))return!1}return!0}var Fi={exports:{}},Hi,Ns;function Va(){if(Ns)return Hi;Ns=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Hi=e,Hi}var Li,Os;function Wa(){if(Os)return Li;Os=1;var e=Va();function t(){}function r(){}return r.resetWarningCache=t,Li=function(){function i(a,o,u,c,x,g){if(g!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}i.isRequired=i;function s(){return i}var n={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:t};return n.PropTypes=n,n},Li}var Is;function Ya(){return Is||(Is=1,Fi.exports=Wa()()),Fi.exports}var Xa=Ya();const ee=fs(Xa),Qe=ee.oneOfType([ee.string,ee.number]),Cn={all:ee.bool,grid:ee.bool,aural:ee.bool,braille:ee.bool,handheld:ee.bool,print:ee.bool,projection:ee.bool,screen:ee.bool,tty:ee.bool,tv:ee.bool,embossed:ee.bool},qa={orientation:ee.oneOf(["portrait","landscape"]),scan:ee.oneOf(["progressive","interlace"]),aspectRatio:ee.string,deviceAspectRatio:ee.string,height:Qe,deviceHeight:Qe,width:Qe,deviceWidth:Qe,color:ee.bool,colorIndex:ee.bool,monochrome:ee.bool,resolution:Qe,type:Object.keys(Cn)},{type:Cc,...$a}=qa,Ka={minAspectRatio:ee.string,maxAspectRatio:ee.string,minDeviceAspectRatio:ee.string,maxDeviceAspectRatio:ee.string,minHeight:Qe,maxHeight:Qe,minDeviceHeight:Qe,maxDeviceHeight:Qe,minWidth:Qe,maxWidth:Qe,minDeviceWidth:Qe,maxDeviceWidth:Qe,minColor:ee.number,maxColor:ee.number,minColorIndex:ee.number,maxColorIndex:ee.number,minMonochrome:ee.number,maxMonochrome:ee.number,minResolution:Qe,maxResolution:Qe,...$a},Za={...Cn,...Ka};var Qa={all:Za};const Ja=e=>`not ${e}`,eo=(e,t)=>{const r=Pn(e);return typeof t=="number"&&(t=`${t}px`),t===!0?r:t===!1?Ja(r):`(${r}: ${t})`},to=e=>e.join(" and "),ro=e=>{const t=[];return Object.keys(Qa.all).forEach(r=>{const i=e[r];i!=null&&t.push(eo(r,i))}),to(t)},io=A.createContext(void 0),so=e=>e.query||ro(e),ks=e=>e?Object.keys(e).reduce((r,i)=>(r[Pn(i)]=e[i],r),{}):void 0,Dn=()=>{const e=A.useRef(!1);return A.useEffect(()=>{e.current=!0},[]),e.current},no=e=>{const t=A.useContext(io),r=()=>ks(e)||ks(t),[i,s]=A.useState(r);return A.useEffect(()=>{const n=r();Ga(i,n)||s(n)},[e,t]),i},ao=e=>{const t=()=>so(e),[r,i]=A.useState(t);return A.useEffect(()=>{const s=t();r!==s&&i(s)},[e]),r},oo=(e,t)=>{const r=()=>Fa(e,t||{},!!t),[i,s]=A.useState(r),n=Dn();return A.useEffect(()=>{if(n){const a=r();return s(a),()=>{a&&a.dispose()}}},[e,t]),i},lo=e=>{const[t,r]=A.useState(e.matches);return A.useEffect(()=>{const i=s=>{r(s.matches)};return e.addListener(i),r(e.matches),()=>{e.removeListener(i)}},[e]),t},zs=(e,t,r)=>{const i=no(t),s=ao(e);if(!s)throw new Error("Invalid or missing MediaQuery!");const n=oo(s,i),a=lo(n);return Dn(),A.useEffect(()=>{},[a]),A.useEffect(()=>()=>{n&&n.dispose()},[]),a};var ji=1/1e3,co=1e3,uo=class{constructor(){this.startTime=performance.now(),this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(e){typeof document<"u"&&document.hidden!==void 0&&(e?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=e)}get delta(){return this._delta*ji}get fixedDelta(){return this._fixedDelta*ji}set fixedDelta(e){this._fixedDelta=e*co}get elapsed(){return this._elapsed*ji}update(e){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=(e!==void 0?e:performance.now())-this.startTime,this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()-this.startTime}getDelta(){return this.delta}getElapsed(){return this.elapsed}handleEvent(e){document.hidden||(this.currentTime=performance.now()-this.startTime)}dispose(){this.autoReset=!1}},fo=(()=>{const e=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),t=new Float32Array([0,0,2,0,0,2]),r=new Sa;return r.setAttribute("position",new Ps(e,3)),r.setAttribute("uv",new Ps(t,2)),r})(),$e=class Ji{static get fullscreenGeometry(){return fo}constructor(t="Pass",r=new Ms,i=new xa){this.name=t,this.renderer=null,this.scene=r,this.camera=i,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(t){if(this.rtt===t){const r=this.fullscreenMaterial;r!==null&&(r.needsUpdate=!0),this.rtt=!t}}set mainScene(t){}set mainCamera(t){}setRenderer(t){this.renderer=t}isEnabled(){return this.enabled}setEnabled(t){this.enabled=t}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(t){let r=this.screen;r!==null?r.material=t:(r=new ya(Ji.fullscreenGeometry,t),r.frustumCulled=!1,this.scene===null&&(this.scene=new Ms),this.scene.add(r),this.screen=r)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(t){this.fullscreenMaterial=t}getDepthTexture(){return null}setDepthTexture(t,r=Ft){}render(t,r,i,s,n){throw new Error("Render method not implemented!")}setSize(t,r){}initialize(t,r,i){}dispose(){for(const t of Object.keys(this)){const r=this[t];(r instanceof xt||r instanceof wn||r instanceof Tn||r instanceof Ji)&&this[t].dispose()}this.fullscreenMaterial!==null&&this.fullscreenMaterial.dispose()}},ho=class extends $e{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(e,t,r,i,s){const n=e.state.buffers.stencil;n.setLocked(!1),n.setTest(!1)}},po=`#ifdef COLOR_WRITE
#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#endif
#ifdef DEPTH_WRITE
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}
#endif
#ifdef USE_WEIGHTS
uniform vec4 channelWeights;
#endif
uniform float opacity;varying vec2 vUv;void main(){
#ifdef COLOR_WRITE
vec4 texel=texture2D(inputBuffer,vUv);
#ifdef USE_WEIGHTS
texel*=channelWeights;
#endif
gl_FragColor=opacity*texel;
#ifdef COLOR_SPACE_CONVERSION
#include <colorspace_fragment>
#endif
#include <dithering_fragment>
#else
gl_FragColor=vec4(0.0);
#endif
#ifdef DEPTH_WRITE
gl_FragDepth=readDepth(vUv);
#endif
}`,ds="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",An=class extends Ht{constructor(){super({name:"CopyMaterial",defines:{DEPTH_PACKING:"0",COLOR_WRITE:"1"},uniforms:{inputBuffer:new Y(null),depthBuffer:new Y(null),channelWeights:new Y(null),opacity:new Y(1)},blending:er,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:po,vertexShader:ds}),this.depthFunc=Rn}get inputBuffer(){return this.uniforms.inputBuffer.value}set inputBuffer(e){const t=e!==null;this.colorWrite!==t&&(t?this.defines.COLOR_WRITE=!0:delete this.defines.COLOR_WRITE,this.colorWrite=t,this.needsUpdate=!0),this.uniforms.inputBuffer.value=e}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(e){const t=e!==null;this.depthWrite!==t&&(t?this.defines.DEPTH_WRITE=!0:delete this.defines.DEPTH_WRITE,this.depthTest=t,this.depthWrite=t,this.needsUpdate=!0),this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}get channelWeights(){return this.uniforms.channelWeights.value}set channelWeights(e){e!==null?(this.defines.USE_WEIGHTS="1",this.uniforms.channelWeights.value=e):delete this.defines.USE_WEIGHTS,this.needsUpdate=!0}setInputBuffer(e){this.uniforms.inputBuffer.value=e}getOpacity(e){return this.uniforms.opacity.value}setOpacity(e){this.uniforms.opacity.value=e}},go=class extends $e{constructor(e,t=!0){super("CopyPass"),this.fullscreenMaterial=new An,this.needsSwap=!1,this.renderTarget=e,e===void 0&&(this.renderTarget=new xt(1,1,{minFilter:Ci,magFilter:Ci,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=t}get resize(){return this.autoResize}set resize(e){this.autoResize=e}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(e){this.autoResize=e}render(e,t,r,i,s){this.fullscreenMaterial.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){this.autoResize&&this.renderTarget.setSize(e,t)}initialize(e,t,r){r!==void 0&&(this.renderTarget.texture.type=r,r!==Qt?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":e!==null&&e.outputColorSpace===ke&&(this.renderTarget.texture.colorSpace=ke))}},Fs=new Ni,ps=class extends $e{constructor(e=!0,t=!0,r=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=e,this.depth=t,this.stencil=r,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(e,t,r){this.color=e,this.depth=t,this.stencil=r}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(e){this.overrideClearColor=e}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(e){this.overrideClearAlpha=e}render(e,t,r,i,s){const n=this.overrideClearColor,a=this.overrideClearAlpha,o=e.getClearAlpha(),u=n!==null,c=a>=0;u?(e.getClearColor(Fs),e.setClearColor(n,c?a:o)):c&&e.setClearAlpha(a),e.setRenderTarget(this.renderToScreen?null:t),e.clear(this.color,this.depth,this.stencil),u?e.setClearColor(Fs,o):c&&e.setClearAlpha(o)}},mo=class extends $e{constructor(e,t){super("MaskPass",e,t),this.needsSwap=!1,this.clearPass=new ps(!1,!1,!0),this.inverse=!1}set mainScene(e){this.scene=e}set mainCamera(e){this.camera=e}get inverted(){return this.inverse}set inverted(e){this.inverse=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(e){this.inverted=e}render(e,t,r,i,s){const n=e.getContext(),a=e.state.buffers,o=this.scene,u=this.camera,c=this.clearPass,x=this.inverted?0:1,g=1-x;a.color.setMask(!1),a.depth.setMask(!1),a.color.setLocked(!0),a.depth.setLocked(!0),a.stencil.setTest(!0),a.stencil.setOp(n.REPLACE,n.REPLACE,n.REPLACE),a.stencil.setFunc(n.ALWAYS,x,4294967295),a.stencil.setClear(g),a.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?c.render(e,null):(c.render(e,t),c.render(e,r))),this.renderToScreen?(e.setRenderTarget(null),e.render(o,u)):(e.setRenderTarget(t),e.render(o,u),e.setRenderTarget(r),e.render(o,u)),a.color.setLocked(!1),a.depth.setLocked(!1),a.stencil.setLocked(!1),a.stencil.setFunc(n.EQUAL,1,4294967295),a.stencil.setOp(n.KEEP,n.KEEP,n.KEEP),a.stencil.setLocked(!0)}},vo=class{constructor(e=null,{depthBuffer:t=!0,stencilBuffer:r=!1,multisampling:i=0,frameBufferType:s}={}){this.renderer=null,this.inputBuffer=this.createBuffer(t,r,s,i),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new go,this.depthTexture=null,this.passes=[],this.timer=new uo,this.autoRenderToScreen=!0,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){const t=this.inputBuffer,r=this.multisampling;r>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):r!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(t.depthBuffer,t.stencilBuffer,t.texture.type,e),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){if(this.renderer=e,e!==null){const t=e.getSize(new Ie),r=e.getContext().getContextAttributes().alpha,i=this.inputBuffer.texture.type;i===Qt&&e.outputColorSpace===ke&&(this.inputBuffer.texture.colorSpace=ke,this.outputBuffer.texture.colorSpace=ke,this.inputBuffer.dispose(),this.outputBuffer.dispose()),e.autoClear=!1,this.setSize(t.width,t.height);for(const s of this.passes)s.initialize(e,r,i)}}replaceRenderer(e,t=!0){const r=this.renderer,i=r.domElement.parentNode;return this.setRenderer(e),t&&i!==null&&(i.removeChild(r.domElement),i.appendChild(e.domElement)),r}createDepthTexture(){const e=this.depthTexture=new ha;return this.inputBuffer.depthTexture=e,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(e.format=da,e.type=pa):e.type=ga,e}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const e of this.passes)e.setDepthTexture(null)}}createBuffer(e,t,r,i){const s=this.renderer,n=s===null?new Ie:s.getDrawingBufferSize(new Ie),a={minFilter:Ci,magFilter:Ci,stencilBuffer:t,depthBuffer:e,type:r},o=new xt(n.width,n.height,a);return i>0&&(o.samples=i),r===Qt&&s!==null&&s.outputColorSpace===ke&&(o.texture.colorSpace=ke),o.texture.name="EffectComposer.Buffer",o.texture.generateMipmaps=!1,o}setMainScene(e){for(const t of this.passes)t.mainScene=e}setMainCamera(e){for(const t of this.passes)t.mainCamera=e}addPass(e,t){const r=this.passes,i=this.renderer,s=i.getDrawingBufferSize(new Ie),n=i.getContext().getContextAttributes().alpha,a=this.inputBuffer.texture.type;if(e.setRenderer(i),e.setSize(s.width,s.height),e.initialize(i,n,a),this.autoRenderToScreen&&(r.length>0&&(r[r.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),t!==void 0?r.splice(t,0,e):r.push(e),this.autoRenderToScreen&&(r[r.length-1].renderToScreen=!0),e.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){const o=this.createDepthTexture();for(e of r)e.setDepthTexture(o)}else e.setDepthTexture(this.depthTexture)}removePass(e){const t=this.passes,r=t.indexOf(e);if(r!==-1&&t.splice(r,1).length>0){if(this.depthTexture!==null){const n=(o,u)=>o||u.needsDepthTexture;t.reduce(n,!1)||(e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&r===t.length&&(e.renderToScreen=!1,t.length>0&&(t[t.length-1].renderToScreen=!0))}}removeAllPasses(){const e=this.passes;this.deleteDepthTexture(),e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){const t=this.renderer,r=this.copyPass;let i=this.inputBuffer,s=this.outputBuffer,n=!1,a,o,u;e===void 0&&(this.timer.update(),e=this.timer.getDelta());for(const c of this.passes)c.enabled&&(c.render(t,i,s,e,n),c.needsSwap&&(n&&(r.renderToScreen=c.renderToScreen,a=t.getContext(),o=t.state.buffers.stencil,o.setFunc(a.NOTEQUAL,1,4294967295),r.render(t,i,s,e,n),o.setFunc(a.EQUAL,1,4294967295)),u=i,i=s,s=u),c instanceof mo?n=!0:c instanceof ho&&(n=!1))}setSize(e,t,r){const i=this.renderer,s=i.getSize(new Ie);(e===void 0||t===void 0)&&(e=s.width,t=s.height),(s.width!==e||s.height!==t)&&i.setSize(e,t,r);const n=i.getDrawingBufferSize(new Ie);this.inputBuffer.setSize(n.width,n.height),this.outputBuffer.setSize(n.width,n.height);for(const a of this.passes)a.setSize(n.width,n.height)}reset(){this.dispose(),this.autoRenderToScreen=!0}dispose(){for(const e of this.passes)e.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose(),$e.fullscreenGeometry.dispose()}},Kt={NONE:0,DEPTH:1,CONVOLUTION:2},Z={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},xo=class{constructor(){this.shaderParts=new Map([[Z.FRAGMENT_HEAD,null],[Z.FRAGMENT_MAIN_UV,null],[Z.FRAGMENT_MAIN_IMAGE,null],[Z.VERTEX_HEAD,null],[Z.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=Kt.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=yn}},Gi=!1,Hs=class{constructor(e=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(e),this.meshCount=0,this.replaceMaterial=t=>{if(t.isMesh){let r;if(t.material.flatShading)switch(t.material.side){case oi:r=this.materialsFlatShadedDoubleSide;break;case ai:r=this.materialsFlatShadedBackSide;break;default:r=this.materialsFlatShaded;break}else switch(t.material.side){case oi:r=this.materialsDoubleSide;break;case ai:r=this.materialsBackSide;break;default:r=this.materials;break}this.originalMaterials.set(t,t.material),t.isSkinnedMesh?t.material=r[2]:t.isInstancedMesh?t.material=r[1]:t.material=r[0],++this.meshCount}}}cloneMaterial(e){if(!(e instanceof Ht))return e.clone();const t=e.uniforms,r=new Map;for(const s in t){const n=t[s].value;n.isRenderTargetTexture&&(t[s].value=null,r.set(s,n))}const i=e.clone();for(const s of r)t[s[0]].value=s[1],i.uniforms[s[0]].value=s[1];return i}setMaterial(e){if(this.disposeMaterials(),this.material=e,e!==null){const t=this.materials=[this.cloneMaterial(e),this.cloneMaterial(e),this.cloneMaterial(e)];for(const r of t)r.uniforms=Object.assign({},e.uniforms),r.side=_a;t[2].skinning=!0,this.materialsBackSide=t.map(r=>{const i=this.cloneMaterial(r);return i.uniforms=Object.assign({},e.uniforms),i.side=ai,i}),this.materialsDoubleSide=t.map(r=>{const i=this.cloneMaterial(r);return i.uniforms=Object.assign({},e.uniforms),i.side=oi,i}),this.materialsFlatShaded=t.map(r=>{const i=this.cloneMaterial(r);return i.uniforms=Object.assign({},e.uniforms),i.flatShading=!0,i}),this.materialsFlatShadedBackSide=t.map(r=>{const i=this.cloneMaterial(r);return i.uniforms=Object.assign({},e.uniforms),i.flatShading=!0,i.side=ai,i}),this.materialsFlatShadedDoubleSide=t.map(r=>{const i=this.cloneMaterial(r);return i.uniforms=Object.assign({},e.uniforms),i.flatShading=!0,i.side=oi,i})}}render(e,t,r){const i=e.shadowMap.enabled;if(e.shadowMap.enabled=!1,Gi){const s=this.originalMaterials;this.meshCount=0,t.traverse(this.replaceMaterial),e.render(t,r);for(const n of s)n[0].material=n[1];this.meshCount!==s.size&&s.clear()}else{const s=t.overrideMaterial;t.overrideMaterial=this.material,e.render(t,r),t.overrideMaterial=s}e.shadowMap.enabled=i}disposeMaterials(){if(this.material!==null){const e=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const t of e)t.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return Gi}static set workaroundEnabled(e){Gi=e}},Yt=-1,De=class extends hs{constructor(e,t=Yt,r=Yt,i=1){super(),this.resizable=e,this.baseSize=new Ie(1,1),this.preferredSize=new Ie(t,r),this.target=this.preferredSize,this.s=i,this.effectiveSize=new Ie,this.addEventListener("change",()=>this.updateEffectiveSize()),this.updateEffectiveSize()}updateEffectiveSize(){const e=this.baseSize,t=this.preferredSize,r=this.effectiveSize,i=this.scale;t.width!==Yt?r.width=t.width:t.height!==Yt?r.width=Math.round(t.height*(e.width/Math.max(e.height,1))):r.width=Math.round(e.width*i),t.height!==Yt?r.height=t.height:t.width!==Yt?r.height=Math.round(t.width/Math.max(e.width/Math.max(e.height,1),1)):r.height=Math.round(e.height*i)}get width(){return this.effectiveSize.width}set width(e){this.preferredWidth=e}get height(){return this.effectiveSize.height}set height(e){this.preferredHeight=e}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(e){this.s!==e&&(this.s=e,this.preferredSize.setScalar(Yt),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(e){this.scale=e}get baseWidth(){return this.baseSize.width}set baseWidth(e){this.baseSize.width!==e&&(this.baseSize.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(e){this.baseWidth=e}get baseHeight(){return this.baseSize.height}set baseHeight(e){this.baseSize.height!==e&&(this.baseSize.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(e){this.baseHeight=e}setBaseSize(e,t){(this.baseSize.width!==e||this.baseSize.height!==t)&&(this.baseSize.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(e){this.preferredSize.width!==e&&(this.preferredSize.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(e){this.preferredWidth=e}get preferredHeight(){return this.preferredSize.height}set preferredHeight(e){this.preferredSize.height!==e&&(this.preferredSize.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(e){this.preferredHeight=e}setPreferredSize(e,t){(this.preferredSize.width!==e||this.preferredSize.height!==t)&&(this.preferredSize.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(e){this.s=e.scale,this.baseSize.set(e.baseWidth,e.baseHeight),this.preferredSize.set(e.preferredWidth,e.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return Yt}},yo=class{constructor(e=0){this.nextId=e}getNextId(){return this.nextId++}reset(e=0){return this.nextId=e,this}},Vi=new yo(2),_o=class extends Set{constructor(e,t=Vi.getNextId()){super(),this.exclusive=!1,this._layer=t,(this._layer<1||this._layer>31)&&(console.warn("Layer out of range, resetting to 2"),Vi.reset(2),this._layer=Vi.getNextId()),e!==void 0&&this.set(e)}get layer(){return this._layer}set layer(e){const t=this._layer;for(const r of this)r.layers.disable(t),r.layers.enable(e);this._layer=e}getLayer(){return this.layer}setLayer(e){this.layer=e}isExclusive(){return this.exclusive}setExclusive(e){this.exclusive=e}clear(){const e=this.layer;for(const t of this)t.layers.disable(e);return super.clear()}set(e){this.clear();for(const t of e)this.add(t);return this}indexOf(e){return this.has(e)?0:-1}add(e){return this.exclusive?e.layers.set(this.layer):e.layers.enable(this.layer),super.add(e)}delete(e){return this.has(e)&&e.layers.disable(this.layer),super.delete(e)}toggle(e){let t;return this.has(e)?(this.delete(e),t=!1):(this.add(e),t=!0),t}setVisible(e){for(const t of this)e?t.layers.enable(0):t.layers.disable(0);return this}},W={ADD:0,AVERAGE:2,COLOR:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,DIVIDE:8,DST:9,EXCLUSION:10,HARD_LIGHT:11,HARD_MIX:12,HUE:13,INVERT:14,INVERT_RGB:15,LIGHTEN:16,LINEAR_BURN:17,LINEAR_DODGE:18,LINEAR_LIGHT:19,LUMINOSITY:20,MULTIPLY:21,NEGATION:22,NORMAL:23,OVERLAY:24,PIN_LIGHT:25,REFLECT:26,SATURATION:27,SCREEN:28,SOFT_LIGHT:29,SRC:30,SUBTRACT:31,VIVID_LIGHT:32},bo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(x.rgb+y.rgb,y.a),y.a*opacity);}",So="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4((x.rgb+y.rgb)*0.5,y.a),y.a*opacity);}",wo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.xy,xHSL.z));return mix(x,vec4(z,y.a),y.a*opacity);}",To="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 a=x.rgb,b=y.rgb;vec3 z=mix(step(0.0,b)*(1.0-min(vec3(1.0),(1.0-a)/b)),vec3(1.0),step(1.0,a));return mix(x,vec4(z,y.a),y.a*opacity);}",Eo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 a=x.rgb,b=y.rgb;vec3 z=step(0.0,a)*mix(min(vec3(1.0),a/max(1.0-b,1e-9)),vec3(1.0),step(1.0,b));return mix(x,vec4(z,y.a),y.a*opacity);}",Mo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(min(x.rgb,y.rgb),y.a),y.a*opacity);}",Ro="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(abs(x.rgb-y.rgb),y.a),y.a*opacity);}",Po="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(x.rgb/max(y.rgb,1e-12),y.a),y.a*opacity);}",Co="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4((x.rgb+y.rgb-2.0*x.rgb*y.rgb),y.a),y.a*opacity);}",Do="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 a=min(x.rgb,1.0);vec3 b=min(y.rgb,1.0);vec3 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,b));return mix(x,vec4(z,y.a),y.a*opacity);}",Ao="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(step(1.0,x.rgb+y.rgb),y.a),y.a*opacity);}",Bo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.x,xHSL.yz));return mix(x,vec4(z,y.a),y.a*opacity);}",Uo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(1.0-y.rgb,y.a),y.a*opacity);}",No="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(y.rgb*(1.0-x.rgb),y.a),y.a*opacity);}",Oo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(max(x.rgb,y.rgb),y.a),y.a*opacity);}",Io="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(clamp(y.rgb+x.rgb-1.0,0.0,1.0),y.a),y.a*opacity);}",ko="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(min(x.rgb+y.rgb,1.0),y.a),y.a*opacity);}",zo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(clamp(2.0*y.rgb+x.rgb-1.0,0.0,1.0),y.a),y.a*opacity);}",Fo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.xy,yHSL.z));return mix(x,vec4(z,y.a),y.a*opacity);}",Ho="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(x.rgb*y.rgb,y.a),y.a*opacity);}",Lo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(1.0-abs(1.0-x.rgb-y.rgb),y.a),y.a*opacity);}",jo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,y.a*opacity);}",Go="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 z=mix(2.0*y.rgb*x.rgb,1.0-2.0*(1.0-y.rgb)*(1.0-x.rgb),step(0.5,x.rgb));return mix(x,vec4(z,y.a),y.a*opacity);}",Vo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 y2=2.0*y.rgb;vec3 z=mix(mix(y2,x.rgb,step(0.5*x.rgb,y.rgb)),max(y2-1.0,vec3(0.0)),step(x.rgb,y2-1.0));return mix(x,vec4(z,y.a),y.a*opacity);}",Wo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 z=mix(min(x.rgb*x.rgb/max(1.0-y.rgb,1e-12),1.0),y.rgb,step(1.0,y.rgb));return mix(x,vec4(z,y.a),y.a*opacity);}",Yo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.x,yHSL.y,xHSL.z));return mix(x,vec4(z,y.a),y.a*opacity);}",Xo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(x.rgb+y.rgb-min(x.rgb*y.rgb,1.0),y.a),y.a*opacity);}",qo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 a=x.rgb;vec3 b=y.rgb;vec3 y2=2.0*b;vec3 w=step(0.5,b);vec3 c=a-(1.0-y2)*a*(1.0-a);vec3 d=mix(a+(y2-1.0)*(sqrt(a)-a),a+(y2-1.0)*a*((16.0*a-12.0)*a+3.0),w*(1.0-step(0.25,a)));vec3 z=mix(c,d,w);return mix(x,vec4(z,y.a),y.a*opacity);}",$o="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}",Ko="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(max(x.rgb+y.rgb-1.0,0.0),y.a),y.a*opacity);}",Zo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 z=mix(max(1.0-min((1.0-x.rgb)/(2.0*y.rgb),1.0),0.0),min(x.rgb/(2.0*(1.0-y.rgb)),1.0),step(0.5,y.rgb));return mix(x,vec4(z,y.a),y.a*opacity);}",Qo=new Map([[W.ADD,bo],[W.AVERAGE,So],[W.COLOR,wo],[W.COLOR_BURN,To],[W.COLOR_DODGE,Eo],[W.DARKEN,Mo],[W.DIFFERENCE,Ro],[W.DIVIDE,Po],[W.DST,null],[W.EXCLUSION,Co],[W.HARD_LIGHT,Do],[W.HARD_MIX,Ao],[W.HUE,Bo],[W.INVERT,Uo],[W.INVERT_RGB,No],[W.LIGHTEN,Oo],[W.LINEAR_BURN,Io],[W.LINEAR_DODGE,ko],[W.LINEAR_LIGHT,zo],[W.LUMINOSITY,Fo],[W.MULTIPLY,Ho],[W.NEGATION,Lo],[W.NORMAL,jo],[W.OVERLAY,Go],[W.PIN_LIGHT,Vo],[W.REFLECT,Wo],[W.SATURATION,Yo],[W.SCREEN,Xo],[W.SOFT_LIGHT,qo],[W.SRC,$o],[W.SUBTRACT,Ko],[W.VIVID_LIGHT,Zo]]),Jo=class extends hs{constructor(e,t=1){super(),this._blendFunction=e,this.opacity=new Y(t)}getOpacity(){return this.opacity.value}setOpacity(e){this.opacity.value=e}get blendFunction(){return this._blendFunction}set blendFunction(e){this._blendFunction=e,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(e){this.blendFunction=e}getShaderCode(){return Qo.get(this.blendFunction)}},es=class extends hs{constructor(e,t,{attributes:r=Kt.NONE,blendFunction:i=W.NORMAL,defines:s=new Map,uniforms:n=new Map,extensions:a=null,vertexShader:o=null}={}){super(),this.name=e,this.renderer=null,this.attributes=r,this.fragmentShader=t,this.vertexShader=o,this.defines=s,this.uniforms=n,this.extensions=a,this.blendMode=new Jo(i),this.blendMode.addEventListener("change",u=>this.setChanged()),this._inputColorSpace=yn,this._outputColorSpace=_n}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(e){this._inputColorSpace=e,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e,this.setChanged()}set mainScene(e){}set mainCamera(e){}getName(){return this.name}setRenderer(e){this.renderer=e}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(e){this.attributes=e,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(e){this.fragmentShader=e,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(e){this.vertexShader=e,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(e,t=Ft){}update(e,t,r){}setSize(e,t){}initialize(e,t,r){}dispose(){for(const e of Object.keys(this)){const t=this[e];(t instanceof xt||t instanceof wn||t instanceof Tn||t instanceof $e)&&this[e].dispose()}}},gs={MEDIUM:2,LARGE:3},el=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <colorspace_fragment>
}`,tl="uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",rl=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],il=class extends Ht{constructor(e=new Cs){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new Y(null),texelSize:new Y(new Cs),scale:new Y(1),kernel:new Y(0)},blending:er,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:el,vertexShader:tl}),this.setTexelSize(e.x,e.y),this.kernelSize=gs.MEDIUM}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.inputBuffer=e}get kernelSequence(){return rl[this.kernelSize]}get scale(){return this.uniforms.scale.value}set scale(e){this.uniforms.scale.value=e}getScale(){return this.uniforms.scale.value}setScale(e){this.uniforms.scale.value=e}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(e){this.uniforms.kernel.value=e}setKernel(e){this.kernel=e}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t,e*.5,t*.5)}setSize(e,t){const r=1/e,i=1/t;this.uniforms.texelSize.value.set(r,i,r*.5,i*.5)}},sl=class extends $e{constructor({kernelSize:e=gs.MEDIUM,resolutionScale:t=.5,width:r=De.AUTO_SIZE,height:i=De.AUTO_SIZE,resolutionX:s=r,resolutionY:n=i}={}){super("KawaseBlurPass"),this.renderTargetA=new xt(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";const a=this.resolution=new De(this,s,n,t);a.addEventListener("change",o=>this.setSize(a.baseWidth,a.baseHeight)),this._blurMaterial=new il,this._blurMaterial.kernelSize=e,this.copyMaterial=new An}getResolution(){return this.resolution}get blurMaterial(){return this._blurMaterial}set blurMaterial(e){this._blurMaterial=e}get dithering(){return this.copyMaterial.dithering}set dithering(e){this.copyMaterial.dithering=e}get kernelSize(){return this.blurMaterial.kernelSize}set kernelSize(e){this.blurMaterial.kernelSize=e}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get scale(){return this.blurMaterial.scale}set scale(e){this.blurMaterial.scale=e}getScale(){return this.blurMaterial.scale}setScale(e){this.blurMaterial.scale=e}getKernelSize(){return this.kernelSize}setKernelSize(e){this.kernelSize=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,r,i,s){const n=this.scene,a=this.camera,o=this.renderTargetA,u=this.renderTargetB,c=this.blurMaterial,x=c.kernelSequence;let g=t;this.fullscreenMaterial=c;for(let m=0,h=x.length;m<h;++m){const _=(m&1)===0?o:u;c.kernel=x[m],c.inputBuffer=g.texture,e.setRenderTarget(_),e.render(n,a),g=_}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=g.texture,e.setRenderTarget(this.renderToScreen?null:r),e.render(n,a)}setSize(e,t){const r=this.resolution;r.setBaseSize(e,t);const i=r.width,s=r.height;this.renderTargetA.setSize(i,s),this.renderTargetB.setSize(i,s),this.blurMaterial.setSize(e,t)}initialize(e,t,r){r!==void 0&&(this.renderTargetA.texture.type=r,this.renderTargetB.texture.type=r,r!==Qt?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):e!==null&&e.outputColorSpace===ke&&(this.renderTargetA.texture.colorSpace=ke,this.renderTargetB.texture.colorSpace=ke))}static get AUTO_SIZE(){return De.AUTO_SIZE}},nl=`#include <common>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef RANGE
uniform vec2 range;
#elif defined(THRESHOLD)
uniform float threshold;uniform float smoothing;
#endif
varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);float mask=1.0;
#ifdef RANGE
float low=step(range.x,l);float high=step(l,range.y);mask=low*high;
#elif defined(THRESHOLD)
mask=smoothstep(threshold,threshold+smoothing,l);
#endif
#ifdef COLOR
gl_FragColor=texel*mask;
#else
gl_FragColor=vec4(l*mask);
#endif
}`,al=class extends Ht{constructor(e=!1,t=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:En.replace(/\D+/g,"")},uniforms:{inputBuffer:new Y(null),threshold:new Y(0),smoothing:new Y(1),range:new Y(null)},blending:er,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:nl,vertexShader:ds}),this.colorOutput=e,this.luminanceRange=t}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get threshold(){return this.uniforms.threshold.value}set threshold(e){this.smoothing>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=e}getThreshold(){return this.threshold}setThreshold(e){this.threshold=e}get smoothing(){return this.uniforms.smoothing.value}set smoothing(e){this.threshold>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=e}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(e){this.smoothing=e}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(e){}get colorOutput(){return this.defines.COLOR!==void 0}set colorOutput(e){e?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(e){return this.colorOutput}setColorOutputEnabled(e){this.colorOutput=e}get useRange(){return this.luminanceRange!==null}set useRange(e){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(e){e!==null?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=e,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(e){this.luminanceRange=e}},ol=class extends $e{constructor({renderTarget:e,luminanceRange:t,colorOutput:r,resolutionScale:i=1,width:s=De.AUTO_SIZE,height:n=De.AUTO_SIZE,resolutionX:a=s,resolutionY:o=n}={}){super("LuminancePass"),this.fullscreenMaterial=new al(r,t),this.needsSwap=!1,this.renderTarget=e,this.renderTarget===void 0&&(this.renderTarget=new xt(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target");const u=this.resolution=new De(this,a,o,i);u.addEventListener("change",c=>this.setSize(u.baseWidth,u.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(e,t,r,i,s){const n=this.fullscreenMaterial;n.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){const r=this.resolution;r.setBaseSize(e,t),this.renderTarget.setSize(r.width,r.height)}initialize(e,t,r){r!==void 0&&r!==Qt&&(this.renderTarget.texture.type=r,this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},ll=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#define WEIGHT_INNER 0.125
#define WEIGHT_OUTER 0.0555555
varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;float clampToBorder(const in vec2 uv){return float(uv.s>=0.0&&uv.s<=1.0&&uv.t>=0.0&&uv.t<=1.0);}void main(){vec4 c=vec4(0.0);vec4 w=WEIGHT_INNER*vec4(clampToBorder(vUv00),clampToBorder(vUv01),clampToBorder(vUv02),clampToBorder(vUv03));c+=w.x*texture2D(inputBuffer,vUv00);c+=w.y*texture2D(inputBuffer,vUv01);c+=w.z*texture2D(inputBuffer,vUv02);c+=w.w*texture2D(inputBuffer,vUv03);w=WEIGHT_OUTER*vec4(clampToBorder(vUv04),clampToBorder(vUv05),clampToBorder(vUv06),clampToBorder(vUv07));c+=w.x*texture2D(inputBuffer,vUv04);c+=w.y*texture2D(inputBuffer,vUv05);c+=w.z*texture2D(inputBuffer,vUv06);c+=w.w*texture2D(inputBuffer,vUv07);w=WEIGHT_OUTER*vec4(clampToBorder(vUv08),clampToBorder(vUv09),clampToBorder(vUv10),clampToBorder(vUv11));c+=w.x*texture2D(inputBuffer,vUv08);c+=w.y*texture2D(inputBuffer,vUv09);c+=w.z*texture2D(inputBuffer,vUv10);c+=w.w*texture2D(inputBuffer,vUv11);c+=WEIGHT_OUTER*texture2D(inputBuffer,vUv);gl_FragColor=c;
#include <colorspace_fragment>
}`,cl="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;void main(){vUv=position.xy*0.5+0.5;vUv00=vUv+texelSize*vec2(-1.0,1.0);vUv01=vUv+texelSize*vec2(1.0,1.0);vUv02=vUv+texelSize*vec2(-1.0,-1.0);vUv03=vUv+texelSize*vec2(1.0,-1.0);vUv04=vUv+texelSize*vec2(-2.0,2.0);vUv05=vUv+texelSize*vec2(0.0,2.0);vUv06=vUv+texelSize*vec2(2.0,2.0);vUv07=vUv+texelSize*vec2(-2.0,0.0);vUv08=vUv+texelSize*vec2(2.0,0.0);vUv09=vUv+texelSize*vec2(-2.0,-2.0);vUv10=vUv+texelSize*vec2(0.0,-2.0);vUv11=vUv+texelSize*vec2(2.0,-2.0);gl_Position=vec4(position.xy,1.0,1.0);}",ul=class extends Ht{constructor(){super({name:"DownsamplingMaterial",uniforms:{inputBuffer:new Y(null),texelSize:new Y(new Ie)},blending:er,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:ll,vertexShader:cl})}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}},fl=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;uniform mediump sampler2D supportBuffer;
#else
uniform lowp sampler2D inputBuffer;uniform lowp sampler2D supportBuffer;
#endif
uniform float radius;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vec4 c=vec4(0.0);c+=texture2D(inputBuffer,vUv0)*0.0625;c+=texture2D(inputBuffer,vUv1)*0.125;c+=texture2D(inputBuffer,vUv2)*0.0625;c+=texture2D(inputBuffer,vUv3)*0.125;c+=texture2D(inputBuffer,vUv)*0.25;c+=texture2D(inputBuffer,vUv4)*0.125;c+=texture2D(inputBuffer,vUv5)*0.0625;c+=texture2D(inputBuffer,vUv6)*0.125;c+=texture2D(inputBuffer,vUv7)*0.0625;vec4 baseColor=texture2D(supportBuffer,vUv);gl_FragColor=mix(baseColor,c,radius);
#include <colorspace_fragment>
}`,hl="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,1.0);vUv1=vUv+texelSize*vec2(0.0,1.0);vUv2=vUv+texelSize*vec2(1.0,1.0);vUv3=vUv+texelSize*vec2(-1.0,0.0);vUv4=vUv+texelSize*vec2(1.0,0.0);vUv5=vUv+texelSize*vec2(-1.0,-1.0);vUv6=vUv+texelSize*vec2(0.0,-1.0);vUv7=vUv+texelSize*vec2(1.0,-1.0);gl_Position=vec4(position.xy,1.0,1.0);}",dl=class extends Ht{constructor(){super({name:"UpsamplingMaterial",uniforms:{inputBuffer:new Y(null),supportBuffer:new Y(null),texelSize:new Y(new Ie),radius:new Y(.85)},blending:er,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:fl,vertexShader:hl})}set inputBuffer(e){this.uniforms.inputBuffer.value=e}set supportBuffer(e){this.uniforms.supportBuffer.value=e}get radius(){return this.uniforms.radius.value}set radius(e){this.uniforms.radius.value=e}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}},pl=class extends $e{constructor(){super("MipmapBlurPass"),this.needsSwap=!1,this.renderTarget=new xt(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Upsampling.Mipmap0",this.downsamplingMipmaps=[],this.upsamplingMipmaps=[],this.downsamplingMaterial=new ul,this.upsamplingMaterial=new dl,this.resolution=new Ie}get texture(){return this.renderTarget.texture}get levels(){return this.downsamplingMipmaps.length}set levels(e){if(this.levels!==e){const t=this.renderTarget;this.dispose(),this.downsamplingMipmaps=[],this.upsamplingMipmaps=[];for(let r=0;r<e;++r){const i=t.clone();i.texture.name="Downsampling.Mipmap"+r,this.downsamplingMipmaps.push(i)}this.upsamplingMipmaps.push(t);for(let r=1,i=e-1;r<i;++r){const s=t.clone();s.texture.name="Upsampling.Mipmap"+r,this.upsamplingMipmaps.push(s)}this.setSize(this.resolution.x,this.resolution.y)}}get radius(){return this.upsamplingMaterial.radius}set radius(e){this.upsamplingMaterial.radius=e}render(e,t,r,i,s){const{scene:n,camera:a}=this,{downsamplingMaterial:o,upsamplingMaterial:u}=this,{downsamplingMipmaps:c,upsamplingMipmaps:x}=this;let g=t;this.fullscreenMaterial=o;for(let m=0,h=c.length;m<h;++m){const _=c[m];o.setSize(g.width,g.height),o.inputBuffer=g.texture,e.setRenderTarget(_),e.render(n,a),g=_}this.fullscreenMaterial=u;for(let m=x.length-1;m>=0;--m){const h=x[m];u.setSize(g.width,g.height),u.inputBuffer=g.texture,u.supportBuffer=c[m].texture,e.setRenderTarget(h),e.render(n,a),g=h}}setSize(e,t){const r=this.resolution;r.set(e,t);let i=r.width,s=r.height;for(let n=0,a=this.downsamplingMipmaps.length;n<a;++n)i=Math.round(i*.5),s=Math.round(s*.5),this.downsamplingMipmaps[n].setSize(i,s),n<this.upsamplingMipmaps.length&&this.upsamplingMipmaps[n].setSize(i,s)}initialize(e,t,r){if(r!==void 0){const i=this.downsamplingMipmaps.concat(this.upsamplingMipmaps);for(const s of i)s.texture.type=r;if(r!==Qt)this.downsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.upsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1";else if(e!==null&&e.outputColorSpace===ke)for(const s of i)s.texture.colorSpace=ke}}dispose(){super.dispose();for(const e of this.downsamplingMipmaps.concat(this.upsamplingMipmaps))e.dispose()}},gl=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 texel=texture2D(map,uv);outputColor=vec4(texel.rgb*intensity,max(inputColor.a,texel.a));}`,ml=class extends es{constructor({blendFunction:e=W.SCREEN,luminanceThreshold:t=1,luminanceSmoothing:r=.03,mipmapBlur:i=!0,intensity:s=1,radius:n=.85,levels:a=8,kernelSize:o=gs.LARGE,resolutionScale:u=.5,width:c=De.AUTO_SIZE,height:x=De.AUTO_SIZE,resolutionX:g=c,resolutionY:m=x}={}){super("BloomEffect",gl,{blendFunction:e,uniforms:new Map([["map",new Y(null)],["intensity",new Y(s)]])}),this.renderTarget=new xt(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.blurPass=new sl({kernelSize:o}),this.luminancePass=new ol({colorOutput:!0}),this.luminanceMaterial.threshold=t,this.luminanceMaterial.smoothing=r,this.mipmapBlurPass=new pl,this.mipmapBlurPass.enabled=i,this.mipmapBlurPass.radius=n,this.mipmapBlurPass.levels=a,this.uniforms.get("map").value=i?this.mipmapBlurPass.texture:this.renderTarget.texture;const h=this.resolution=new De(this,g,m,u);h.addEventListener("change",_=>this.setSize(h.baseWidth,h.baseHeight))}get texture(){return this.mipmapBlurPass.enabled?this.mipmapBlurPass.texture:this.renderTarget.texture}getTexture(){return this.texture}getResolution(){return this.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get dithering(){return this.blurPass.dithering}set dithering(e){this.blurPass.dithering=e}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(e){this.blurPass.kernelSize=e}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(e){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(e){this.uniforms.get("intensity").value=e}getIntensity(){return this.intensity}setIntensity(e){this.intensity=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}update(e,t,r){const i=this.renderTarget,s=this.luminancePass;s.enabled?(s.render(e,t),this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(e,s.renderTarget):this.blurPass.render(e,s.renderTarget,i)):this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(e,t):this.blurPass.render(e,t,i)}setSize(e,t){const r=this.resolution;r.setBaseSize(e,t),this.renderTarget.setSize(r.width,r.height),this.blurPass.resolution.copy(r),this.luminancePass.setSize(e,t),this.mipmapBlurPass.setSize(e,t)}initialize(e,t,r){this.blurPass.initialize(e,t,r),this.luminancePass.initialize(e,t,r),this.mipmapBlurPass.initialize(e,t,r),r!==void 0&&(this.renderTarget.texture.type=r,e!==null&&e.outputColorSpace===ke&&(this.renderTarget.texture.colorSpace=ke))}},vl=class extends $e{constructor(e,t="inputBuffer"){super("ShaderPass"),this.fullscreenMaterial=e,this.input=t}setInput(e){this.input=e}render(e,t,r,i,s){const n=this.fullscreenMaterial.uniforms;t!==null&&n!==void 0&&n[this.input]!==void 0&&(n[this.input].value=t.texture),e.setRenderTarget(this.renderToScreen?null:r),e.render(this.scene,this.camera)}initialize(e,t,r){r!==void 0&&r!==Qt&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},ms=class extends $e{constructor(e,t,r=null){super("RenderPass",e,t),this.needsSwap=!1,this.clearPass=new ps,this.overrideMaterialManager=r===null?null:new Hs(r),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(e){this.scene=e}set mainCamera(e){this.camera=e}get renderToScreen(){return super.renderToScreen}set renderToScreen(e){super.renderToScreen=e,this.clearPass.renderToScreen=e}get overrideMaterial(){const e=this.overrideMaterialManager;return e!==null?e.material:null}set overrideMaterial(e){const t=this.overrideMaterialManager;e!==null?t!==null?t.setMaterial(e):this.overrideMaterialManager=new Hs(e):t!==null&&(t.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(e){this.overrideMaterial=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getSelection(){return this.selection}setSelection(e){this.selection=e}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(e){this.ignoreBackground=e}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(e){this.skipShadowMapUpdate=e}getClearPass(){return this.clearPass}render(e,t,r,i,s){const n=this.scene,a=this.camera,o=this.selection,u=a.layers.mask,c=n.background,x=e.shadowMap.autoUpdate,g=this.renderToScreen?null:t;o!==null&&a.layers.set(o.getLayer()),this.skipShadowMapUpdate&&(e.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(n.background=null),this.clearPass.enabled&&this.clearPass.render(e,t),e.setRenderTarget(g),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(e,n,a):e.render(n,a),a.layers.mask=u,n.background=c,e.shadowMap.autoUpdate=x}},Gr={KEEP_MAX_DEPTH:1,DISCARD_MAX_DEPTH:2},xl=class extends $e{constructor(e,t,{renderTarget:r,resolutionScale:i=1,width:s=De.AUTO_SIZE,height:n=De.AUTO_SIZE,resolutionX:a=s,resolutionY:o=n}={}){super("DepthPass"),this.needsSwap=!1,this.renderPass=new ms(e,t,new ba({depthPacking:bn}));const u=this.renderPass;u.skipShadowMapUpdate=!0,u.ignoreBackground=!0,this.renderTarget=r,this.renderTarget===void 0&&(this.renderTarget=new xt(1,1,{minFilter:Rr,magFilter:Rr}),this.renderTarget.texture.name="DepthPass.Target");const c=this.resolution=new De(this,a,o,i);c.addEventListener("change",x=>this.setSize(c.baseWidth,c.baseHeight))}set mainScene(e){this.renderPass.mainScene=e}set mainCamera(e){this.renderPass.mainCamera=e}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,r,i,s){const n=this.renderToScreen?null:this.renderTarget;this.renderPass.render(e,n)}setSize(e,t){const r=this.resolution;r.setBaseSize(e,t),this.renderTarget.setSize(r.width,r.height)}initialize(e,t,r){const i=e.capabilities.reversedDepthBuffer?0:16777215,s=this.renderPass.clearPass;s.overrideClearColor=new Ni(i),s.overrideClearAlpha=1}},yl=`#include <common>
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer0;uniform highp sampler2D depthBuffer1;
#else
uniform mediump sampler2D depthBuffer0;uniform mediump sampler2D depthBuffer1;
#endif
uniform sampler2D inputBuffer;uniform vec2 cameraNearFar;float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#else
return orthographicDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#endif
}varying vec2 vUv;void main(){vec2 depth;
#if DEPTH_PACKING_0 == 3201
depth.x=unpackRGBAToDepth(texture2D(depthBuffer0,vUv));
#else
depth.x=texture2D(depthBuffer0,vUv).r;
#endif
#if DEPTH_PACKING_1 == 3201
depth.y=unpackRGBAToDepth(texture2D(depthBuffer1,vUv));
#else
depth.y=texture2D(depthBuffer1,vUv).r;
#endif
#if defined(USE_LOGARITHMIC_DEPTH_BUFFER) || defined(LOG_DEPTH)
float a=cameraNearFar.y/(cameraNearFar.y-cameraNearFar.x);float b=cameraNearFar.y*cameraNearFar.x/(cameraNearFar.x-cameraNearFar.y);float c=log2(cameraNearFar.y+1.0);float d=pow(2.0,depth.x*c)-1.0;depth.x=a+b/d;d=pow(2.0,depth.y*c)-1.0;depth.y=a+b/d;
#elif defined(USE_REVERSED_DEPTH_BUFFER)
depth.x=1.0-depth.x;depth.y=1.0-depth.y;
#endif
bool isMaxDepth=(depth.x==1.0);
#ifdef PERSPECTIVE_CAMERA
depth.x=viewZToOrthographicDepth(getViewZ(depth.x),cameraNearFar.x,cameraNearFar.y);depth.y=viewZToOrthographicDepth(getViewZ(depth.y),cameraNearFar.x,cameraNearFar.y);
#endif
#if DEPTH_TEST_STRATEGY == 0
bool keep=depthTest(depth.x,depth.y);
#elif DEPTH_TEST_STRATEGY == 1
bool keep=isMaxDepth||depthTest(depth.x,depth.y);
#else
bool keep=!isMaxDepth&&depthTest(depth.x,depth.y);
#endif
if(keep){gl_FragColor=texture2D(inputBuffer,vUv);}else{discard;}}`,_l=class extends Ht{constructor(){super({name:"DepthMaskMaterial",defines:{DEPTH_EPSILON:"0.0001",DEPTH_PACKING_0:"0",DEPTH_PACKING_1:"0",DEPTH_TEST_STRATEGY:Gr.KEEP_MAX_DEPTH},uniforms:{inputBuffer:new Y(null),depthBuffer0:new Y(null),depthBuffer1:new Y(null),cameraNearFar:new Y(new Ie(1,1))},blending:er,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:yl,vertexShader:ds}),this.depthMode=Rs}set depthBuffer0(e){this.uniforms.depthBuffer0.value=e}set depthPacking0(e){this.defines.DEPTH_PACKING_0=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer0(e,t=Ft){this.depthBuffer0=e,this.depthPacking0=t}set depthBuffer1(e){this.uniforms.depthBuffer1.value=e}set depthPacking1(e){this.defines.DEPTH_PACKING_1=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer1(e,t=Ft){this.depthBuffer1=e,this.depthPacking1=t}get maxDepthStrategy(){return Number(this.defines.DEPTH_TEST_STRATEGY)}set maxDepthStrategy(e){this.defines.DEPTH_TEST_STRATEGY=e.toFixed(0),this.needsUpdate=!0}get keepFar(){return this.maxDepthStrategy}set keepFar(e){this.maxDepthStrategy=e?Gr.KEEP_MAX_DEPTH:Gr.DISCARD_MAX_DEPTH}getMaxDepthStrategy(){return this.maxDepthStrategy}setMaxDepthStrategy(e){this.maxDepthStrategy=e}get epsilon(){return Number(this.defines.DEPTH_EPSILON)}set epsilon(e){this.defines.DEPTH_EPSILON=e.toFixed(16),this.needsUpdate=!0}getEpsilon(){return this.epsilon}setEpsilon(e){this.epsilon=e}get depthMode(){return Number(this.defines.DEPTH_MODE)}set depthMode(e){let t;switch(e){case Ma:t="false";break;case Rn:t="true";break;case Qi:t="abs(d1 - d0) <= DEPTH_EPSILON";break;case Sn:t="abs(d1 - d0) > DEPTH_EPSILON";break;case Rs:t="d0 > d1";break;case Ea:t="d0 >= d1";break;case Ta:t="d0 <= d1";break;case wa:default:t="d0 < d1";break}this.defines.DEPTH_MODE=e.toFixed(0),this.defines["depthTest(d0, d1)"]=t,this.needsUpdate=!0}getDepthMode(){return this.depthMode}setDepthMode(e){this.depthMode=e}adoptCameraSettings(e){this.copyCameraSettings(e)}copyCameraSettings(e){e&&(this.uniforms.cameraNearFar.value.set(e.near,e.far),e instanceof Mn?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},bl=class extends ml{constructor(e,t,r){super(r),this.setAttributes(this.getAttributes()|Kt.DEPTH),this.camera=t,this.depthPass=new xl(e,t),this.clearPass=new ps(!0,!1,!1),this.clearPass.overrideClearColor=new Ni(0),this.depthMaskPass=new vl(new _l);const i=this.depthMaskMaterial;i.copyCameraSettings(t),i.depthBuffer1=this.depthPass.texture,i.depthPacking1=bn,i.depthMode=Qi,this.renderTargetMasked=new xt(1,1,{depthBuffer:!1}),this.renderTargetMasked.texture.name="Bloom.Masked",this.selection=new _o,this._inverted=!1,this._ignoreBackground=!1}set mainScene(e){this.depthPass.mainScene=e}set mainCamera(e){this.camera=e,this.depthPass.mainCamera=e,this.depthMaskMaterial.copyCameraSettings(e)}getSelection(){return this.selection}get depthMaskMaterial(){return this.depthMaskPass.fullscreenMaterial}get inverted(){return this._inverted}set inverted(e){this._inverted=e,this.depthMaskMaterial.depthMode=e?Sn:Qi}isInverted(){return this.inverted}setInverted(e){this.inverted=e}get ignoreBackground(){return this._ignoreBackground}set ignoreBackground(e){this._ignoreBackground=e,this.depthMaskMaterial.maxDepthStrategy=e?Gr.DISCARD_MAX_DEPTH:Gr.KEEP_MAX_DEPTH}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(e){this.ignoreBackground=e}setDepthTexture(e,t=Ft){this.depthMaskMaterial.depthBuffer0=e,this.depthMaskMaterial.depthPacking0=t}update(e,t,r){const i=this.camera,s=this.selection,n=this.inverted;let a=t;if(this.ignoreBackground||!n||s.size>0){const o=i.layers.mask;i.layers.set(s.layer),this.depthPass.render(e),i.layers.mask=o,a=this.renderTargetMasked,this.clearPass.render(e,a),this.depthMaskPass.render(e,t,a)}super.update(e,a,r)}setSize(e,t){super.setSize(e,t),this.renderTargetMasked.setSize(e,t),this.depthPass.setSize(e,t)}initialize(e,t,r){super.initialize(e,t,r),this.clearPass.initialize(e,t,r),this.depthPass.initialize(e,t,r),this.depthMaskPass.initialize(e,t,r),e!==null&&e.capabilities.logarithmicDepthBuffer&&(this.depthMaskPass.fullscreenMaterial.defines.LOG_DEPTH="1"),r!==void 0&&(this.renderTargetMasked.texture.type=r,e!==null&&e.outputColorSpace===ke&&(this.renderTargetMasked.texture.colorSpace=ke))}},Sl=`#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
#ifdef DOWNSAMPLE_NORMALS
uniform lowp sampler2D normalBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}int findBestDepth(const in float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])*0.25;float distances[4];distances[0]=abs(c-samples[0]);distances[1]=abs(c-samples[1]);distances[2]=abs(c-samples[2]);distances[3]=abs(c-samples[3]);float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){float d[4];d[0]=readDepth(vUv0);d[1]=readDepth(vUv1);d[2]=readDepth(vUv2);d[3]=readDepth(vUv3);int index=findBestDepth(d);
#ifdef DOWNSAMPLE_NORMALS
vec3 n[4];n[0]=texture2D(normalBuffer,vUv0).rgb;n[1]=texture2D(normalBuffer,vUv1).rgb;n[2]=texture2D(normalBuffer,vUv2).rgb;n[3]=texture2D(normalBuffer,vUv3).rgb;
#else
vec3 n[4];n[0]=vec3(0.0);n[1]=vec3(0.0);n[2]=vec3(0.0);n[3]=vec3(0.0);
#endif
gl_FragColor=vec4(n[index],d[index]);}`,wl="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}",Tl=class extends Ht{constructor(){super({name:"DepthDownsamplingMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new Y(null),normalBuffer:new Y(null),texelSize:new Y(new Ie)},blending:er,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Sl,vertexShader:wl})}set depthBuffer(e){this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=Ft){this.depthBuffer=e,this.depthPacking=t}set normalBuffer(e){this.uniforms.normalBuffer.value=e,e!==null?this.defines.DOWNSAMPLE_NORMALS="1":delete this.defines.DOWNSAMPLE_NORMALS,this.needsUpdate=!0}setNormalBuffer(e){this.normalBuffer=e}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t)}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}},El=class extends $e{constructor({normalBuffer:e=null,resolutionScale:t=.5,width:r=De.AUTO_SIZE,height:i=De.AUTO_SIZE,resolutionX:s=r,resolutionY:n=i}={}){super("DepthDownsamplingPass");const a=new Tl;a.normalBuffer=e,this.fullscreenMaterial=a,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new xt(1,1,{minFilter:Rr,magFilter:Rr,depthBuffer:!1,type:va}),this.renderTarget.texture.name="DepthDownsamplingPass.Target",this.renderTarget.texture.generateMipmaps=!1;const o=this.resolution=new De(this,s,n,t);o.addEventListener("change",u=>this.setSize(o.baseWidth,o.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}setDepthTexture(e,t=Ft){this.fullscreenMaterial.depthBuffer=e,this.fullscreenMaterial.depthPacking=t}render(e,t,r,i,s){e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){const r=this.resolution;r.setBaseSize(e,t),this.renderTarget.setSize(r.width,r.height),this.fullscreenMaterial.setSize(e,t)}initialize(e,t,r){const i=e.getContext();if(!(i.getExtension("EXT_color_buffer_float")||i.getExtension("EXT_color_buffer_half_float")))throw new Error("Rendering to float texture is not supported.")}},Ml=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
float depth=unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
float depth=texture2D(depthBuffer,uv).r;
#endif
#if defined(USE_LOGARITHMIC_DEPTH_BUFFER) || defined(LOG_DEPTH)
float d=pow(2.0,depth*log2(cameraFar+1.0))-1.0;float a=cameraFar/(cameraFar-cameraNear);float b=cameraFar*cameraNear/(cameraNear-cameraFar);depth=a+b/d;
#elif defined(USE_REVERSED_DEPTH_BUFFER)
depth=1.0-depth;
#endif
return depth;}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEAD void main(){FRAGMENT_MAIN_UV vec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGE color0.a=clamp(color0.a,0.0,1.0);gl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <colorspace_fragment>
#endif
#include <dithering_fragment>
}`,Rl="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEAD void main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORT gl_Position=vec4(position.xy,1.0,1.0);}",Pl=class extends Ht{constructor(e,t,r,i,s=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:En.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new Y(null),depthBuffer:new Y(null),resolution:new Y(new Ie),texelSize:new Y(new Ie),cameraNear:new Y(.3),cameraFar:new Y(1e3),aspect:new Y(1),time:new Y(0)},blending:er,toneMapped:!1,depthWrite:!1,depthTest:!1,dithering:s}),e&&this.setShaderParts(e),t&&this.setDefines(t),r&&this.setUniforms(r),this.copyCameraSettings(i)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(e){this.uniforms.depthBuffer.value=e}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=Ft){this.depthBuffer=e,this.depthPacking=t}setShaderData(e){this.setShaderParts(e.shaderParts),this.setDefines(e.defines),this.setUniforms(e.uniforms),this.setExtensions(e.extensions)}setShaderParts(e){return this.fragmentShader=Ml.replace(Z.FRAGMENT_HEAD,e.get(Z.FRAGMENT_HEAD)||"").replace(Z.FRAGMENT_MAIN_UV,e.get(Z.FRAGMENT_MAIN_UV)||"").replace(Z.FRAGMENT_MAIN_IMAGE,e.get(Z.FRAGMENT_MAIN_IMAGE)||""),this.vertexShader=Rl.replace(Z.VERTEX_HEAD,e.get(Z.VERTEX_HEAD)||"").replace(Z.VERTEX_MAIN_SUPPORT,e.get(Z.VERTEX_MAIN_SUPPORT)||""),this.needsUpdate=!0,this}setDefines(e){for(const t of e.entries())this.defines[t[0]]=t[1];return this.needsUpdate=!0,this}setUniforms(e){for(const t of e.entries())this.uniforms[t[0]]=t[1];return this}setExtensions(e){this.extensions={};for(const t of e)this.extensions[t]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(e){this.encodeOutput!==e&&(e?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(e){return this.encodeOutput}setOutputEncodingEnabled(e){this.encodeOutput=e}get time(){return this.uniforms.time.value}set time(e){this.uniforms.time.value=e}setDeltaTime(e){this.uniforms.time.value+=e}adoptCameraSettings(e){this.copyCameraSettings(e)}copyCameraSettings(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof Mn?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(e,t){const r=this.uniforms;r.resolution.value.set(e,t),r.texelSize.value.set(1/e,1/t),r.aspect.value=e/t}static get Section(){return Z}};function Ls(e,t,r){for(const i of t){const s="$1"+e+i.charAt(0).toUpperCase()+i.slice(1),n=new RegExp("([^\\.])(\\b"+i+"\\b)","g");for(const a of r.entries())a[1]!==null&&r.set(a[0],a[1].replace(n,s))}}function Cl(e,t,r){let i=t.getFragmentShader(),s=t.getVertexShader();const n=i!==void 0&&/mainImage/.test(i),a=i!==void 0&&/mainUv/.test(i);if(r.attributes|=t.getAttributes(),i===void 0)throw new Error(`Missing fragment shader (${t.name})`);if(a&&(r.attributes&Kt.CONVOLUTION)!==0)throw new Error(`Effects that transform UVs are incompatible with convolution effects (${t.name})`);if(!n&&!a)throw new Error(`Could not find mainImage or mainUv function (${t.name})`);{const o=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,u=r.shaderParts;let c=u.get(Z.FRAGMENT_HEAD)||"",x=u.get(Z.FRAGMENT_MAIN_UV)||"",g=u.get(Z.FRAGMENT_MAIN_IMAGE)||"",m=u.get(Z.VERTEX_HEAD)||"",h=u.get(Z.VERTEX_MAIN_SUPPORT)||"";const _=new Set,B=new Set;if(a&&(x+=`	${e}MainUv(UV);
`,r.uvTransformation=!0),s!==null&&/mainSupport/.test(s)){const M=/mainSupport *\([\w\s]*?uv\s*?\)/.test(s);h+=`	${e}MainSupport(`,h+=M?`vUv);
`:`);
`;for(const w of s.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const E of w[1].split(/\s*,\s*/))r.varyings.add(E),_.add(E),B.add(E);for(const w of s.matchAll(o))B.add(w[1])}for(const M of i.matchAll(o))B.add(M[1]);for(const M of t.defines.keys())B.add(M.replace(/\([\w\s,]*\)/g,""));for(const M of t.uniforms.keys())B.add(M);B.delete("while"),B.delete("for"),B.delete("if"),t.uniforms.forEach((M,w)=>r.uniforms.set(e+w.charAt(0).toUpperCase()+w.slice(1),M)),t.defines.forEach((M,w)=>r.defines.set(e+w.charAt(0).toUpperCase()+w.slice(1),M));const C=new Map([["fragment",i],["vertex",s]]);Ls(e,B,r.defines),Ls(e,B,C),i=C.get("fragment"),s=C.get("vertex");const P=t.blendMode;if(r.blendModes.set(P.blendFunction,P),n){t.inputColorSpace!==null&&t.inputColorSpace!==r.colorSpace&&(g+=t.inputColorSpace===ke?`color0 = sRGBTransferOETF(color0);
	`:`color0 = sRGBToLinear(color0);
	`),t.outputColorSpace!==_n?r.colorSpace=t.outputColorSpace:t.inputColorSpace!==null&&(r.colorSpace=t.inputColorSpace);const M=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;g+=`${e}MainImage(color0, UV, `,(r.attributes&Kt.DEPTH)!==0&&M.test(i)&&(g+="depth, ",r.readDepth=!0),g+=`color1);
	`;const w=e+"BlendOpacity";r.uniforms.set(w,P.opacity),g+=`color0 = blend${P.blendFunction}(color0, color1, ${w});

	`,c+=`uniform float ${w};

`}if(c+=i+`
`,s!==null&&(m+=s+`
`),u.set(Z.FRAGMENT_HEAD,c),u.set(Z.FRAGMENT_MAIN_UV,x),u.set(Z.FRAGMENT_MAIN_IMAGE,g),u.set(Z.VERTEX_HEAD,m),u.set(Z.VERTEX_MAIN_SUPPORT,h),t.extensions!==null)for(const M of t.extensions)r.extensions.add(M)}}var Dl=class extends $e{constructor(e,...t){super("EffectPass"),this.fullscreenMaterial=new Pl(null,null,null,e),this.listener=r=>this.handleEvent(r),this.effects=[],this.setEffects(t),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(e){for(const t of this.effects)t.mainScene=e}set mainCamera(e){this.fullscreenMaterial.copyCameraSettings(e);for(const t of this.effects)t.mainCamera=e}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(e){this.fullscreenMaterial.encodeOutput=e}get dithering(){return this.fullscreenMaterial.dithering}set dithering(e){const t=this.fullscreenMaterial;t.dithering=e,t.needsUpdate=!0}setEffects(e){for(const t of this.effects)t.removeEventListener("change",this.listener);this.effects=e.sort((t,r)=>r.attributes-t.attributes);for(const t of this.effects)t.addEventListener("change",this.listener)}updateMaterial(){const e=new xo;let t=0;for(const a of this.effects)if(a.blendMode.blendFunction===W.DST)e.attributes|=a.getAttributes()&Kt.DEPTH;else{if((e.attributes&a.getAttributes()&Kt.CONVOLUTION)!==0)throw new Error(`Convolution effects cannot be merged (${a.name})`);Cl("e"+t++,a,e)}let r=e.shaderParts.get(Z.FRAGMENT_HEAD),i=e.shaderParts.get(Z.FRAGMENT_MAIN_IMAGE),s=e.shaderParts.get(Z.FRAGMENT_MAIN_UV);const n=/\bblend\b/g;for(const a of e.blendModes.values())r+=a.getShaderCode().replace(n,`blend${a.blendFunction}`)+`
`;(e.attributes&Kt.DEPTH)!==0?(e.readDepth&&(i=`float depth = readDepth(UV);

	`+i),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,e.colorSpace===ke&&(i+=`color0 = sRGBToLinear(color0);
	`),e.uvTransformation?(s=`vec2 transformedUv = vUv;
`+s,e.defines.set("UV","transformedUv")):e.defines.set("UV","vUv"),e.shaderParts.set(Z.FRAGMENT_HEAD,r),e.shaderParts.set(Z.FRAGMENT_MAIN_IMAGE,i),e.shaderParts.set(Z.FRAGMENT_MAIN_UV,s);for(const[a,o]of e.shaderParts)o!==null&&e.shaderParts.set(a,o.trim().replace(/^#/,`
#`));this.skipRendering=t===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(e)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(e,t=Ft){this.fullscreenMaterial.depthBuffer=e,this.fullscreenMaterial.depthPacking=t;for(const r of this.effects)r.setDepthTexture(e,t)}render(e,t,r,i,s){for(const n of this.effects)n.update(e,t,i);if(!this.skipRendering||this.renderToScreen){const n=this.fullscreenMaterial;n.inputBuffer=t.texture,n.time+=i*this.timeScale,e.setRenderTarget(this.renderToScreen?null:r),e.render(this.scene,this.camera)}}setSize(e,t){this.fullscreenMaterial.setSize(e,t);for(const r of this.effects)r.setSize(e,t)}initialize(e,t,r){this.renderer=e;for(const i of this.effects)i.initialize(e,t,r);this.updateMaterial(),r!==void 0&&r!==Qt&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const e of this.effects)e.removeEventListener("change",this.listener),e.dispose()}handleEvent(e){switch(e.type){case"change":this.recompile();break}}},Al=class extends $e{constructor(e,t,{renderTarget:r,resolutionScale:i=1,width:s=De.AUTO_SIZE,height:n=De.AUTO_SIZE,resolutionX:a=s,resolutionY:o=n}={}){super("NormalPass"),this.needsSwap=!1,this.renderPass=new ms(e,t,new ma);const u=this.renderPass;u.ignoreBackground=!0,u.skipShadowMapUpdate=!0;const c=u.getClearPass();c.overrideClearColor=new Ni(7829503),c.overrideClearAlpha=1,this.renderTarget=r,this.renderTarget===void 0&&(this.renderTarget=new xt(1,1,{minFilter:Rr,magFilter:Rr}),this.renderTarget.texture.name="NormalPass.Target");const x=this.resolution=new De(this,a,o,i);x.addEventListener("change",g=>this.setSize(x.baseWidth,x.baseHeight))}set mainScene(e){this.renderPass.mainScene=e}set mainCamera(e){this.renderPass.mainCamera=e}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,r,i,s){const n=this.renderToScreen?null:this.renderTarget;this.renderPass.render(e,n,n)}setSize(e,t){const r=this.resolution;r.setBaseSize(e,t),this.renderTarget.setSize(r.width,r.height)}};function Vr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}new Ie;new Ie;function Bn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var pt=function e(t,r,i){var s=this;Bn(this,e),Vr(this,"dot2",function(n,a){return s.x*n+s.y*a}),Vr(this,"dot3",function(n,a,o){return s.x*n+s.y*a+s.z*o}),this.x=t,this.y=r,this.z=i},Bl=[new pt(1,1,0),new pt(-1,1,0),new pt(1,-1,0),new pt(-1,-1,0),new pt(1,0,1),new pt(-1,0,1),new pt(1,0,-1),new pt(-1,0,-1),new pt(0,1,1),new pt(0,-1,1),new pt(0,1,-1),new pt(0,-1,-1)],js=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],Gs=new Array(512),Vs=new Array(512),Ul=function(t){t>0&&t<1&&(t*=65536),t=Math.floor(t),t<256&&(t|=t<<8);for(var r=0;r<256;r++){var i;r&1?i=js[r]^t&255:i=js[r]^t>>8&255,Gs[r]=Gs[r+256]=i,Vs[r]=Vs[r+256]=Bl[i%12]}};Ul(0);function Nl(e){if(typeof e=="number")e=Math.abs(e);else if(typeof e=="string"){var t=e;e=0;for(var r=0;r<t.length;r++)e=(e+(r+1)*(t.charCodeAt(r)%96))%2147483647}return e===0&&(e=311),e}function Ws(e){var t=Nl(e);return function(){var r=t*48271%2147483647;return t=r,r/2147483647}}var Ol=function e(t){var r=this;Bn(this,e),Vr(this,"seed",0),Vr(this,"init",function(i){r.seed=i,r.value=Ws(i)}),Vr(this,"value",Ws(this.seed)),this.init(t)};new Ol(Math.random());const Il=A.createContext(null),Un=A.createContext(null),Ys=e=>(e.getAttributes()&2)===2,kl=A.memo(A.forwardRef(({children:e,camera:t,scene:r,resolutionScale:i,enabled:s=!0,renderPriority:n=1,autoClear:a=!0,depthBuffer:o,enableNormalPass:u,stencilBuffer:c,multisampling:x=8,frameBufferType:g=Ra},m)=>{const{gl:h,scene:_,camera:B,size:C}=mn(),P=r||_,M=t||B,[w,E,ae]=A.useMemo(()=>{const y=new vo(h,{depthBuffer:o,stencilBuffer:c,multisampling:x,frameBufferType:g});y.addPass(new ms(P,M));let v=null,d=null;return u&&(d=new Al(P,M),d.enabled=!1,y.addPass(d),i!==void 0&&(v=new El({normalBuffer:d.texture,resolutionScale:i}),v.enabled=!1,y.addPass(v))),[y,d,v]},[M,h,o,c,x,g,P,u,i]);A.useEffect(()=>w?.setSize(C.width,C.height),[w,C]),vn((y,v)=>{if(s){const d=h.autoClear;h.autoClear=a,c&&!a&&h.clearStencil(),w.render(v),h.autoClear=d}},s?n:0);const ie=A.useRef(null);A.useLayoutEffect(()=>{const y=[],v=ie.current.__r3f;if(v&&w){const d=v.children;for(let b=0;b<d.length;b++){const S=d[b].object;if(S instanceof es){const Q=[S];if(!Ys(S)){let K=null;for(;(K=d[b+1]?.object)instanceof es&&!Ys(K);)Q.push(K),b++}const $=new Dl(M,...Q);y.push($)}else S instanceof $e&&y.push(S)}for(const b of y)w?.addPass(b);E&&(E.enabled=!0),ae&&(ae.enabled=!0)}return()=>{for(const d of y)w?.removePass(d);E&&(E.enabled=!1),ae&&(ae.enabled=!1)}},[w,e,M,E,ae]),A.useEffect(()=>{const y=h.toneMapping;return h.toneMapping=Pa,()=>{h.toneMapping=y}},[h]);const U=A.useMemo(()=>({composer:w,normalPass:E,downSamplingPass:ae,resolutionScale:i,camera:M,scene:P}),[w,E,ae,i,M,P]);return A.useImperativeHandle(m,()=>w,[w]),l.jsx(Un.Provider,{value:U,children:l.jsx("group",{ref:ie,children:e})})})),ci=e=>typeof e=="object"&&e!=null&&"current"in e?e.current:e,zl=(e,t)=>e.layers.enable(t.selection.layer),Fl=(e,t)=>e.layers.disable(t.selection.layer),Hl=A.forwardRef(function({selection:e=[],selectionLayer:t=10,lights:r=[],inverted:i=!1,ignoreBackground:s=!1,luminanceThreshold:n,luminanceSmoothing:a,intensity:o,width:u,height:c,kernelSize:x,mipmapBlur:g,...m},h){r.length===0&&console.warn("SelectiveBloom requires lights to work.");const _=mn(w=>w.invalidate),{scene:B,camera:C}=A.useContext(Un),P=A.useMemo(()=>{const w=new bl(B,C,{blendFunction:0,luminanceThreshold:n,luminanceSmoothing:a,intensity:o,width:u,height:c,kernelSize:x,mipmapBlur:g,...m});return w.inverted=i,w.ignoreBackground=s,w},[B,C,n,a,o,u,c,x,g,i,s,m]),M=A.useContext(Il);return A.useEffect(()=>{if(!M&&e)return P.selection.set(Array.isArray(e)?e.map(ci):[ci(e)]),_(),()=>{P.selection.clear(),_()}},[P,e,M,_]),A.useEffect(()=>{P.selection.layer=t,_()},[P,_,t]),A.useEffect(()=>{if(r&&r.length>0)return r.forEach(w=>zl(ci(w),P)),_(),()=>{r.forEach(w=>Fl(ci(w),P)),_()}},[P,_,r,t]),A.useEffect(()=>{if(M&&M.enabled&&M.selected?.length)return P.selection.set(M.selected),_(),()=>{P.selection.clear(),_()}},[M,P.selection,_]),l.jsx("primitive",{ref:h,object:P,dispose:null})});function Ll(e){const{nodes:t,materials:r}=xn("/models/optimized-room.glb"),i=A.useRef(),s=aa("/images/textures/mat1.png"),n=new xr({color:"#d90429"}),a=new xr({map:s}),o=new xr({color:"#582f0e"}),u=new xr({color:"#fff"}),c=new Ca({color:"#fff"}),x=new xr({color:"#8338ec"}),g=new xr({color:"#000"});return l.jsxs("group",{...e,dispose:null,children:[l.jsx(kl,{children:l.jsx(Hl,{selection:i,intensity:1,luminanceThreshold:.2,luminanceSmoothing:.9,blendFunction:W.ADD})}),l.jsx("mesh",{geometry:t._________6_blinn1_0.geometry,material:n}),l.jsx("mesh",{geometry:t.body1_blinn1_0.geometry,material:a}),l.jsx("mesh",{geometry:t.cabin_blinn1_0.geometry,material:o}),l.jsx("mesh",{geometry:t.chair_body_blinn1_0.geometry,material:g}),l.jsx("mesh",{geometry:t.comp_blinn1_0.geometry,material:c}),l.jsx("mesh",{ref:i,geometry:t.emis_lambert1_0.geometry,material:r.lambert1}),l.jsx("mesh",{geometry:t.handls_blinn1_0.geometry,material:r.blinn1}),l.jsx("mesh",{geometry:t.keyboard_blinn1_0.geometry,material:r.blinn1}),l.jsx("mesh",{geometry:t.kovrik_blinn1_0.geometry,material:r.blinn1}),l.jsx("mesh",{geometry:t.lamp_bl_blinn1_0.geometry,material:r.blinn1}),l.jsx("mesh",{geometry:t.lamp_white_blinn1_0.geometry,material:r.blinn1}),l.jsx("mesh",{geometry:t.miuse_blinn1_0.geometry,material:r.blinn1}),l.jsx("mesh",{geometry:t.monitor2_blinn1_0.geometry,material:r.blinn1}),l.jsx("mesh",{geometry:t.monitor3_blinn1_0.geometry,material:r.blinn1}),l.jsx("mesh",{geometry:t.pCylinder5_blinn1_0.geometry,material:r.blinn1}),l.jsx("mesh",{geometry:t.pillows_blinn1_0.geometry,material:x}),l.jsx("mesh",{geometry:t.polySurface53_blinn1_0.geometry,material:r.blinn1}),l.jsx("mesh",{geometry:t.radiator_blinn1_0.geometry,material:u}),l.jsx("mesh",{geometry:t.radiator_blinn1_0001.geometry,material:r.blinn1}),l.jsx("mesh",{geometry:t.railing_blinn1_0.geometry,material:r.blinn1}),l.jsx("mesh",{geometry:t.red_bttns_blinn1_0.geometry,material:r.blinn1}),l.jsx("mesh",{geometry:t.red_vac_blinn1_0.geometry,material:r.blinn1}),l.jsx("mesh",{geometry:t.stylus_blinn1_0.geometry,material:r.blinn1}),l.jsx("mesh",{geometry:t.table_blinn1_0.geometry,material:o}),l.jsx("mesh",{geometry:t.tablet_blinn1_0.geometry,material:r.blinn1}),l.jsx("mesh",{geometry:t.triangle_blinn1_0.geometry,material:r.blinn1}),l.jsx("mesh",{geometry:t.vac_black_blinn1_0.geometry,material:r.blinn1}),l.jsx("mesh",{geometry:t.vacuum1_blinn1_0.geometry,material:r.blinn1}),l.jsx("mesh",{geometry:t.vacuumgrey_blinn1_0.geometry,material:r.blinn1}),l.jsx("mesh",{geometry:t.vires_blinn1_0.geometry,material:r.blinn1}),l.jsx("mesh",{geometry:t.window_blinn1_0.geometry,material:r.blinn1}),l.jsx("mesh",{geometry:t.window4_phong1_0.geometry,material:r.phong1})]})}xn.preload("/models/optimized-room.glb");const jl=()=>l.jsxs(l.Fragment,{children:[l.jsx("spotLight",{position:[2,5,6],angle:.15,penumbra:.2,intensity:100,color:"white"}),l.jsx(oa,{position:[-1,5,6],angle:.15,penumbra:.2,intensity:100,color:"white"}),l.jsx("spotLight",{position:[4,5,4],angle:.3,penumbra:.5,intensity:40,color:"#4cc9f0"}),l.jsx("spotLight",{position:[-3,5,5],angle:.4,penumbra:1,intensity:60,color:"#9d4edd"}),l.jsx("primitive",{object:new Da("#a259ff",8,3,2),position:[1,3,4],rotation:[-Math.PI/4,Math.PI/4,0],intensity:15}),l.jsx("pointLight",{position:[0,1,0],intensity:10,color:"#7209b7"}),l.jsx("pointLight",{position:[1,2,-2],intensity:10,color:"#0d00a4"})]}),Gl=({count:e=200})=>{const t=A.useRef(),r=A.useMemo(()=>{const s=[];for(let n=0;n<e;n++)s.push({position:[(Math.random()-.5)*10,Math.random()*10+5,(Math.random()-.5)*10],speed:.005+Math.random()*.001});return s},[e]);vn(()=>{const s=t.current.geometry.attributes.position.array;for(let n=0;n<e;n++){let a=s[n*3+1];a-=r[n].speed,a<-2&&(a=Math.random()*10+5),s[n*3+1]=a}t.current.geometry.attributes.position.needsUpdate=!0});const i=new Float32Array(e*3);return r.forEach((s,n)=>{i[n*3]=s.position[0],i[n*3+1]=s.position[1],i[n*3+2]=s.position[2]}),l.jsxs("points",{ref:t,children:[l.jsx("bufferGeometry",{children:l.jsx("bufferAttribute",{attach:"attributes-position",count:e,array:i,itemSize:3})}),l.jsx("pointsMaterial",{color:"#ffffff",size:.05,transparent:!0,opacity:.9,depthWrite:!1})]})},Vl=()=>{const e=zs({query:"(max-width: 768px)"}),t=zs({query:"(max-width: 1024px)"});return l.jsxs(la,{camera:{position:[0,0,15],fov:45},children:[l.jsx("ambientLight",{intensity:.2,color:"#1a1a40"}),l.jsx(ca,{enablePan:!1,enableZoom:!t,maxDistance:20,minDistance:5,minPolarAngle:Math.PI/5,maxPolarAngle:Math.PI/2}),l.jsxs(A.Suspense,{fallback:null,children:[l.jsx(jl,{}),l.jsx(Gl,{count:100}),l.jsx("group",{scale:e?.7:1,position:[0,-3.5,0],rotation:[0,-Math.PI/4,0],children:l.jsx(Ll,{})})]})]})};let Xs=typeof document<"u"?A.useLayoutEffect:A.useEffect,qs=e=>e&&!Array.isArray(e)&&typeof e=="object",ui=[],Wl={},Nn=Xe;const Cr=(e,t=ui)=>{let r=Wl;qs(e)?(r=e,e=null,t="dependencies"in r?r.dependencies:ui):qs(t)&&(r=t,t="dependencies"in r?r.dependencies:ui),e&&typeof e!="function"&&console.warn("First parameter must be a function or config object");const{scope:i,revertOnUpdate:s}=r,n=A.useRef(!1),a=A.useRef(Nn.context(()=>{},i)),o=A.useRef(c=>a.current.add(null,c)),u=t&&t.length&&!s;return u&&Xs(()=>(n.current=!0,()=>a.current.revert()),ui),Xs(()=>{if(e&&a.current.add(e,i),!u||!n.current)return()=>a.current.revert()},t),{context:a.current,contextSafe:o.current}};Cr.register=e=>{Nn=e};Cr.headless=!0;function Yl(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Xl(e,t,r){return t&&Yl(e.prototype,t),e}var He,wi,ht,qt,$t,Tr,On,ar,Wr,In,kt,Tt,kn,zn=function(){return He||typeof window<"u"&&(He=window.gsap)&&He.registerPlugin&&He},Fn=1,wr=[],G=[],Dt=[],Yr=Date.now,ts=function(t,r){return r},ql=function(){var t=Wr.core,r=t.bridge||{},i=t._scrollers,s=t._proxies;i.push.apply(i,G),s.push.apply(s,Dt),G=i,Dt=s,ts=function(a,o){return r[a](o)}},Zt=function(t,r){return~Dt.indexOf(t)&&Dt[Dt.indexOf(t)+1][r]},Xr=function(t){return!!~In.indexOf(t)},Ze=function(t,r,i,s,n){return t.addEventListener(r,i,{passive:s!==!1,capture:!!n})},Ke=function(t,r,i,s){return t.removeEventListener(r,i,!!s)},fi="scrollLeft",hi="scrollTop",rs=function(){return kt&&kt.isPressed||G.cache++},Di=function(t,r){var i=function s(n){if(n||n===0){Fn&&(ht.history.scrollRestoration="manual");var a=kt&&kt.isPressed;n=s.v=Math.round(n)||(kt&&kt.iOS?1:0),t(n),s.cacheID=G.cache,a&&ts("ss",n)}else(r||G.cache!==s.cacheID||ts("ref"))&&(s.cacheID=G.cache,s.v=t());return s.v+s.offset};return i.offset=0,t&&i},rt={s:fi,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Di(function(e){return arguments.length?ht.scrollTo(e,Ce.sc()):ht.pageXOffset||qt[fi]||$t[fi]||Tr[fi]||0})},Ce={s:hi,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:rt,sc:Di(function(e){return arguments.length?ht.scrollTo(rt.sc(),e):ht.pageYOffset||qt[hi]||$t[hi]||Tr[hi]||0})},nt=function(t,r){return(r&&r._ctx&&r._ctx.selector||He.utils.toArray)(t)[0]||(typeof t=="string"&&He.config().nullTargetWarn!==!1?console.warn("Element not found:",t):null)},$l=function(t,r){for(var i=r.length;i--;)if(r[i]===t||r[i].contains(t))return!0;return!1},Jt=function(t,r){var i=r.s,s=r.sc;Xr(t)&&(t=qt.scrollingElement||$t);var n=G.indexOf(t),a=s===Ce.sc?1:2;!~n&&(n=G.push(t)-1),G[n+a]||Ze(t,"scroll",rs);var o=G[n+a],u=o||(G[n+a]=Di(Zt(t,i),!0)||(Xr(t)?s:Di(function(c){return arguments.length?t[i]=c:t[i]})));return u.target=t,o||(u.smooth=He.getProperty(t,"scrollBehavior")==="smooth"),u},is=function(t,r,i){var s=t,n=t,a=Yr(),o=a,u=r||50,c=Math.max(500,u*3),x=function(_,B){var C=Yr();B||C-a>u?(n=s,s=_,o=a,a=C):i?s+=_:s=n+(_-n)/(C-o)*(a-o)},g=function(){n=s=i?0:s,o=a=0},m=function(_){var B=o,C=n,P=Yr();return(_||_===0)&&_!==s&&x(_),a===o||P-o>c?0:(s+(i?C:-C))/((i?P:a)-B)*1e3};return{update:x,reset:g,getVelocity:m}},Nr=function(t,r){return r&&!t._gsapAllow&&t.preventDefault(),t.changedTouches?t.changedTouches[0]:t},$s=function(t){var r=Math.max.apply(Math,t),i=Math.min.apply(Math,t);return Math.abs(r)>=Math.abs(i)?r:i},Hn=function(){Wr=He.core.globals().ScrollTrigger,Wr&&Wr.core&&ql()},Ln=function(t){return He=t||zn(),!wi&&He&&typeof document<"u"&&document.body&&(ht=window,qt=document,$t=qt.documentElement,Tr=qt.body,In=[ht,qt,$t,Tr],He.utils.clamp,kn=He.core.context||function(){},ar="onpointerenter"in Tr?"pointer":"mouse",On=Se.isTouch=ht.matchMedia&&ht.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in ht||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Tt=Se.eventTypes=("ontouchstart"in $t?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in $t?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return Fn=0},500),Hn(),wi=1),wi};rt.op=Ce;G.cache=0;var Se=(function(){function e(r){this.init(r)}var t=e.prototype;return t.init=function(i){wi||Ln(He)||console.warn("Please gsap.registerPlugin(Observer)"),Wr||Hn();var s=i.tolerance,n=i.dragMinimum,a=i.type,o=i.target,u=i.lineHeight,c=i.debounce,x=i.preventDefault,g=i.onStop,m=i.onStopDelay,h=i.ignore,_=i.wheelSpeed,B=i.event,C=i.onDragStart,P=i.onDragEnd,M=i.onDrag,w=i.onPress,E=i.onRelease,ae=i.onRight,ie=i.onLeft,U=i.onUp,y=i.onDown,v=i.onChangeX,d=i.onChangeY,b=i.onChange,S=i.onToggleX,Q=i.onToggleY,$=i.onHover,K=i.onHoverEnd,te=i.onMove,F=i.ignoreCheck,q=i.isNormalizer,se=i.onGestureStart,f=i.onGestureEnd,ue=i.onWheel,it=i.onEnable,Ae=i.onDisable,ge=i.onClick,Le=i.scrollSpeed,ne=i.capture,oe=i.allowClicks,de=i.lockAxis,fe=i.onLockAxis;this.target=o=nt(o)||$t,this.vars=i,h&&(h=He.utils.toArray(h)),s=s||1e-9,n=n||0,_=_||1,Le=Le||1,a=a||"wheel,touch,pointer",c=c!==!1,u||(u=parseFloat(ht.getComputedStyle(Tr).lineHeight)||22);var st,ye,Ee,O,le,Me,at,p=this,ot=0,At=0,Lt=i.passive||!x&&i.passive!==!1,ve=Jt(o,rt),Bt=Jt(o,Ce),jt=ve(),tr=Bt(),Be=~a.indexOf("touch")&&!~a.indexOf("pointer")&&Tt[0]==="pointerdown",Gt=Xr(o),_e=o.ownerDocument||qt,yt=[0,0,0],dt=[0,0,0],Ut=0,Dr=function(){return Ut=Yr()},we=function(N,J){return(p.event=N)&&h&&$l(N.target,h)||J&&Be&&N.pointerType!=="touch"||F&&F(N,J)},ii=function(){p._vx.reset(),p._vy.reset(),ye.pause(),g&&g(p)},Nt=function(){var N=p.deltaX=$s(yt),J=p.deltaY=$s(dt),T=Math.abs(N)>=s,I=Math.abs(J)>=s;b&&(T||I)&&b(p,N,J,yt,dt),T&&(ae&&p.deltaX>0&&ae(p),ie&&p.deltaX<0&&ie(p),v&&v(p),S&&p.deltaX<0!=ot<0&&S(p),ot=p.deltaX,yt[0]=yt[1]=yt[2]=0),I&&(y&&p.deltaY>0&&y(p),U&&p.deltaY<0&&U(p),d&&d(p),Q&&p.deltaY<0!=At<0&&Q(p),At=p.deltaY,dt[0]=dt[1]=dt[2]=0),(O||Ee)&&(te&&te(p),Ee&&(C&&Ee===1&&C(p),M&&M(p),Ee=0),O=!1),Me&&!(Me=!1)&&fe&&fe(p),le&&(ue(p),le=!1),st=0},gr=function(N,J,T){yt[T]+=N,dt[T]+=J,p._vx.update(N),p._vy.update(J),c?st||(st=requestAnimationFrame(Nt)):Nt()},mr=function(N,J){de&&!at&&(p.axis=at=Math.abs(N)>Math.abs(J)?"x":"y",Me=!0),at!=="y"&&(yt[2]+=N,p._vx.update(N,!0)),at!=="x"&&(dt[2]+=J,p._vy.update(J,!0)),c?st||(st=requestAnimationFrame(Nt)):Nt()},Vt=function(N){if(!we(N,1)){N=Nr(N,x);var J=N.clientX,T=N.clientY,I=J-p.x,D=T-p.y,k=p.isDragging;p.x=J,p.y=T,(k||(I||D)&&(Math.abs(p.startX-J)>=n||Math.abs(p.startY-T)>=n))&&(Ee||(Ee=k?2:1),k||(p.isDragging=!0),mr(I,D))}},rr=p.onPress=function(z){we(z,1)||z&&z.button||(p.axis=at=null,ye.pause(),p.isPressed=!0,z=Nr(z),ot=At=0,p.startX=p.x=z.clientX,p.startY=p.y=z.clientY,p._vx.reset(),p._vy.reset(),Ze(q?o:_e,Tt[1],Vt,Lt,!0),p.deltaX=p.deltaY=0,w&&w(p))},V=p.onRelease=function(z){if(!we(z,1)){Ke(q?o:_e,Tt[1],Vt,!0);var N=!isNaN(p.y-p.startY),J=p.isDragging,T=J&&(Math.abs(p.x-p.startX)>3||Math.abs(p.y-p.startY)>3),I=Nr(z);!T&&N&&(p._vx.reset(),p._vy.reset(),x&&oe&&He.delayedCall(.08,function(){if(Yr()-Ut>300&&!z.defaultPrevented){if(z.target.click)z.target.click();else if(_e.createEvent){var D=_e.createEvent("MouseEvents");D.initMouseEvent("click",!0,!0,ht,1,I.screenX,I.screenY,I.clientX,I.clientY,!1,!1,!1,!1,0,null),z.target.dispatchEvent(D)}}})),p.isDragging=p.isGesturing=p.isPressed=!1,g&&J&&!q&&ye.restart(!0),Ee&&Nt(),P&&J&&P(p),E&&E(p,T)}},ir=function(N){return N.touches&&N.touches.length>1&&(p.isGesturing=!0)&&se(N,p.isDragging)},_t=function(){return(p.isGesturing=!1)||f(p)},bt=function(N){if(!we(N)){var J=ve(),T=Bt();gr((J-jt)*Le,(T-tr)*Le,1),jt=J,tr=T,g&&ye.restart(!0)}},St=function(N){if(!we(N)){N=Nr(N,x),ue&&(le=!0);var J=(N.deltaMode===1?u:N.deltaMode===2?ht.innerHeight:1)*_;gr(N.deltaX*J,N.deltaY*J,0),g&&!q&&ye.restart(!0)}},sr=function(N){if(!we(N)){var J=N.clientX,T=N.clientY,I=J-p.x,D=T-p.y;p.x=J,p.y=T,O=!0,g&&ye.restart(!0),(I||D)&&mr(I,D)}},vr=function(N){p.event=N,$(p)},Ot=function(N){p.event=N,K(p)},Ar=function(N){return we(N)||Nr(N,x)&&ge(p)};ye=p._dc=He.delayedCall(m||.25,ii).pause(),p.deltaX=p.deltaY=0,p._vx=is(0,50,!0),p._vy=is(0,50,!0),p.scrollX=ve,p.scrollY=Bt,p.isDragging=p.isGesturing=p.isPressed=!1,kn(this),p.enable=function(z){return p.isEnabled||(Ze(Gt?_e:o,"scroll",rs),a.indexOf("scroll")>=0&&Ze(Gt?_e:o,"scroll",bt,Lt,ne),a.indexOf("wheel")>=0&&Ze(o,"wheel",St,Lt,ne),(a.indexOf("touch")>=0&&On||a.indexOf("pointer")>=0)&&(Ze(o,Tt[0],rr,Lt,ne),Ze(_e,Tt[2],V),Ze(_e,Tt[3],V),oe&&Ze(o,"click",Dr,!0,!0),ge&&Ze(o,"click",Ar),se&&Ze(_e,"gesturestart",ir),f&&Ze(_e,"gestureend",_t),$&&Ze(o,ar+"enter",vr),K&&Ze(o,ar+"leave",Ot),te&&Ze(o,ar+"move",sr)),p.isEnabled=!0,p.isDragging=p.isGesturing=p.isPressed=O=Ee=!1,p._vx.reset(),p._vy.reset(),jt=ve(),tr=Bt(),z&&z.type&&rr(z),it&&it(p)),p},p.disable=function(){p.isEnabled&&(wr.filter(function(z){return z!==p&&Xr(z.target)}).length||Ke(Gt?_e:o,"scroll",rs),p.isPressed&&(p._vx.reset(),p._vy.reset(),Ke(q?o:_e,Tt[1],Vt,!0)),Ke(Gt?_e:o,"scroll",bt,ne),Ke(o,"wheel",St,ne),Ke(o,Tt[0],rr,ne),Ke(_e,Tt[2],V),Ke(_e,Tt[3],V),Ke(o,"click",Dr,!0),Ke(o,"click",Ar),Ke(_e,"gesturestart",ir),Ke(_e,"gestureend",_t),Ke(o,ar+"enter",vr),Ke(o,ar+"leave",Ot),Ke(o,ar+"move",sr),p.isEnabled=p.isPressed=p.isDragging=!1,Ae&&Ae(p))},p.kill=p.revert=function(){p.disable();var z=wr.indexOf(p);z>=0&&wr.splice(z,1),kt===p&&(kt=0)},wr.push(p),q&&Xr(o)&&(kt=p),p.enable(B)},Xl(e,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),e})();Se.version="3.14.2";Se.create=function(e){return new Se(e)};Se.register=Ln;Se.getAll=function(){return wr.slice()};Se.getById=function(e){return wr.filter(function(t){return t.vars.id===e})[0]};zn()&&He.registerPlugin(Se);var R,br,j,he,ft,re,vs,Ai,ti,qr,kr,di,We,Oi,ss,et,Ks,Zs,Sr,jn,Wi,Gn,Je,ns,Vn,Wn,Xt,as,xs,Er,ys,$r,os,Yi,pi=1,Ye=Date.now,Xi=Ye(),vt=0,zr=0,Qs=function(t,r,i){var s=ut(t)&&(t.substr(0,6)==="clamp("||t.indexOf("max")>-1);return i["_"+r+"Clamp"]=s,s?t.substr(6,t.length-7):t},Js=function(t,r){return r&&(!ut(t)||t.substr(0,6)!=="clamp(")?"clamp("+t+")":t},Kl=function e(){return zr&&requestAnimationFrame(e)},en=function(){return Oi=1},tn=function(){return Oi=0},Pt=function(t){return t},Fr=function(t){return Math.round(t*1e5)/1e5||0},Yn=function(){return typeof window<"u"},Xn=function(){return R||Yn()&&(R=window.gsap)&&R.registerPlugin&&R},hr=function(t){return!!~vs.indexOf(t)},qn=function(t){return(t==="Height"?ys:j["inner"+t])||ft["client"+t]||re["client"+t]},$n=function(t){return Zt(t,"getBoundingClientRect")||(hr(t)?function(){return Pi.width=j.innerWidth,Pi.height=ys,Pi}:function(){return It(t)})},Zl=function(t,r,i){var s=i.d,n=i.d2,a=i.a;return(a=Zt(t,"getBoundingClientRect"))?function(){return a()[s]}:function(){return(r?qn(n):t["client"+n])||0}},Ql=function(t,r){return!r||~Dt.indexOf(t)?$n(t):function(){return Pi}},Ct=function(t,r){var i=r.s,s=r.d2,n=r.d,a=r.a;return Math.max(0,(i="scroll"+s)&&(a=Zt(t,i))?a()-$n(t)()[n]:hr(t)?(ft[i]||re[i])-qn(s):t[i]-t["offset"+s])},gi=function(t,r){for(var i=0;i<Sr.length;i+=3)(!r||~r.indexOf(Sr[i+1]))&&t(Sr[i],Sr[i+1],Sr[i+2])},ut=function(t){return typeof t=="string"},qe=function(t){return typeof t=="function"},Hr=function(t){return typeof t=="number"},or=function(t){return typeof t=="object"},Or=function(t,r,i){return t&&t.progress(r?0:1)&&i&&t.pause()},qi=function(t,r){if(t.enabled){var i=t._ctx?t._ctx.add(function(){return r(t)}):r(t);i&&i.totalTime&&(t.callbackAnimation=i)}},yr=Math.abs,Kn="left",Zn="top",_s="right",bs="bottom",cr="width",ur="height",Kr="Right",Zr="Left",Qr="Top",Jr="Bottom",Te="padding",gt="margin",Pr="Width",Ss="Height",Pe="px",mt=function(t){return j.getComputedStyle(t)},Jl=function(t){var r=mt(t).position;t.style.position=r==="absolute"||r==="fixed"?r:"relative"},rn=function(t,r){for(var i in r)i in t||(t[i]=r[i]);return t},It=function(t,r){var i=r&&mt(t)[ss]!=="matrix(1, 0, 0, 1, 0, 0)"&&R.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),s=t.getBoundingClientRect();return i&&i.progress(0).kill(),s},Bi=function(t,r){var i=r.d2;return t["offset"+i]||t["client"+i]||0},Qn=function(t){var r=[],i=t.labels,s=t.duration(),n;for(n in i)r.push(i[n]/s);return r},ec=function(t){return function(r){return R.utils.snap(Qn(t),r)}},ws=function(t){var r=R.utils.snap(t),i=Array.isArray(t)&&t.slice(0).sort(function(s,n){return s-n});return i?function(s,n,a){a===void 0&&(a=.001);var o;if(!n)return r(s);if(n>0){for(s-=a,o=0;o<i.length;o++)if(i[o]>=s)return i[o];return i[o-1]}else for(o=i.length,s+=a;o--;)if(i[o]<=s)return i[o];return i[0]}:function(s,n,a){a===void 0&&(a=.001);var o=r(s);return!n||Math.abs(o-s)<a||o-s<0==n<0?o:r(n<0?s-t:s+t)}},tc=function(t){return function(r,i){return ws(Qn(t))(r,i.direction)}},mi=function(t,r,i,s){return i.split(",").forEach(function(n){return t(r,n,s)})},Oe=function(t,r,i,s,n){return t.addEventListener(r,i,{passive:!s,capture:!!n})},Ne=function(t,r,i,s){return t.removeEventListener(r,i,!!s)},vi=function(t,r,i){i=i&&i.wheelHandler,i&&(t(r,"wheel",i),t(r,"touchmove",i))},sn={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},xi={toggleActions:"play",anticipatePin:0},Ui={top:0,left:0,center:.5,bottom:1,right:1},Ti=function(t,r){if(ut(t)){var i=t.indexOf("="),s=~i?+(t.charAt(i-1)+1)*parseFloat(t.substr(i+1)):0;~i&&(t.indexOf("%")>i&&(s*=r/100),t=t.substr(0,i-1)),t=s+(t in Ui?Ui[t]*r:~t.indexOf("%")?parseFloat(t)*r/100:parseFloat(t)||0)}return t},yi=function(t,r,i,s,n,a,o,u){var c=n.startColor,x=n.endColor,g=n.fontSize,m=n.indent,h=n.fontWeight,_=he.createElement("div"),B=hr(i)||Zt(i,"pinType")==="fixed",C=t.indexOf("scroller")!==-1,P=B?re:i,M=t.indexOf("start")!==-1,w=M?c:x,E="border-color:"+w+";font-size:"+g+";color:"+w+";font-weight:"+h+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return E+="position:"+((C||u)&&B?"fixed;":"absolute;"),(C||u||!B)&&(E+=(s===Ce?_s:bs)+":"+(a+parseFloat(m))+"px;"),o&&(E+="box-sizing:border-box;text-align:left;width:"+o.offsetWidth+"px;"),_._isStart=M,_.setAttribute("class","gsap-marker-"+t+(r?" marker-"+r:"")),_.style.cssText=E,_.innerText=r||r===0?t+"-"+r:t,P.children[0]?P.insertBefore(_,P.children[0]):P.appendChild(_),_._offset=_["offset"+s.op.d2],Ei(_,0,s,M),_},Ei=function(t,r,i,s){var n={display:"block"},a=i[s?"os2":"p2"],o=i[s?"p2":"os2"];t._isFlipped=s,n[i.a+"Percent"]=s?-100:0,n[i.a]=s?"1px":0,n["border"+a+Pr]=1,n["border"+o+Pr]=0,n[i.p]=r+"px",R.set(t,n)},H=[],ls={},ri,nn=function(){return Ye()-vt>34&&(ri||(ri=requestAnimationFrame(zt)))},_r=function(){(!Je||!Je.isPressed||Je.startX>re.clientWidth)&&(G.cache++,Je?ri||(ri=requestAnimationFrame(zt)):zt(),vt||pr("scrollStart"),vt=Ye())},$i=function(){Wn=j.innerWidth,Vn=j.innerHeight},Lr=function(t){G.cache++,(t===!0||!We&&!Gn&&!he.fullscreenElement&&!he.webkitFullscreenElement&&(!ns||Wn!==j.innerWidth||Math.abs(j.innerHeight-Vn)>j.innerHeight*.25))&&Ai.restart(!0)},dr={},rc=[],Jn=function e(){return Ne(L,"scrollEnd",e)||lr(!0)},pr=function(t){return dr[t]&&dr[t].map(function(r){return r()})||rc},ct=[],ea=function(t){for(var r=0;r<ct.length;r+=5)(!t||ct[r+4]&&ct[r+4].query===t)&&(ct[r].style.cssText=ct[r+1],ct[r].getBBox&&ct[r].setAttribute("transform",ct[r+2]||""),ct[r+3].uncache=1)},ta=function(){return G.forEach(function(t){return qe(t)&&++t.cacheID&&(t.rec=t())})},Ts=function(t,r){var i;for(et=0;et<H.length;et++)i=H[et],i&&(!r||i._ctx===r)&&(t?i.kill(1):i.revert(!0,!0));$r=!0,r&&ea(r),r||pr("revert")},ra=function(t,r){G.cache++,(r||!tt)&&G.forEach(function(i){return qe(i)&&i.cacheID++&&(i.rec=0)}),ut(t)&&(j.history.scrollRestoration=xs=t)},tt,fr=0,an,ic=function(){if(an!==fr){var t=an=fr;requestAnimationFrame(function(){return t===fr&&lr(!0)})}},ia=function(){re.appendChild(Er),ys=!Je&&Er.offsetHeight||j.innerHeight,re.removeChild(Er)},on=function(t){return ti(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(r){return r.style.display=t?"none":"block"})},lr=function(t,r){if(ft=he.documentElement,re=he.body,vs=[j,he,ft,re],vt&&!t&&!$r){Oe(L,"scrollEnd",Jn);return}ia(),tt=L.isRefreshing=!0,$r||ta();var i=pr("refreshInit");jn&&L.sort(),r||Ts(),G.forEach(function(s){qe(s)&&(s.smooth&&(s.target.style.scrollBehavior="auto"),s(0))}),H.slice(0).forEach(function(s){return s.refresh()}),$r=!1,H.forEach(function(s){if(s._subPinOffset&&s.pin){var n=s.vars.horizontal?"offsetWidth":"offsetHeight",a=s.pin[n];s.revert(!0,1),s.adjustPinSpacing(s.pin[n]-a),s.refresh()}}),os=1,on(!0),H.forEach(function(s){var n=Ct(s.scroller,s._dir),a=s.vars.end==="max"||s._endClamp&&s.end>n,o=s._startClamp&&s.start>=n;(a||o)&&s.setPositions(o?n-1:s.start,a?Math.max(o?n:s.start+1,n):s.end,!0)}),on(!1),os=0,i.forEach(function(s){return s&&s.render&&s.render(-1)}),G.forEach(function(s){qe(s)&&(s.smooth&&requestAnimationFrame(function(){return s.target.style.scrollBehavior="smooth"}),s.rec&&s(s.rec))}),ra(xs,1),Ai.pause(),fr++,tt=2,zt(2),H.forEach(function(s){return qe(s.vars.onRefresh)&&s.vars.onRefresh(s)}),tt=L.isRefreshing=!1,pr("refresh")},cs=0,Mi=1,ei,zt=function(t){if(t===2||!tt&&!$r){L.isUpdating=!0,ei&&ei.update(0);var r=H.length,i=Ye(),s=i-Xi>=50,n=r&&H[0].scroll();if(Mi=cs>n?-1:1,tt||(cs=n),s&&(vt&&!Oi&&i-vt>200&&(vt=0,pr("scrollEnd")),kr=Xi,Xi=i),Mi<0){for(et=r;et-- >0;)H[et]&&H[et].update(0,s);Mi=1}else for(et=0;et<r;et++)H[et]&&H[et].update(0,s);L.isUpdating=!1}ri=0},us=[Kn,Zn,bs,_s,gt+Jr,gt+Kr,gt+Qr,gt+Zr,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Ri=us.concat([cr,ur,"boxSizing","max"+Pr,"max"+Ss,"position",gt,Te,Te+Qr,Te+Kr,Te+Jr,Te+Zr]),sc=function(t,r,i){Mr(i);var s=t._gsap;if(s.spacerIsNative)Mr(s.spacerState);else if(t._gsap.swappedIn){var n=r.parentNode;n&&(n.insertBefore(t,r),n.removeChild(r))}t._gsap.swappedIn=!1},Ki=function(t,r,i,s){if(!t._gsap.swappedIn){for(var n=us.length,a=r.style,o=t.style,u;n--;)u=us[n],a[u]=i[u];a.position=i.position==="absolute"?"absolute":"relative",i.display==="inline"&&(a.display="inline-block"),o[bs]=o[_s]="auto",a.flexBasis=i.flexBasis||"auto",a.overflow="visible",a.boxSizing="border-box",a[cr]=Bi(t,rt)+Pe,a[ur]=Bi(t,Ce)+Pe,a[Te]=o[gt]=o[Zn]=o[Kn]="0",Mr(s),o[cr]=o["max"+Pr]=i[cr],o[ur]=o["max"+Ss]=i[ur],o[Te]=i[Te],t.parentNode!==r&&(t.parentNode.insertBefore(r,t),r.appendChild(t)),t._gsap.swappedIn=!0}},nc=/([A-Z])/g,Mr=function(t){if(t){var r=t.t.style,i=t.length,s=0,n,a;for((t.t._gsap||R.core.getCache(t.t)).uncache=1;s<i;s+=2)a=t[s+1],n=t[s],a?r[n]=a:r[n]&&r.removeProperty(n.replace(nc,"-$1").toLowerCase())}},_i=function(t){for(var r=Ri.length,i=t.style,s=[],n=0;n<r;n++)s.push(Ri[n],i[Ri[n]]);return s.t=t,s},ac=function(t,r,i){for(var s=[],n=t.length,a=i?8:0,o;a<n;a+=2)o=t[a],s.push(o,o in r?r[o]:t[a+1]);return s.t=t.t,s},Pi={left:0,top:0},ln=function(t,r,i,s,n,a,o,u,c,x,g,m,h,_){qe(t)&&(t=t(u)),ut(t)&&t.substr(0,3)==="max"&&(t=m+(t.charAt(4)==="="?Ti("0"+t.substr(3),i):0));var B=h?h.time():0,C,P,M;if(h&&h.seek(0),isNaN(t)||(t=+t),Hr(t))h&&(t=R.utils.mapRange(h.scrollTrigger.start,h.scrollTrigger.end,0,m,t)),o&&Ei(o,i,s,!0);else{qe(r)&&(r=r(u));var w=(t||"0").split(" "),E,ae,ie,U;M=nt(r,u)||re,E=It(M)||{},(!E||!E.left&&!E.top)&&mt(M).display==="none"&&(U=M.style.display,M.style.display="block",E=It(M),U?M.style.display=U:M.style.removeProperty("display")),ae=Ti(w[0],E[s.d]),ie=Ti(w[1]||"0",i),t=E[s.p]-c[s.p]-x+ae+n-ie,o&&Ei(o,ie,s,i-ie<20||o._isStart&&ie>20),i-=i-ie}if(_&&(u[_]=t||-.001,t<0&&(t=0)),a){var y=t+i,v=a._isStart;C="scroll"+s.d2,Ei(a,y,s,v&&y>20||!v&&(g?Math.max(re[C],ft[C]):a.parentNode[C])<=y+1),g&&(c=It(o),g&&(a.style[s.op.p]=c[s.op.p]-s.op.m-a._offset+Pe))}return h&&M&&(C=It(M),h.seek(m),P=It(M),h._caScrollDist=C[s.p]-P[s.p],t=t/h._caScrollDist*m),h&&h.seek(B),h?t:Math.round(t)},oc=/(webkit|moz|length|cssText|inset)/i,cn=function(t,r,i,s){if(t.parentNode!==r){var n=t.style,a,o;if(r===re){t._stOrig=n.cssText,o=mt(t);for(a in o)!+a&&!oc.test(a)&&o[a]&&typeof n[a]=="string"&&a!=="0"&&(n[a]=o[a]);n.top=i,n.left=s}else n.cssText=t._stOrig;R.core.getCache(t).uncache=1,r.appendChild(t)}},sa=function(t,r,i){var s=r,n=s;return function(a){var o=Math.round(t());return o!==s&&o!==n&&Math.abs(o-s)>3&&Math.abs(o-n)>3&&(a=o,i&&i()),n=s,s=Math.round(a),s}},bi=function(t,r,i){var s={};s[r.p]="+="+i,R.set(t,s)},un=function(t,r){var i=Jt(t,r),s="_scroll"+r.p2,n=function a(o,u,c,x,g){var m=a.tween,h=u.onComplete,_={};c=c||i();var B=sa(i,c,function(){m.kill(),a.tween=0});return g=x&&g||0,x=x||o-c,m&&m.kill(),u[s]=o,u.inherit=!1,u.modifiers=_,_[s]=function(){return B(c+x*m.ratio+g*m.ratio*m.ratio)},u.onUpdate=function(){G.cache++,a.tween&&zt()},u.onComplete=function(){a.tween=0,h&&h.call(m)},m=a.tween=R.to(t,u),m};return t[s]=i,i.wheelHandler=function(){return n.tween&&n.tween.kill()&&(n.tween=0)},Oe(t,"wheel",i.wheelHandler),L.isTouch&&Oe(t,"touchmove",i.wheelHandler),n},L=(function(){function e(r,i){br||e.register(R)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),as(this),this.init(r,i)}var t=e.prototype;return t.init=function(i,s){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!zr){this.update=this.refresh=this.kill=Pt;return}i=rn(ut(i)||Hr(i)||i.nodeType?{trigger:i}:i,xi);var n=i,a=n.onUpdate,o=n.toggleClass,u=n.id,c=n.onToggle,x=n.onRefresh,g=n.scrub,m=n.trigger,h=n.pin,_=n.pinSpacing,B=n.invalidateOnRefresh,C=n.anticipatePin,P=n.onScrubComplete,M=n.onSnapComplete,w=n.once,E=n.snap,ae=n.pinReparent,ie=n.pinSpacer,U=n.containerAnimation,y=n.fastScrollEnd,v=n.preventOverlaps,d=i.horizontal||i.containerAnimation&&i.horizontal!==!1?rt:Ce,b=!g&&g!==0,S=nt(i.scroller||j),Q=R.core.getCache(S),$=hr(S),K=("pinType"in i?i.pinType:Zt(S,"pinType")||$&&"fixed")==="fixed",te=[i.onEnter,i.onLeave,i.onEnterBack,i.onLeaveBack],F=b&&i.toggleActions.split(" "),q="markers"in i?i.markers:xi.markers,se=$?0:parseFloat(mt(S)["border"+d.p2+Pr])||0,f=this,ue=i.onRefreshInit&&function(){return i.onRefreshInit(f)},it=Zl(S,$,d),Ae=Ql(S,$),ge=0,Le=0,ne=0,oe=Jt(S,d),de,fe,st,ye,Ee,O,le,Me,at,p,ot,At,Lt,ve,Bt,jt,tr,Be,Gt,_e,yt,dt,Ut,Dr,we,ii,Nt,gr,mr,Vt,rr,V,ir,_t,bt,St,sr,vr,Ot;if(f._startClamp=f._endClamp=!1,f._dir=d,C*=45,f.scroller=S,f.scroll=U?U.time.bind(U):oe,ye=oe(),f.vars=i,s=s||i.animation,"refreshPriority"in i&&(jn=1,i.refreshPriority===-9999&&(ei=f)),Q.tweenScroll=Q.tweenScroll||{top:un(S,Ce),left:un(S,rt)},f.tweenTo=de=Q.tweenScroll[d.p],f.scrubDuration=function(T){ir=Hr(T)&&T,ir?V?V.duration(T):V=R.to(s,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:ir,paused:!0,onComplete:function(){return P&&P(f)}}):(V&&V.progress(1).kill(),V=0)},s&&(s.vars.lazy=!1,s._initted&&!f.isReverted||s.vars.immediateRender!==!1&&i.immediateRender!==!1&&s.duration()&&s.render(0,!0,!0),f.animation=s.pause(),s.scrollTrigger=f,f.scrubDuration(g),Vt=0,u||(u=s.vars.id)),E&&((!or(E)||E.push)&&(E={snapTo:E}),"scrollBehavior"in re.style&&R.set($?[re,ft]:S,{scrollBehavior:"auto"}),G.forEach(function(T){return qe(T)&&T.target===($?he.scrollingElement||ft:S)&&(T.smooth=!1)}),st=qe(E.snapTo)?E.snapTo:E.snapTo==="labels"?ec(s):E.snapTo==="labelsDirectional"?tc(s):E.directional!==!1?function(T,I){return ws(E.snapTo)(T,Ye()-Le<500?0:I.direction)}:R.utils.snap(E.snapTo),_t=E.duration||{min:.1,max:2},_t=or(_t)?qr(_t.min,_t.max):qr(_t,_t),bt=R.delayedCall(E.delay||ir/2||.1,function(){var T=oe(),I=Ye()-Le<500,D=de.tween;if((I||Math.abs(f.getVelocity())<10)&&!D&&!Oi&&ge!==T){var k=(T-O)/ve,Ue=s&&!b?s.totalProgress():k,X=I?0:(Ue-rr)/(Ye()-kr)*1e3||0,be=R.utils.clamp(-k,1-k,yr(X/2)*X/.185),je=k+(E.inertia===!1?0:be),xe,pe,ce=E,wt=ce.onStart,me=ce.onInterrupt,lt=ce.onComplete;if(xe=st(je,f),Hr(xe)||(xe=je),pe=Math.max(0,Math.round(O+xe*ve)),T<=le&&T>=O&&pe!==T){if(D&&!D._initted&&D.data<=yr(pe-T))return;E.inertia===!1&&(be=xe-k),de(pe,{duration:_t(yr(Math.max(yr(je-Ue),yr(xe-Ue))*.185/X/.05||0)),ease:E.ease||"power3",data:yr(pe-T),onInterrupt:function(){return bt.restart(!0)&&me&&me(f)},onComplete:function(){f.update(),ge=oe(),s&&!b&&(V?V.resetTo("totalProgress",xe,s._tTime/s._tDur):s.progress(xe)),Vt=rr=s&&!b?s.totalProgress():f.progress,M&&M(f),lt&&lt(f)}},T,be*ve,pe-T-be*ve),wt&&wt(f,de.tween)}}else f.isActive&&ge!==T&&bt.restart(!0)}).pause()),u&&(ls[u]=f),m=f.trigger=nt(m||h!==!0&&h),Ot=m&&m._gsap&&m._gsap.stRevert,Ot&&(Ot=Ot(f)),h=h===!0?m:nt(h),ut(o)&&(o={targets:m,className:o}),h&&(_===!1||_===gt||(_=!_&&h.parentNode&&h.parentNode.style&&mt(h.parentNode).display==="flex"?!1:Te),f.pin=h,fe=R.core.getCache(h),fe.spacer?Bt=fe.pinState:(ie&&(ie=nt(ie),ie&&!ie.nodeType&&(ie=ie.current||ie.nativeElement),fe.spacerIsNative=!!ie,ie&&(fe.spacerState=_i(ie))),fe.spacer=Be=ie||he.createElement("div"),Be.classList.add("pin-spacer"),u&&Be.classList.add("pin-spacer-"+u),fe.pinState=Bt=_i(h)),i.force3D!==!1&&R.set(h,{force3D:!0}),f.spacer=Be=fe.spacer,mr=mt(h),Dr=mr[_+d.os2],_e=R.getProperty(h),yt=R.quickSetter(h,d.a,Pe),Ki(h,Be,mr),tr=_i(h)),q){At=or(q)?rn(q,sn):sn,p=yi("scroller-start",u,S,d,At,0),ot=yi("scroller-end",u,S,d,At,0,p),Gt=p["offset"+d.op.d2];var Ar=nt(Zt(S,"content")||S);Me=this.markerStart=yi("start",u,Ar,d,At,Gt,0,U),at=this.markerEnd=yi("end",u,Ar,d,At,Gt,0,U),U&&(vr=R.quickSetter([Me,at],d.a,Pe)),!K&&!(Dt.length&&Zt(S,"fixedMarkers")===!0)&&(Jl($?re:S),R.set([p,ot],{force3D:!0}),ii=R.quickSetter(p,d.a,Pe),gr=R.quickSetter(ot,d.a,Pe))}if(U){var z=U.vars.onUpdate,N=U.vars.onUpdateParams;U.eventCallback("onUpdate",function(){f.update(0,0,1),z&&z.apply(U,N||[])})}if(f.previous=function(){return H[H.indexOf(f)-1]},f.next=function(){return H[H.indexOf(f)+1]},f.revert=function(T,I){if(!I)return f.kill(!0);var D=T!==!1||!f.enabled,k=We;D!==f.isReverted&&(D&&(St=Math.max(oe(),f.scroll.rec||0),ne=f.progress,sr=s&&s.progress()),Me&&[Me,at,p,ot].forEach(function(Ue){return Ue.style.display=D?"none":"block"}),D&&(We=f,f.update(D)),h&&(!ae||!f.isActive)&&(D?sc(h,Be,Bt):Ki(h,Be,mt(h),we)),D||f.update(D),We=k,f.isReverted=D)},f.refresh=function(T,I,D,k){if(!((We||!f.enabled)&&!I)){if(h&&T&&vt){Oe(e,"scrollEnd",Jn);return}!tt&&ue&&ue(f),We=f,de.tween&&!D&&(de.tween.kill(),de.tween=0),V&&V.pause(),B&&s&&(s.revert({kill:!1}).invalidate(),s.getChildren?s.getChildren(!0,!0,!1).forEach(function(Wt){return Wt.vars.immediateRender&&Wt.render(0,!0,!0)}):s.vars.immediateRender&&s.render(0,!0,!0)),f.isReverted||f.revert(!0,!0),f._subPinOffset=!1;var Ue=it(),X=Ae(),be=U?U.duration():Ct(S,d),je=ve<=.01||!ve,xe=0,pe=k||0,ce=or(D)?D.end:i.end,wt=i.endTrigger||m,me=or(D)?D.start:i.start||(i.start===0||!m?0:h?"0 0":"0 100%"),lt=f.pinnedContainer=i.pinnedContainer&&nt(i.pinnedContainer,f),Et=m&&Math.max(0,H.indexOf(f))||0,ze=Et,Fe,Ge,nr,si,Ve,Re,Mt,Ii,Es,Br,Rt,Ur,ni;for(q&&or(D)&&(Ur=R.getProperty(p,d.p),ni=R.getProperty(ot,d.p));ze-- >0;)Re=H[ze],Re.end||Re.refresh(0,1)||(We=f),Mt=Re.pin,Mt&&(Mt===m||Mt===h||Mt===lt)&&!Re.isReverted&&(Br||(Br=[]),Br.unshift(Re),Re.revert(!0,!0)),Re!==H[ze]&&(Et--,ze--);for(qe(me)&&(me=me(f)),me=Qs(me,"start",f),O=ln(me,m,Ue,d,oe(),Me,p,f,X,se,K,be,U,f._startClamp&&"_startClamp")||(h?-.001:0),qe(ce)&&(ce=ce(f)),ut(ce)&&!ce.indexOf("+=")&&(~ce.indexOf(" ")?ce=(ut(me)?me.split(" ")[0]:"")+ce:(xe=Ti(ce.substr(2),Ue),ce=ut(me)?me:(U?R.utils.mapRange(0,U.duration(),U.scrollTrigger.start,U.scrollTrigger.end,O):O)+xe,wt=m)),ce=Qs(ce,"end",f),le=Math.max(O,ln(ce||(wt?"100% 0":be),wt,Ue,d,oe()+xe,at,ot,f,X,se,K,be,U,f._endClamp&&"_endClamp"))||-.001,xe=0,ze=Et;ze--;)Re=H[ze]||{},Mt=Re.pin,Mt&&Re.start-Re._pinPush<=O&&!U&&Re.end>0&&(Fe=Re.end-(f._startClamp?Math.max(0,Re.start):Re.start),(Mt===m&&Re.start-Re._pinPush<O||Mt===lt)&&isNaN(me)&&(xe+=Fe*(1-Re.progress)),Mt===h&&(pe+=Fe));if(O+=xe,le+=xe,f._startClamp&&(f._startClamp+=xe),f._endClamp&&!tt&&(f._endClamp=le||-.001,le=Math.min(le,Ct(S,d))),ve=le-O||(O-=.01)&&.001,je&&(ne=R.utils.clamp(0,1,R.utils.normalize(O,le,St))),f._pinPush=pe,Me&&xe&&(Fe={},Fe[d.a]="+="+xe,lt&&(Fe[d.p]="-="+oe()),R.set([Me,at],Fe)),h&&!(os&&f.end>=Ct(S,d)))Fe=mt(h),si=d===Ce,nr=oe(),dt=parseFloat(_e(d.a))+pe,!be&&le>1&&(Rt=($?he.scrollingElement||ft:S).style,Rt={style:Rt,value:Rt["overflow"+d.a.toUpperCase()]},$&&mt(re)["overflow"+d.a.toUpperCase()]!=="scroll"&&(Rt.style["overflow"+d.a.toUpperCase()]="scroll")),Ki(h,Be,Fe),tr=_i(h),Ge=It(h,!0),Ii=K&&Jt(S,si?rt:Ce)(),_?(we=[_+d.os2,ve+pe+Pe],we.t=Be,ze=_===Te?Bi(h,d)+ve+pe:0,ze&&(we.push(d.d,ze+Pe),Be.style.flexBasis!=="auto"&&(Be.style.flexBasis=ze+Pe)),Mr(we),lt&&H.forEach(function(Wt){Wt.pin===lt&&Wt.vars.pinSpacing!==!1&&(Wt._subPinOffset=!0)}),K&&oe(St)):(ze=Bi(h,d),ze&&Be.style.flexBasis!=="auto"&&(Be.style.flexBasis=ze+Pe)),K&&(Ve={top:Ge.top+(si?nr-O:Ii)+Pe,left:Ge.left+(si?Ii:nr-O)+Pe,boxSizing:"border-box",position:"fixed"},Ve[cr]=Ve["max"+Pr]=Math.ceil(Ge.width)+Pe,Ve[ur]=Ve["max"+Ss]=Math.ceil(Ge.height)+Pe,Ve[gt]=Ve[gt+Qr]=Ve[gt+Kr]=Ve[gt+Jr]=Ve[gt+Zr]="0",Ve[Te]=Fe[Te],Ve[Te+Qr]=Fe[Te+Qr],Ve[Te+Kr]=Fe[Te+Kr],Ve[Te+Jr]=Fe[Te+Jr],Ve[Te+Zr]=Fe[Te+Zr],jt=ac(Bt,Ve,ae),tt&&oe(0)),s?(Es=s._initted,Wi(1),s.render(s.duration(),!0,!0),Ut=_e(d.a)-dt+ve+pe,Nt=Math.abs(ve-Ut)>1,K&&Nt&&jt.splice(jt.length-2,2),s.render(0,!0,!0),Es||s.invalidate(!0),s.parent||s.totalTime(s.totalTime()),Wi(0)):Ut=ve,Rt&&(Rt.value?Rt.style["overflow"+d.a.toUpperCase()]=Rt.value:Rt.style.removeProperty("overflow-"+d.a));else if(m&&oe()&&!U)for(Ge=m.parentNode;Ge&&Ge!==re;)Ge._pinOffset&&(O-=Ge._pinOffset,le-=Ge._pinOffset),Ge=Ge.parentNode;Br&&Br.forEach(function(Wt){return Wt.revert(!1,!0)}),f.start=O,f.end=le,ye=Ee=tt?St:oe(),!U&&!tt&&(ye<St&&oe(St),f.scroll.rec=0),f.revert(!1,!0),Le=Ye(),bt&&(ge=-1,bt.restart(!0)),We=0,s&&b&&(s._initted||sr)&&s.progress()!==sr&&s.progress(sr||0,!0).render(s.time(),!0,!0),(je||ne!==f.progress||U||B||s&&!s._initted)&&(s&&!b&&(s._initted||ne||s.vars.immediateRender!==!1)&&s.totalProgress(U&&O<-.001&&!ne?R.utils.normalize(O,le,0):ne,!0),f.progress=je||(ye-O)/ve===ne?0:ne),h&&_&&(Be._pinOffset=Math.round(f.progress*Ut)),V&&V.invalidate(),isNaN(Ur)||(Ur-=R.getProperty(p,d.p),ni-=R.getProperty(ot,d.p),bi(p,d,Ur),bi(Me,d,Ur-(k||0)),bi(ot,d,ni),bi(at,d,ni-(k||0))),je&&!tt&&f.update(),x&&!tt&&!Lt&&(Lt=!0,x(f),Lt=!1)}},f.getVelocity=function(){return(oe()-Ee)/(Ye()-kr)*1e3||0},f.endAnimation=function(){Or(f.callbackAnimation),s&&(V?V.progress(1):s.paused()?b||Or(s,f.direction<0,1):Or(s,s.reversed()))},f.labelToScroll=function(T){return s&&s.labels&&(O||f.refresh()||O)+s.labels[T]/s.duration()*ve||0},f.getTrailing=function(T){var I=H.indexOf(f),D=f.direction>0?H.slice(0,I).reverse():H.slice(I+1);return(ut(T)?D.filter(function(k){return k.vars.preventOverlaps===T}):D).filter(function(k){return f.direction>0?k.end<=O:k.start>=le})},f.update=function(T,I,D){if(!(U&&!D&&!T)){var k=tt===!0?St:f.scroll(),Ue=T?0:(k-O)/ve,X=Ue<0?0:Ue>1?1:Ue||0,be=f.progress,je,xe,pe,ce,wt,me,lt,Et;if(I&&(Ee=ye,ye=U?oe():k,E&&(rr=Vt,Vt=s&&!b?s.totalProgress():X)),C&&h&&!We&&!pi&&vt&&(!X&&O<k+(k-Ee)/(Ye()-kr)*C?X=1e-4:X===1&&le>k+(k-Ee)/(Ye()-kr)*C&&(X=.9999)),X!==be&&f.enabled){if(je=f.isActive=!!X&&X<1,xe=!!be&&be<1,me=je!==xe,wt=me||!!X!=!!be,f.direction=X>be?1:-1,f.progress=X,wt&&!We&&(pe=X&&!be?0:X===1?1:be===1?2:3,b&&(ce=!me&&F[pe+1]!=="none"&&F[pe+1]||F[pe],Et=s&&(ce==="complete"||ce==="reset"||ce in s))),v&&(me||Et)&&(Et||g||!s)&&(qe(v)?v(f):f.getTrailing(v).forEach(function(nr){return nr.endAnimation()})),b||(V&&!We&&!pi?(V._dp._time-V._start!==V._time&&V.render(V._dp._time-V._start),V.resetTo?V.resetTo("totalProgress",X,s._tTime/s._tDur):(V.vars.totalProgress=X,V.invalidate().restart())):s&&s.totalProgress(X,!!(We&&(Le||T)))),h){if(T&&_&&(Be.style[_+d.os2]=Dr),!K)yt(Fr(dt+Ut*X));else if(wt){if(lt=!T&&X>be&&le+1>k&&k+1>=Ct(S,d),ae)if(!T&&(je||lt)){var ze=It(h,!0),Fe=k-O;cn(h,re,ze.top+(d===Ce?Fe:0)+Pe,ze.left+(d===Ce?0:Fe)+Pe)}else cn(h,Be);Mr(je||lt?jt:tr),Nt&&X<1&&je||yt(dt+(X===1&&!lt?Ut:0))}}E&&!de.tween&&!We&&!pi&&bt.restart(!0),o&&(me||w&&X&&(X<1||!Yi))&&ti(o.targets).forEach(function(nr){return nr.classList[je||w?"add":"remove"](o.className)}),a&&!b&&!T&&a(f),wt&&!We?(b&&(Et&&(ce==="complete"?s.pause().totalProgress(1):ce==="reset"?s.restart(!0).pause():ce==="restart"?s.restart(!0):s[ce]()),a&&a(f)),(me||!Yi)&&(c&&me&&qi(f,c),te[pe]&&qi(f,te[pe]),w&&(X===1?f.kill(!1,1):te[pe]=0),me||(pe=X===1?1:3,te[pe]&&qi(f,te[pe]))),y&&!je&&Math.abs(f.getVelocity())>(Hr(y)?y:2500)&&(Or(f.callbackAnimation),V?V.progress(1):Or(s,ce==="reverse"?1:!X,1))):b&&a&&!We&&a(f)}if(gr){var Ge=U?k/U.duration()*(U._caScrollDist||0):k;ii(Ge+(p._isFlipped?1:0)),gr(Ge)}vr&&vr(-k/U.duration()*(U._caScrollDist||0))}},f.enable=function(T,I){f.enabled||(f.enabled=!0,Oe(S,"resize",Lr),$||Oe(S,"scroll",_r),ue&&Oe(e,"refreshInit",ue),T!==!1&&(f.progress=ne=0,ye=Ee=ge=oe()),I!==!1&&f.refresh())},f.getTween=function(T){return T&&de?de.tween:V},f.setPositions=function(T,I,D,k){if(U){var Ue=U.scrollTrigger,X=U.duration(),be=Ue.end-Ue.start;T=Ue.start+be*T/X,I=Ue.start+be*I/X}f.refresh(!1,!1,{start:Js(T,D&&!!f._startClamp),end:Js(I,D&&!!f._endClamp)},k),f.update()},f.adjustPinSpacing=function(T){if(we&&T){var I=we.indexOf(d.d)+1;we[I]=parseFloat(we[I])+T+Pe,we[1]=parseFloat(we[1])+T+Pe,Mr(we)}},f.disable=function(T,I){if(T!==!1&&f.revert(!0,!0),f.enabled&&(f.enabled=f.isActive=!1,I||V&&V.pause(),St=0,fe&&(fe.uncache=1),ue&&Ne(e,"refreshInit",ue),bt&&(bt.pause(),de.tween&&de.tween.kill()&&(de.tween=0)),!$)){for(var D=H.length;D--;)if(H[D].scroller===S&&H[D]!==f)return;Ne(S,"resize",Lr),$||Ne(S,"scroll",_r)}},f.kill=function(T,I){f.disable(T,I),V&&!I&&V.kill(),u&&delete ls[u];var D=H.indexOf(f);D>=0&&H.splice(D,1),D===et&&Mi>0&&et--,D=0,H.forEach(function(k){return k.scroller===f.scroller&&(D=1)}),D||tt||(f.scroll.rec=0),s&&(s.scrollTrigger=null,T&&s.revert({kill:!1}),I||s.kill()),Me&&[Me,at,p,ot].forEach(function(k){return k.parentNode&&k.parentNode.removeChild(k)}),ei===f&&(ei=0),h&&(fe&&(fe.uncache=1),D=0,H.forEach(function(k){return k.pin===h&&D++}),D||(fe.spacer=0)),i.onKill&&i.onKill(f)},H.push(f),f.enable(!1,!1),Ot&&Ot(f),s&&s.add&&!ve){var J=f.update;f.update=function(){f.update=J,G.cache++,O||le||f.refresh()},R.delayedCall(.01,f.update),ve=.01,O=le=0}else f.refresh();h&&ic()},e.register=function(i){return br||(R=i||Xn(),Yn()&&window.document&&e.enable(),br=zr),br},e.defaults=function(i){if(i)for(var s in i)xi[s]=i[s];return xi},e.disable=function(i,s){zr=0,H.forEach(function(a){return a[s?"kill":"disable"](i)}),Ne(j,"wheel",_r),Ne(he,"scroll",_r),clearInterval(di),Ne(he,"touchcancel",Pt),Ne(re,"touchstart",Pt),mi(Ne,he,"pointerdown,touchstart,mousedown",en),mi(Ne,he,"pointerup,touchend,mouseup",tn),Ai.kill(),gi(Ne);for(var n=0;n<G.length;n+=3)vi(Ne,G[n],G[n+1]),vi(Ne,G[n],G[n+2])},e.enable=function(){if(j=window,he=document,ft=he.documentElement,re=he.body,R&&(ti=R.utils.toArray,qr=R.utils.clamp,as=R.core.context||Pt,Wi=R.core.suppressOverwrites||Pt,xs=j.history.scrollRestoration||"auto",cs=j.pageYOffset||0,R.core.globals("ScrollTrigger",e),re)){zr=1,Er=document.createElement("div"),Er.style.height="100vh",Er.style.position="absolute",ia(),Kl(),Se.register(R),e.isTouch=Se.isTouch,Xt=Se.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),ns=Se.isTouch===1,Oe(j,"wheel",_r),vs=[j,he,ft,re],R.matchMedia?(e.matchMedia=function(c){var x=R.matchMedia(),g;for(g in c)x.add(g,c[g]);return x},R.addEventListener("matchMediaInit",function(){ta(),Ts()}),R.addEventListener("matchMediaRevert",function(){return ea()}),R.addEventListener("matchMedia",function(){lr(0,1),pr("matchMedia")}),R.matchMedia().add("(orientation: portrait)",function(){return $i(),$i})):console.warn("Requires GSAP 3.11.0 or later"),$i(),Oe(he,"scroll",_r);var i=re.hasAttribute("style"),s=re.style,n=s.borderTopStyle,a=R.core.Animation.prototype,o,u;for(a.revert||Object.defineProperty(a,"revert",{value:function(){return this.time(-.01,!0)}}),s.borderTopStyle="solid",o=It(re),Ce.m=Math.round(o.top+Ce.sc())||0,rt.m=Math.round(o.left+rt.sc())||0,n?s.borderTopStyle=n:s.removeProperty("border-top-style"),i||(re.setAttribute("style",""),re.removeAttribute("style")),di=setInterval(nn,250),R.delayedCall(.5,function(){return pi=0}),Oe(he,"touchcancel",Pt),Oe(re,"touchstart",Pt),mi(Oe,he,"pointerdown,touchstart,mousedown",en),mi(Oe,he,"pointerup,touchend,mouseup",tn),ss=R.utils.checkPrefix("transform"),Ri.push(ss),br=Ye(),Ai=R.delayedCall(.2,lr).pause(),Sr=[he,"visibilitychange",function(){var c=j.innerWidth,x=j.innerHeight;he.hidden?(Ks=c,Zs=x):(Ks!==c||Zs!==x)&&Lr()},he,"DOMContentLoaded",lr,j,"load",lr,j,"resize",Lr],gi(Oe),H.forEach(function(c){return c.enable(0,1)}),u=0;u<G.length;u+=3)vi(Ne,G[u],G[u+1]),vi(Ne,G[u],G[u+2])}},e.config=function(i){"limitCallbacks"in i&&(Yi=!!i.limitCallbacks);var s=i.syncInterval;s&&clearInterval(di)||(di=s)&&setInterval(nn,s),"ignoreMobileResize"in i&&(ns=e.isTouch===1&&i.ignoreMobileResize),"autoRefreshEvents"in i&&(gi(Ne)||gi(Oe,i.autoRefreshEvents||"none"),Gn=(i.autoRefreshEvents+"").indexOf("resize")===-1)},e.scrollerProxy=function(i,s){var n=nt(i),a=G.indexOf(n),o=hr(n);~a&&G.splice(a,o?6:2),s&&(o?Dt.unshift(j,s,re,s,ft,s):Dt.unshift(n,s))},e.clearMatchMedia=function(i){H.forEach(function(s){return s._ctx&&s._ctx.query===i&&s._ctx.kill(!0,!0)})},e.isInViewport=function(i,s,n){var a=(ut(i)?nt(i):i).getBoundingClientRect(),o=a[n?cr:ur]*s||0;return n?a.right-o>0&&a.left+o<j.innerWidth:a.bottom-o>0&&a.top+o<j.innerHeight},e.positionInViewport=function(i,s,n){ut(i)&&(i=nt(i));var a=i.getBoundingClientRect(),o=a[n?cr:ur],u=s==null?o/2:s in Ui?Ui[s]*o:~s.indexOf("%")?parseFloat(s)*o/100:parseFloat(s)||0;return n?(a.left+u)/j.innerWidth:(a.top+u)/j.innerHeight},e.killAll=function(i){if(H.slice(0).forEach(function(n){return n.vars.id!=="ScrollSmoother"&&n.kill()}),i!==!0){var s=dr.killAll||[];dr={},s.forEach(function(n){return n()})}},e})();L.version="3.14.2";L.saveStyles=function(e){return e?ti(e).forEach(function(t){if(t&&t.style){var r=ct.indexOf(t);r>=0&&ct.splice(r,5),ct.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),R.core.getCache(t),as())}}):ct};L.revert=function(e,t){return Ts(!e,t)};L.create=function(e,t){return new L(e,t)};L.refresh=function(e){return e?Lr(!0):(br||L.register())&&lr(!0)};L.update=function(e){return++G.cache&&zt(e===!0?2:0)};L.clearScrollMemory=ra;L.maxScroll=function(e,t){return Ct(e,t?rt:Ce)};L.getScrollFunc=function(e,t){return Jt(nt(e),t?rt:Ce)};L.getById=function(e){return ls[e]};L.getAll=function(){return H.filter(function(e){return e.vars.id!=="ScrollSmoother"})};L.isScrolling=function(){return!!vt};L.snapDirectional=ws;L.addEventListener=function(e,t){var r=dr[e]||(dr[e]=[]);~r.indexOf(t)||r.push(t)};L.removeEventListener=function(e,t){var r=dr[e],i=r&&r.indexOf(t);i>=0&&r.splice(i,1)};L.batch=function(e,t){var r=[],i={},s=t.interval||.016,n=t.batchMax||1e9,a=function(c,x){var g=[],m=[],h=R.delayedCall(s,function(){x(g,m),g=[],m=[]}).pause();return function(_){g.length||h.restart(!0),g.push(_.trigger),m.push(_),n<=g.length&&h.progress(1)}},o;for(o in t)i[o]=o.substr(0,2)==="on"&&qe(t[o])&&o!=="onRefreshInit"?a(o,t[o]):t[o];return qe(n)&&(n=n(),Oe(L,"refresh",function(){return n=t.batchMax()})),ti(e).forEach(function(u){var c={};for(o in i)c[o]=i[o];c.trigger=u,r.push(L.create(c))}),r};var fn=function(t,r,i,s){return r>s?t(s):r<0&&t(0),i>s?(s-r)/(i-r):i<0?r/(r-i):1},Zi=function e(t,r){r===!0?t.style.removeProperty("touch-action"):t.style.touchAction=r===!0?"auto":r?"pan-"+r+(Se.isTouch?" pinch-zoom":""):"none",t===ft&&e(re,r)},Si={auto:1,scroll:1},lc=function(t){var r=t.event,i=t.target,s=t.axis,n=(r.changedTouches?r.changedTouches[0]:r).target,a=n._gsap||R.core.getCache(n),o=Ye(),u;if(!a._isScrollT||o-a._isScrollT>2e3){for(;n&&n!==re&&(n.scrollHeight<=n.clientHeight&&n.scrollWidth<=n.clientWidth||!(Si[(u=mt(n)).overflowY]||Si[u.overflowX]));)n=n.parentNode;a._isScroll=n&&n!==i&&!hr(n)&&(Si[(u=mt(n)).overflowY]||Si[u.overflowX]),a._isScrollT=o}(a._isScroll||s==="x")&&(r.stopPropagation(),r._gsapAllow=!0)},na=function(t,r,i,s){return Se.create({target:t,capture:!0,debounce:!1,lockAxis:!0,type:r,onWheel:s=s&&lc,onPress:s,onDrag:s,onScroll:s,onEnable:function(){return i&&Oe(he,Se.eventTypes[0],dn,!1,!0)},onDisable:function(){return Ne(he,Se.eventTypes[0],dn,!0)}})},cc=/(input|label|select|textarea)/i,hn,dn=function(t){var r=cc.test(t.target.tagName);(r||hn)&&(t._gsapAllow=!0,hn=r)},uc=function(t){or(t)||(t={}),t.preventDefault=t.isNormalizer=t.allowClicks=!0,t.type||(t.type="wheel,touch"),t.debounce=!!t.debounce,t.id=t.id||"normalizer";var r=t,i=r.normalizeScrollX,s=r.momentum,n=r.allowNestedScroll,a=r.onRelease,o,u,c=nt(t.target)||ft,x=R.core.globals().ScrollSmoother,g=x&&x.get(),m=Xt&&(t.content&&nt(t.content)||g&&t.content!==!1&&!g.smooth()&&g.content()),h=Jt(c,Ce),_=Jt(c,rt),B=1,C=(Se.isTouch&&j.visualViewport?j.visualViewport.scale*j.visualViewport.width:j.outerWidth)/j.innerWidth,P=0,M=qe(s)?function(){return s(o)}:function(){return s||2.8},w,E,ae=na(c,t.type,!0,n),ie=function(){return E=!1},U=Pt,y=Pt,v=function(){u=Ct(c,Ce),y=qr(Xt?1:0,u),i&&(U=qr(0,Ct(c,rt))),w=fr},d=function(){m._gsap.y=Fr(parseFloat(m._gsap.y)+h.offset)+"px",m.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(m._gsap.y)+", 0, 1)",h.offset=h.cacheID=0},b=function(){if(E){requestAnimationFrame(ie);var q=Fr(o.deltaY/2),se=y(h.v-q);if(m&&se!==h.v+h.offset){h.offset=se-h.v;var f=Fr((parseFloat(m&&m._gsap.y)||0)-h.offset);m.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+f+", 0, 1)",m._gsap.y=f+"px",h.cacheID=G.cache,zt()}return!0}h.offset&&d(),E=!0},S,Q,$,K,te=function(){v(),S.isActive()&&S.vars.scrollY>u&&(h()>u?S.progress(1)&&h(u):S.resetTo("scrollY",u))};return m&&R.set(m,{y:"+=0"}),t.ignoreCheck=function(F){return Xt&&F.type==="touchmove"&&b()||B>1.05&&F.type!=="touchstart"||o.isGesturing||F.touches&&F.touches.length>1},t.onPress=function(){E=!1;var F=B;B=Fr((j.visualViewport&&j.visualViewport.scale||1)/C),S.pause(),F!==B&&Zi(c,B>1.01?!0:i?!1:"x"),Q=_(),$=h(),v(),w=fr},t.onRelease=t.onGestureStart=function(F,q){if(h.offset&&d(),!q)K.restart(!0);else{G.cache++;var se=M(),f,ue;i&&(f=_(),ue=f+se*.05*-F.velocityX/.227,se*=fn(_,f,ue,Ct(c,rt)),S.vars.scrollX=U(ue)),f=h(),ue=f+se*.05*-F.velocityY/.227,se*=fn(h,f,ue,Ct(c,Ce)),S.vars.scrollY=y(ue),S.invalidate().duration(se).play(.01),(Xt&&S.vars.scrollY>=u||f>=u-1)&&R.to({},{onUpdate:te,duration:se})}a&&a(F)},t.onWheel=function(){S._ts&&S.pause(),Ye()-P>1e3&&(w=0,P=Ye())},t.onChange=function(F,q,se,f,ue){if(fr!==w&&v(),q&&i&&_(U(f[2]===q?Q+(F.startX-F.x):_()+q-f[1])),se){h.offset&&d();var it=ue[2]===se,Ae=it?$+F.startY-F.y:h()+se-ue[1],ge=y(Ae);it&&Ae!==ge&&($+=ge-Ae),h(ge)}(se||q)&&zt()},t.onEnable=function(){Zi(c,i?!1:"x"),L.addEventListener("refresh",te),Oe(j,"resize",te),h.smooth&&(h.target.style.scrollBehavior="auto",h.smooth=_.smooth=!1),ae.enable()},t.onDisable=function(){Zi(c,!0),Ne(j,"resize",te),L.removeEventListener("refresh",te),ae.kill()},t.lockAxis=t.lockAxis!==!1,o=new Se(t),o.iOS=Xt,Xt&&!h()&&h(1),Xt&&R.ticker.add(Pt),K=o._dc,S=R.to(o,{ease:"power4",paused:!0,inherit:!1,scrollX:i?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:sa(h,h(),function(){return S.pause()})},onUpdate:zt,onComplete:K.vars.onComplete}),o};L.sort=function(e){if(qe(e))return H.sort(e);var t=j.pageYOffset||0;return L.getAll().forEach(function(r){return r._sortY=r.trigger?t+r.trigger.getBoundingClientRect().top:r.start+j.innerHeight}),H.sort(e||function(r,i){return(r.vars.refreshPriority||0)*-1e6+(r.vars.containerAnimation?1e6:r._sortY)-((i.vars.containerAnimation?1e6:i._sortY)+(i.vars.refreshPriority||0)*-1e6)})};L.observe=function(e){return new Se(e)};L.normalizeScroll=function(e){if(typeof e>"u")return Je;if(e===!0&&Je)return Je.enable();if(e===!1){Je&&Je.kill(),Je=e;return}var t=e instanceof Se?e:uc(e);return Je&&Je.target===t.target&&Je.kill(),hr(t.target)&&(Je=t),t};L.core={_getVelocityProp:is,_inputObserver:na,_scrollers:G,_proxies:Dt,bridge:{ss:function(){vt||pr("scrollStart"),vt=Ye()},ref:function(){return We}}};Xn()&&R.registerPlugin(L);var Ir={},jr={exports:{}},fc=jr.exports,pn;function hc(){return pn||(pn=1,(function(e,t){(function(r,i){i(t)})(fc,(function(r){var i=function(){return i=Object.assign||function(n){for(var a,o=1,u=arguments.length;o<u;o++)for(var c in a=arguments[o])Object.prototype.hasOwnProperty.call(a,c)&&(n[c]=a[c]);return n},i.apply(this,arguments)},s=(function(){function n(a,o,u){var c=this;this.endVal=o,this.options=u,this.version="2.9.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(x){c.startTime||(c.startTime=x);var g=x-c.startTime;c.remaining=c.duration-g,c.useEasing?c.countDown?c.frameVal=c.startVal-c.easingFn(g,0,c.startVal-c.endVal,c.duration):c.frameVal=c.easingFn(g,c.startVal,c.endVal-c.startVal,c.duration):c.frameVal=c.startVal+(c.endVal-c.startVal)*(g/c.duration);var m=c.countDown?c.frameVal<c.endVal:c.frameVal>c.endVal;c.frameVal=m?c.endVal:c.frameVal,c.frameVal=Number(c.frameVal.toFixed(c.options.decimalPlaces)),c.printValue(c.frameVal),g<c.duration?c.rAF=requestAnimationFrame(c.count):c.finalEndVal!==null?c.update(c.finalEndVal):c.options.onCompleteCallback&&c.options.onCompleteCallback()},this.formatNumber=function(x){var g,m,h,_,B=x<0?"-":"";g=Math.abs(x).toFixed(c.options.decimalPlaces);var C=(g+="").split(".");if(m=C[0],h=C.length>1?c.options.decimal+C[1]:"",c.options.useGrouping){_="";for(var P=3,M=0,w=0,E=m.length;w<E;++w)c.options.useIndianSeparators&&w===4&&(P=2,M=1),w!==0&&M%P==0&&(_=c.options.separator+_),M++,_=m[E-w-1]+_;m=_}return c.options.numerals&&c.options.numerals.length&&(m=m.replace(/[0-9]/g,(function(ae){return c.options.numerals[+ae]})),h=h.replace(/[0-9]/g,(function(ae){return c.options.numerals[+ae]}))),B+c.options.prefix+m+h+c.options.suffix},this.easeOutExpo=function(x,g,m,h){return m*(1-Math.pow(2,-10*x/h))*1024/1023+g},this.options=i(i({},this.defaults),u),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.el=typeof a=="string"?document.getElementById(a):a,o=o??this.parse(this.el.innerHTML),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(o),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,a):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push((function(){return c.handleScroll(c)})),window.onscroll=function(){window.onScrollFns.forEach((function(x){return x()}))},this.handleScroll(this)))}return n.prototype.handleScroll=function(a){if(a&&window&&!a.once){var o=window.innerHeight+window.scrollY,u=a.el.getBoundingClientRect(),c=u.top+window.pageYOffset,x=u.top+u.height+window.pageYOffset;x<o&&x>window.scrollY&&a.paused?(a.paused=!1,setTimeout((function(){return a.start()}),a.options.scrollSpyDelay),a.options.scrollSpyOnce&&(a.once=!0)):(window.scrollY>x||c>o)&&!a.paused&&a.reset()}},n.prototype.determineDirectionAndSmartEasing=function(){var a=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>a;var o=a-this.startVal;if(Math.abs(o)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=a;var u=this.countDown?1:-1;this.endVal=a+u*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=a,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},n.prototype.start=function(a){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),a&&(this.options.onCompleteCallback=a),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},n.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},n.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},n.prototype.update=function(a){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(a),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},n.prototype.printValue=function(a){var o;if(this.el){var u=this.formattingFn(a);!((o=this.options.plugin)===null||o===void 0)&&o.render?this.options.plugin.render(this.el,u):this.el.tagName==="INPUT"?this.el.value=u:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=u:this.el.innerHTML=u}},n.prototype.ensureNumber=function(a){return typeof a=="number"&&!isNaN(a)},n.prototype.validateValue=function(a){var o=Number(a);return this.ensureNumber(o)?o:(this.error="[CountUp] invalid start or end value: ".concat(a),null)},n.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},n.prototype.parse=function(a){var o=function(g){return g.replace(/([.,'  ])/g,"\\$1")},u=o(this.options.separator),c=o(this.options.decimal),x=a.replace(new RegExp(u,"g"),"").replace(new RegExp(c,"g"),".");return parseFloat(x)},n})();r.CountUp=s}))})(jr,jr.exports)),jr.exports}var gn;function dc(){if(gn)return Ir;gn=1,Object.defineProperty(Ir,"__esModule",{value:!0});var e=ua(),t=hc();function r(y,v){var d=y==null?null:typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(d!=null){var b,S,Q,$,K=[],te=!0,F=!1;try{if(Q=(d=d.call(y)).next,v!==0)for(;!(te=(b=Q.call(d)).done)&&(K.push(b.value),K.length!==v);te=!0);}catch(q){F=!0,S=q}finally{try{if(!te&&d.return!=null&&($=d.return(),Object($)!==$))return}finally{if(F)throw S}}return K}}function i(y,v){var d=Object.keys(y);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(y);v&&(b=b.filter(function(S){return Object.getOwnPropertyDescriptor(y,S).enumerable})),d.push.apply(d,b)}return d}function s(y){for(var v=1;v<arguments.length;v++){var d=arguments[v]!=null?arguments[v]:{};v%2?i(Object(d),!0).forEach(function(b){o(y,b,d[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(d)):i(Object(d)).forEach(function(b){Object.defineProperty(y,b,Object.getOwnPropertyDescriptor(d,b))})}return y}function n(y,v){if(typeof y!="object"||!y)return y;var d=y[Symbol.toPrimitive];if(d!==void 0){var b=d.call(y,v);if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(y)}function a(y){var v=n(y,"string");return typeof v=="symbol"?v:String(v)}function o(y,v,d){return v=a(v),v in y?Object.defineProperty(y,v,{value:d,enumerable:!0,configurable:!0,writable:!0}):y[v]=d,y}function u(){return u=Object.assign?Object.assign.bind():function(y){for(var v=1;v<arguments.length;v++){var d=arguments[v];for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(y[b]=d[b])}return y},u.apply(this,arguments)}function c(y,v){if(y==null)return{};var d={},b=Object.keys(y),S,Q;for(Q=0;Q<b.length;Q++)S=b[Q],!(v.indexOf(S)>=0)&&(d[S]=y[S]);return d}function x(y,v){if(y==null)return{};var d=c(y,v),b,S;if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(y);for(S=0;S<Q.length;S++)b=Q[S],!(v.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(y,b)&&(d[b]=y[b])}return d}function g(y,v){return m(y)||r(y,v)||h(y,v)||B()}function m(y){if(Array.isArray(y))return y}function h(y,v){if(y){if(typeof y=="string")return _(y,v);var d=Object.prototype.toString.call(y).slice(8,-1);if(d==="Object"&&y.constructor&&(d=y.constructor.name),d==="Map"||d==="Set")return Array.from(y);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return _(y,v)}}function _(y,v){(v==null||v>y.length)&&(v=y.length);for(var d=0,b=new Array(v);d<v;d++)b[d]=y[d];return b}function B(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var C=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?e.useLayoutEffect:e.useEffect;function P(y){var v=e.useRef(y);return C(function(){v.current=y}),e.useCallback(function(){for(var d=arguments.length,b=new Array(d),S=0;S<d;S++)b[S]=arguments[S];return v.current.apply(void 0,b)},[])}var M=function(v,d){var b=d.decimal,S=d.decimals,Q=d.duration,$=d.easingFn,K=d.end,te=d.formattingFn,F=d.numerals,q=d.prefix,se=d.separator,f=d.start,ue=d.suffix,it=d.useEasing,Ae=d.useGrouping,ge=d.useIndianSeparators,Le=d.enableScrollSpy,ne=d.scrollSpyDelay,oe=d.scrollSpyOnce,de=d.plugin;return new t.CountUp(v,K,{startVal:f,duration:Q,decimal:b,decimalPlaces:S,easingFn:$,formattingFn:te,numerals:F,separator:se,prefix:q,suffix:ue,plugin:de,useEasing:it,useIndianSeparators:ge,useGrouping:Ae,enableScrollSpy:Le,scrollSpyDelay:ne,scrollSpyOnce:oe})},w=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],E={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},ae=function(v){var d=Object.fromEntries(Object.entries(v).filter(function(O){var le=g(O,2),Me=le[1];return Me!==void 0})),b=e.useMemo(function(){return s(s({},E),d)},[v]),S=b.ref,Q=b.startOnMount,$=b.enableReinitialize,K=b.delay,te=b.onEnd,F=b.onStart,q=b.onPauseResume,se=b.onReset,f=b.onUpdate,ue=x(b,w),it=e.useRef(),Ae=e.useRef(),ge=e.useRef(!1),Le=P(function(){return M(typeof S=="string"?S:S.current,ue)}),ne=P(function(O){var le=it.current;if(le&&!O)return le;var Me=Le();return it.current=Me,Me}),oe=P(function(){var O=function(){return ne(!0).start(function(){te?.({pauseResume:de,reset:fe,start:ye,update:st})})};K&&K>0?Ae.current=setTimeout(O,K*1e3):O(),F?.({pauseResume:de,reset:fe,update:st})}),de=P(function(){ne().pauseResume(),q?.({reset:fe,start:ye,update:st})}),fe=P(function(){ne().el&&(Ae.current&&clearTimeout(Ae.current),ne().reset(),se?.({pauseResume:de,start:ye,update:st}))}),st=P(function(O){ne().update(O),f?.({pauseResume:de,reset:fe,start:ye})}),ye=P(function(){fe(),oe()}),Ee=P(function(O){Q&&(O&&fe(),oe())});return e.useEffect(function(){ge.current?$&&Ee(!0):(ge.current=!0,Ee())},[$,ge,Ee,K,v.start,v.suffix,v.prefix,v.duration,v.separator,v.decimals,v.decimal,v.formattingFn]),e.useEffect(function(){return function(){fe()}},[fe]),{start:ye,pauseResume:de,reset:fe,update:st,getCountUp:ne}},ie=["className","redraw","containerProps","children","style"],U=function(v){var d=v.className,b=v.redraw,S=v.containerProps,Q=v.children,$=v.style,K=x(v,ie),te=e.useRef(null),F=e.useRef(!1),q=ae(s(s({},K),{},{ref:te,startOnMount:typeof Q!="function"||v.delay===0,enableReinitialize:!1})),se=q.start,f=q.reset,ue=q.update,it=q.pauseResume,Ae=q.getCountUp,ge=P(function(){se()}),Le=P(function(de){v.preserveValue||f(),ue(de)}),ne=P(function(){if(typeof v.children=="function"&&!(te.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}Ae()});e.useEffect(function(){ne()},[ne]),e.useEffect(function(){F.current&&Le(v.end)},[v.end,Le]);var oe=b&&v;return e.useEffect(function(){b&&F.current&&ge()},[ge,b,oe]),e.useEffect(function(){!b&&F.current&&ge()},[ge,b,v.start,v.suffix,v.prefix,v.duration,v.separator,v.decimals,v.decimal,v.className,v.formattingFn]),e.useEffect(function(){F.current=!0},[]),typeof Q=="function"?Q({countUpRef:te,start:se,reset:f,update:ue,pauseResume:it,getCountUp:Ae}):e.createElement("span",u({className:d,ref:te,style:$},S),typeof v.start<"u"?Ae().formattingFn(v.start):"")};return Ir.default=U,Ir.useCountUp=ae,Ir}var pc=dc();const gc=fs(pc);Xe.registerPlugin(L);const mc=()=>{const e=A.useRef(null),t=A.useRef([]);return Cr(()=>{t.current.forEach((r,i)=>{const s=r.querySelector(".counter-number"),n=Ds[i];Xe.set(s,{innerText:"0"}),Xe.to(s,{innerText:n.value,duration:2.5,ease:"power2.out",snap:{innerText:1},scrollTrigger:{trigger:"#counter",start:"top center"},onComplete:()=>{s.textContent=`${n.value}${n.suffix}`}})},e)},[]),l.jsx("div",{id:"counter",ref:e,className:"padding-x-lg xl:mt-0 mt-32",children:l.jsx("div",{className:"mx-auto grid-4-cols",children:Ds.map((r,i)=>l.jsxs("div",{ref:s=>s&&(t.current[i]=s),className:"bg-zinc-900 rounded-lg p-10 flex flex-col justify-center",children:[l.jsx("div",{className:"counter-number text-white-50 text-5xl font-bold mb-2",children:l.jsx(gc,{suffix:r.value,end:r.suffix})}),l.jsx("div",{className:"text-white-50 text-lg",children:r.label})]},i))})})},vc=()=>(Cr(()=>{Xe.fromTo(".hero-text h1",{y:50,opacity:0},{y:0,opacity:1,stagger:.3,duration:1,ease:"power2.inOut"})}),l.jsxs("section",{id:"hero",className:"relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-0 z-10",children:l.jsx("img",{src:"/images/bg.png",alt:"background"})}),l.jsxs("div",{className:"hero-layout",children:[l.jsx("header",{className:"flex flex-col justify-center md:w-full w-screen md:px-20 px-5",children:l.jsxs("div",{className:"flex flex-col gap-7",children:[l.jsxs("div",{className:"hero-text",children:[l.jsxs("h1",{children:["Shaping",l.jsx("span",{className:"slide",children:l.jsx("span",{className:"wrapper",children:Ba.map((e,t)=>l.jsxs("span",{className:"flex items-center md:gap-3 gap-1 pb-2",children:[l.jsx("img",{src:e.imgPath,alt:"person",className:"xl:size-12 md:size-10 size-7 md:p-2 p-1 rounded-full bg-white-50"}),l.jsx("span",{className:"text-purple-700",children:e.text})]},t))})})]}),l.jsx("h1",{children:"into Real Projects"}),l.jsx("h1",{children:"that Deliver Results"})]}),l.jsx("b",{children:l.jsx("p",{className:"bg-gradient-to-r from-white via-indigo-400 to-gray-400 text-transparent bg-clip-text md:text-xl relative z-10 pointer-events-none",children:"Hi, I’m Moiz Jawad, a Full-Stack Developer who builds real-world products"})}),l.jsx(Oa,{text:"See My Work",className:"md:w-80 md:h-16 w-60 h-12 z-10",id:"counter"})]})}),l.jsx("figure",{children:l.jsx("div",{className:"hero-3d-layout",children:l.jsx(Vl,{})})})]}),l.jsx(mc,{})]}));Xe.registerPlugin(L);const xc=()=>{const e=A.useRef(null),t=A.useRef(null),r=A.useRef(null),i=A.useRef(null);return Cr(()=>{const s=Xe.context(()=>{Xe.fromTo(e.current,{opacity:0},{opacity:1,duration:1.5,ease:"power3.in"}),[t.current,r.current,i.current].forEach((a,o)=>{a&&Xe.fromTo(a,{y:60,opacity:0},{y:0,opacity:1,duration:1,ease:"power3.in",delay:.1*(o+1),scrollTrigger:{trigger:a,start:"top 85%",once:!0}})})},e);return()=>s.revert()},{scope:e}),l.jsx("section",{id:"work",ref:e,className:"app-showcase",children:l.jsx("div",{className:"w-full",children:l.jsxs("div",{className:"showcaselayout",children:[l.jsxs("div",{ref:t,className:"first-project-wrapper",children:[l.jsx("div",{className:"image-wrapper",children:l.jsx("img",{src:"/images/project1.png",alt:"Ryde app interface",loading:"lazy"})}),l.jsxs("div",{className:"text-content",children:[l.jsx("h2",{children:"On-Demand Rides Made Simple with a Powerful, User-Friendly App called Ryde"}),l.jsx("p",{className:"text-white-50 md:text-xl",children:"An app built with React Native, Expo, and Tailwind CSS for a fast, user-friendly experience."})]})]}),l.jsxs("div",{className:"project-list-wrapper overflow-hidden",children:[l.jsxs("div",{className:"project",ref:r,children:[l.jsx("div",{className:"image-wrapper bg-[#FFEFDB]",children:l.jsx("img",{src:"/images/project2.png",alt:"Library management platform",loading:"lazy"})}),l.jsx("h2",{children:"The Library Management Platform"})]}),l.jsxs("div",{className:"project",ref:i,children:[l.jsx("div",{className:"image-wrapper bg-[#FFE7EB]",children:l.jsx("img",{src:"/images/project3.png",alt:"YC Directory app",loading:"lazy"})}),l.jsx("h2",{children:"YC Directory – A Startup Showcase App"})]})]})]})})})},yc=()=>{const[e,t]=A.useState(!1);return A.useEffect(()=>{const r=()=>{t(!0)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]),l.jsx("header",{className:`navbar ${e?"scrolled":"not-scrolled"}`,children:l.jsxs("div",{className:"inner",children:[l.jsx("a",{className:"logo",href:"#hero",children:"Moiz | Jawad"}),l.jsx("nav",{className:"desktop",children:l.jsx("ul",{children:Aa.map(({link:r,name:i})=>l.jsx("li",{className:"group",children:l.jsxs("a",{href:r,children:[l.jsx("span",{children:i}),l.jsx("span",{className:"underline"})]})},i))})}),l.jsx("a",{href:"#contact",className:"contact-btn group",children:l.jsx("div",{className:"inner",children:l.jsx("span",{children:"Contact me"})})})]})})},_c=()=>{const e=({icon:t})=>l.jsx("div",{className:"flex-none flex-center marquee-item",children:l.jsx("img",{width:"80",height:"80",src:t.imgPath,alt:t.name})});return l.jsxs("div",{className:"md:my-20 my-10 relative",children:[l.jsx("div",{className:"gradient-edge"}),l.jsx("div",{className:"gradient-edge"}),l.jsx("div",{className:"marquee h-52",children:l.jsxs("div",{className:"marquee-box md:gap-12 gap-5",children:[As.map(t=>l.jsx(e,{icon:t},t.name)),As.map(t=>l.jsx(e,{icon:t},t.name))]})})]})},bc=()=>l.jsx("div",{className:"w-full padding-x-lg",children:l.jsx("div",{className:"mx-auto grid-3-cols",children:Ua.map(({imgPath:e,title:t,desc:r})=>l.jsxs("div",{className:"card-border rounded-xl p-8 flex flex-col gap-4",children:[l.jsx("div",{className:"size-14 flex items-center justify-center rounded-full",children:l.jsx("img",{src:e,alt:t})}),l.jsxs("h3",{className:"text-white text-2xl font-semibold mt-2",children:[t," "]}),l.jsx("p",{className:"text-white-50 text-lg",children:r})]},t))})}),Sc=({title:e,sub:t})=>l.jsxs("div",{className:"flex flex-col items-center gap-5",children:[l.jsx("div",{className:"hero-badge",children:l.jsx("p",{children:t})}),l.jsx("div",{className:"font-semifont md:text-5xl text-3xl text-center",children:e})]}),wc=({card:e,children:t,index:r})=>{const i=A.useRef([]),s=n=>a=>{const o=i.current[n];if(!o)return;const u=o.getBoundingClientRect(),c=a.clientX-u.left-u.width/2,x=a.clientY-u.top-u.height/2;let g=Math.atan2(x,c)*(180/Math.PI);g=(g+360)%360,o.style.setProperty("--start",g+60)};return l.jsxs("div",{ref:n=>i.current[r]=n,onMouseMove:s(r),className:"card card-border timeline-card rounded-xl p-10",children:[l.jsx("div",{className:"glow"}),l.jsx("div",{className:"flex items-center gap-1 mb-5",children:Array.from({length:5},(n,a)=>l.jsx("img",{src:"/images/star.png",alt:"star",className:"size-5"}))}),l.jsx("div",{className:"mb-5",children:l.jsx("p",{className:"text-white-50  text-lg ",children:e.review})}),t]})};Xe.registerPlugin(L);const Tc=()=>(Cr(()=>{Xe.utils.toArray(".timeline-card").forEach(e=>{Xe.from(e,{xPercent:-100,opacity:0,transformOrigin:"left left",duration:1,ease:"power2.inOut ",scrollTrigger:{trigger:e,start:"top 80%"}})}),Xe.to(".timeline",{transformOrigin:"bottom bottom",ease:"power1.inOut",scrollTrigger:{trigger:".timeline",start:"top center",end:"70% center",scrub:!0,onUpdate:e=>{Xe.to(".timeline",{scaleY:1-e.progress})}},scaleY:0}),Xe.utils.toArray(".expText").forEach(e=>{Xe.from(e,{xPercent:0,opacity:0,duration:1,ease:"power2.inOut ",scrollTrigger:{trigger:e,start:"top 60%"}})})},[]),l.jsx("section",{id:"experience",className:"w-full md:mt-40 mt-20 section-padding xl:px-0",children:l.jsxs("div",{className:"w-full h-full md:px-20 px-5 ",children:[l.jsx(Sc,{title:"Professional Work Experience",sub:"💼 My Career Overview"}),l.jsx("div",{className:"mt-32 relative",children:l.jsx("div",{className:"relative z-50 xl:space-y-32 space-y-10 ",children:Na.map((e,t)=>l.jsxs("div",{id:e.title,className:"exp-card-wrapper",children:[l.jsx("div",{className:"xl:w-2/6",children:l.jsx(wc,{card:e,index:t,children:l.jsx("div",{children:l.jsx("img",{height:"54",width:"54",src:e.imgPath,alt:e.title})})})}),l.jsx("div",{className:"xl:w-4/6",children:l.jsxs("div",{className:"flex items-start",children:[l.jsxs("div",{className:"timeline-wrapper",children:[l.jsx("div",{className:"timeline"}),l.jsx("div",{className:"gradient-line w-1 h-full "})]}),l.jsxs("div",{className:"expText flex xl:gap-20 md:gap-10 gap-5 relative z-20",children:[l.jsx("div",{className:"timeline-logo",children:l.jsx("img",{src:e.logoPath,alt:"logo "})}),l.jsxs("div",{children:[l.jsx("h1",{className:"font-semibold text-3xl",children:e.title}),l.jsxs("p",{className:"my-5 text text-white-50",children:["📅 ",e.date]}),l.jsx("p",{className:"text-[#839cb5] italic",children:"Responsibilities"}),l.jsx("ul",{className:"list-disc ms-5 mt-5 flex flex-col gap-5 text-white-50",children:e.responsibilities.map(r=>l.jsx("li",{className:"text-lg",children:r},r))})]})]})]})})]}))})})]})})),Ec=()=>l.jsxs(l.Fragment,{children:[l.jsx(yc,{}),l.jsx(vc,{}),l.jsx(xc,{}),l.jsx(_c,{}),l.jsx(bc,{}),l.jsx(Tc,{})]});fa.createRoot(document.getElementById("root")).render(l.jsx(A.StrictMode,{children:l.jsx(Ec,{})}));
