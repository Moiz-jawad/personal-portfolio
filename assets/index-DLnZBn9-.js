import{j as p,g as hn,r as B,u as gs,a as ms,b as vs,c as sa,C as aa,O as oa,d as la,e as ua}from"./r3f-C_7zf_4V.js";import{g as Ne,U as Qt,c as ke,aw as ca,ax as fa,ay as ha,az as da,aA as vt,Z as Ci,aB as pa,C as Oi,_ as Rr,aC as ga,aD as Ft,aE as dn,L as xs,aF as ys,aG as _s,aH as Qi,aI as Ss,S as Rn,O as ma,ab as va,aJ as ai,a6 as oi,aK as Ht,as as xa,aL as er,aM as Y,a3 as bs,ao as Ts,j as Es,P as ws,aN as ya,aO as Pn,aP as Ms,a9 as _a,G as Cn,aQ as Sa,aR as ba,aS as Ta,aT as Ea,aU as Dn,aV as wa,N as Ma,aW as xr,a5 as Ra,aX as Pa}from"./three-BuuYK7xC.js";import{g as kt}from"./animations-DDlvirwQ.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();const Ca=[{name:"Work",link:"#work"},{name:"Experience",link:"#experience"},{name:"Skills",link:"#skills"},{name:"Testimonials",link:"#testimonials"}],Da=[{text:"Ideas",imgPath:"/images/ideas.svg"},{text:"Concepts",imgPath:"/images/concepts.svg"},{text:"Designs",imgPath:"/images/designs.svg"},{text:"Code",imgPath:"/images/code.svg"},{text:"Ideas",imgPath:"/images/ideas.svg"},{text:"Concepts",imgPath:"/images/concepts.svg"},{text:"Designs",imgPath:"/images/designs.svg"},{text:"Code",imgPath:"/images/code.svg"}],Bn=[{value:1,suffix:"+",label:"Years of Experience"},{value:20,suffix:"+",label:"Satisfied Clients"},{value:18,suffix:"+",label:"Completed Projects"},{value:80,suffix:"%",label:"Client Retention Rate"}],Ba=({className:e,id:t,text:r})=>p.jsx("a",{onClick:i=>{i.preventDefault();const n=document.getElementById("counter");if(n&&t){const s=window.innerHeight*.15,a=n.getBoundingClientRect().top+window.pageYOffset-s;window.scrollTo({top:a,behavior:"smooth"})}},className:`${e??""}  "cta-wrapper`,children:p.jsxs("div",{className:"cta-button group",children:[p.jsx("div",{className:"bg-circle"}),p.jsx("p",{className:"text",children:r}),p.jsx("div",{className:"arrow-wrapper",children:p.jsx("img",{src:"/images/arrow-down.svg",alt:"arrow"})})]})});var li={},An;function Aa(){if(An)return li;An=1,li.match=s,li.parse=a;var e=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,r=/^(?:(min|max)-)?(.+)/,i=/(em|rem|px|cm|mm|in|pt|pc)?$/,n=/(dpi|dpcm|dppx)?$/;function s(x,g){return a(x).some(function(m){var f=m.inverse,_=m.type==="all"||g.type===m.type;if(_&&f||!(_||f))return!1;var A=m.expressions.every(function(C){var P=C.feature,M=C.modifier,T=C.value,w=g[P];if(!w)return!1;switch(P){case"orientation":case"scan":return w.toLowerCase()===T.toLowerCase();case"width":case"height":case"device-width":case"device-height":T=l(T),w=l(w);break;case"resolution":T=c(T),w=c(w);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":T=o(T),w=o(w);break;case"grid":case"color":case"color-index":case"monochrome":T=parseInt(T,10)||1,w=parseInt(w,10)||0;break}switch(M){case"min":return w>=T;case"max":return w<=T;default:return w===T}});return A&&!f||!A&&f})}function a(x){return x.split(",").map(function(g){g=g.trim();var m=g.match(e),f=m[1],_=m[2],A=m[3]||"",C={};return C.inverse=!!f&&f.toLowerCase()==="not",C.type=_?_.toLowerCase():"all",A=A.match(/\([^\)]+\)/g)||[],C.expressions=A.map(function(P){var M=P.match(t),T=M[1].toLowerCase().match(r);return{modifier:T[1],feature:T[2],value:M[2]}}),C})}function o(x){var g=Number(x),m;return g||(m=x.match(/^(\d+)\s*\/\s*(\d+)$/),g=m[1]/m[2]),g}function c(x){var g=parseFloat(x),m=String(x).match(n)[1];switch(m){case"dpcm":return g/2.54;case"dppx":return g*96;default:return g}}function l(x){var g=parseFloat(x),m=String(x).match(i)[1];switch(m){case"em":return g*16;case"rem":return g*16;case"cm":return g*96/2.54;case"mm":return g*96/2.54/10;case"in":return g*96;case"pt":return g*72;case"pc":return g*72/12;default:return g}}return li}var ki,Un;function Ua(){if(Un)return ki;Un=1;var e=Aa().match,t=typeof window<"u"?window.matchMedia:null;function r(n,s,a){var o=this,c;t&&!a&&(c=t.call(window,n)),c?(this.matches=c.matches,this.media=c.media,c.addListener(g)):(this.matches=e(n,s),this.media=n),this.addListener=l,this.removeListener=x,this.dispose=m;function l(f){c&&c.addListener(f)}function x(f){c&&c.removeListener(f)}function g(f){o.matches=f.matches,o.media=f.media}function m(){c&&c.removeListener(g)}}function i(n,s,a){return new r(n,s,a)}return ki=i,ki}var Oa=Ua();const Ia=hn(Oa);var Na=/[A-Z]/g,ka=/^ms-/,zi={};function za(e){return"-"+e.toLowerCase()}function Rs(e){if(zi.hasOwnProperty(e))return zi[e];var t=e.replace(Na,za);return zi[e]=ka.test(t)?"-"+t:t}function Fa(e,t){if(e===t)return!0;if(!e||!t)return!1;const r=Object.keys(e),i=Object.keys(t),n=r.length;if(i.length!==n)return!1;for(let s=0;s<n;s++){const a=r[s];if(e[a]!==t[a]||!Object.prototype.hasOwnProperty.call(t,a))return!1}return!0}var Fi={exports:{}},Hi,On;function Ha(){if(On)return Hi;On=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Hi=e,Hi}var Li,In;function La(){if(In)return Li;In=1;var e=Ha();function t(){}function r(){}return r.resetWarningCache=t,Li=function(){function i(a,o,c,l,x,g){if(g!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}i.isRequired=i;function n(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:n,element:i,elementType:i,instanceOf:n,node:i,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:r,resetWarningCache:t};return s.PropTypes=s,s},Li}var Nn;function Ga(){return Nn||(Nn=1,Fi.exports=La()()),Fi.exports}var ja=Ga();const ee=hn(ja),Ze=ee.oneOfType([ee.string,ee.number]),Ps={all:ee.bool,grid:ee.bool,aural:ee.bool,braille:ee.bool,handheld:ee.bool,print:ee.bool,projection:ee.bool,screen:ee.bool,tty:ee.bool,tv:ee.bool,embossed:ee.bool},Va={orientation:ee.oneOf(["portrait","landscape"]),scan:ee.oneOf(["progressive","interlace"]),aspectRatio:ee.string,deviceAspectRatio:ee.string,height:Ze,deviceHeight:Ze,width:Ze,deviceWidth:Ze,color:ee.bool,colorIndex:ee.bool,monochrome:ee.bool,resolution:Ze,type:Object.keys(Ps)},{type:_u,...Wa}=Va,Ya={minAspectRatio:ee.string,maxAspectRatio:ee.string,minDeviceAspectRatio:ee.string,maxDeviceAspectRatio:ee.string,minHeight:Ze,maxHeight:Ze,minDeviceHeight:Ze,maxDeviceHeight:Ze,minWidth:Ze,maxWidth:Ze,minDeviceWidth:Ze,maxDeviceWidth:Ze,minColor:ee.number,maxColor:ee.number,minColorIndex:ee.number,maxColorIndex:ee.number,minMonochrome:ee.number,maxMonochrome:ee.number,minResolution:Ze,maxResolution:Ze,...Wa},Xa={...Ps,...Ya};var qa={all:Xa};const $a=e=>`not ${e}`,Ka=(e,t)=>{const r=Rs(e);return typeof t=="number"&&(t=`${t}px`),t===!0?r:t===!1?$a(r):`(${r}: ${t})`},Za=e=>e.join(" and "),Qa=e=>{const t=[];return Object.keys(qa.all).forEach(r=>{const i=e[r];i!=null&&t.push(Ka(r,i))}),Za(t)},Ja=B.createContext(void 0),eo=e=>e.query||Qa(e),kn=e=>e?Object.keys(e).reduce((r,i)=>(r[Rs(i)]=e[i],r),{}):void 0,Cs=()=>{const e=B.useRef(!1);return B.useEffect(()=>{e.current=!0},[]),e.current},to=e=>{const t=B.useContext(Ja),r=()=>kn(e)||kn(t),[i,n]=B.useState(r);return B.useEffect(()=>{const s=r();Fa(i,s)||n(s)},[e,t]),i},ro=e=>{const t=()=>eo(e),[r,i]=B.useState(t);return B.useEffect(()=>{const n=t();r!==n&&i(n)},[e]),r},io=(e,t)=>{const r=()=>Ia(e,t||{},!!t),[i,n]=B.useState(r),s=Cs();return B.useEffect(()=>{if(s){const a=r();return n(a),()=>{a&&a.dispose()}}},[e,t]),i},no=e=>{const[t,r]=B.useState(e.matches);return B.useEffect(()=>{const i=n=>{r(n.matches)};return e.addListener(i),r(e.matches),()=>{e.removeListener(i)}},[e]),t},zn=(e,t,r)=>{const i=to(t),n=ro(e);if(!n)throw new Error("Invalid or missing MediaQuery!");const s=io(n,i),a=no(s);return Cs(),B.useEffect(()=>{},[a]),B.useEffect(()=>()=>{s&&s.dispose()},[]),a};var Gi=1/1e3,so=1e3,ao=class{constructor(){this.startTime=performance.now(),this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(e){typeof document<"u"&&document.hidden!==void 0&&(e?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=e)}get delta(){return this._delta*Gi}get fixedDelta(){return this._fixedDelta*Gi}set fixedDelta(e){this._fixedDelta=e*so}get elapsed(){return this._elapsed*Gi}update(e){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=(e!==void 0?e:performance.now())-this.startTime,this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()-this.startTime}getDelta(){return this.delta}getElapsed(){return this.elapsed}handleEvent(e){document.hidden||(this.currentTime=performance.now()-this.startTime)}dispose(){this.autoReset=!1}},oo=(()=>{const e=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),t=new Float32Array([0,0,2,0,0,2]),r=new _a;return r.setAttribute("position",new Cn(e,3)),r.setAttribute("uv",new Cn(t,2)),r})(),qe=class Ji{static get fullscreenGeometry(){return oo}constructor(t="Pass",r=new Rn,i=new ma){this.name=t,this.renderer=null,this.scene=r,this.camera=i,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(t){if(this.rtt===t){const r=this.fullscreenMaterial;r!==null&&(r.needsUpdate=!0),this.rtt=!t}}set mainScene(t){}set mainCamera(t){}setRenderer(t){this.renderer=t}isEnabled(){return this.enabled}setEnabled(t){this.enabled=t}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(t){let r=this.screen;r!==null?r.material=t:(r=new va(Ji.fullscreenGeometry,t),r.frustumCulled=!1,this.scene===null&&(this.scene=new Rn),this.scene.add(r),this.screen=r)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(t){this.fullscreenMaterial=t}getDepthTexture(){return null}setDepthTexture(t,r=Ft){}render(t,r,i,n,s){throw new Error("Render method not implemented!")}setSize(t,r){}initialize(t,r,i){}dispose(){for(const t of Object.keys(this)){const r=this[t];(r instanceof vt||r instanceof bs||r instanceof Ts||r instanceof Ji)&&this[t].dispose()}this.fullscreenMaterial!==null&&this.fullscreenMaterial.dispose()}},lo=class extends qe{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(e,t,r,i,n){const s=e.state.buffers.stencil;s.setLocked(!1),s.setTest(!1)}},uo=`#ifdef COLOR_WRITE
#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#endif
#ifdef DEPTH_WRITE
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}
#endif
#ifdef USE_WEIGHTS
uniform vec4 channelWeights;
#endif
uniform float opacity;varying vec2 vUv;void main(){
#ifdef COLOR_WRITE
vec4 texel=texture2D(inputBuffer,vUv);
#ifdef USE_WEIGHTS
texel*=channelWeights;
#endif
gl_FragColor=opacity*texel;
#ifdef COLOR_SPACE_CONVERSION
#include <colorspace_fragment>
#endif
#include <dithering_fragment>
#else
gl_FragColor=vec4(0.0);
#endif
#ifdef DEPTH_WRITE
gl_FragDepth=readDepth(vUv);
#endif
}`,pn="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",Ds=class extends Ht{constructor(){super({name:"CopyMaterial",defines:{DEPTH_PACKING:"0",COLOR_WRITE:"1"},uniforms:{inputBuffer:new Y(null),depthBuffer:new Y(null),channelWeights:new Y(null),opacity:new Y(1)},blending:er,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:uo,vertexShader:pn}),this.depthFunc=Ms}get inputBuffer(){return this.uniforms.inputBuffer.value}set inputBuffer(e){const t=e!==null;this.colorWrite!==t&&(t?this.defines.COLOR_WRITE=!0:delete this.defines.COLOR_WRITE,this.colorWrite=t,this.needsUpdate=!0),this.uniforms.inputBuffer.value=e}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(e){const t=e!==null;this.depthWrite!==t&&(t?this.defines.DEPTH_WRITE=!0:delete this.defines.DEPTH_WRITE,this.depthTest=t,this.depthWrite=t,this.needsUpdate=!0),this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}get channelWeights(){return this.uniforms.channelWeights.value}set channelWeights(e){e!==null?(this.defines.USE_WEIGHTS="1",this.uniforms.channelWeights.value=e):delete this.defines.USE_WEIGHTS,this.needsUpdate=!0}setInputBuffer(e){this.uniforms.inputBuffer.value=e}getOpacity(e){return this.uniforms.opacity.value}setOpacity(e){this.uniforms.opacity.value=e}},co=class extends qe{constructor(e,t=!0){super("CopyPass"),this.fullscreenMaterial=new Ds,this.needsSwap=!1,this.renderTarget=e,e===void 0&&(this.renderTarget=new vt(1,1,{minFilter:Ci,magFilter:Ci,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=t}get resize(){return this.autoResize}set resize(e){this.autoResize=e}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(e){this.autoResize=e}render(e,t,r,i,n){this.fullscreenMaterial.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){this.autoResize&&this.renderTarget.setSize(e,t)}initialize(e,t,r){r!==void 0&&(this.renderTarget.texture.type=r,r!==Qt?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":e!==null&&e.outputColorSpace===ke&&(this.renderTarget.texture.colorSpace=ke))}},Fn=new Oi,gn=class extends qe{constructor(e=!0,t=!0,r=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=e,this.depth=t,this.stencil=r,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(e,t,r){this.color=e,this.depth=t,this.stencil=r}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(e){this.overrideClearColor=e}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(e){this.overrideClearAlpha=e}render(e,t,r,i,n){const s=this.overrideClearColor,a=this.overrideClearAlpha,o=e.getClearAlpha(),c=s!==null,l=a>=0;c?(e.getClearColor(Fn),e.setClearColor(s,l?a:o)):l&&e.setClearAlpha(a),e.setRenderTarget(this.renderToScreen?null:t),e.clear(this.color,this.depth,this.stencil),c?e.setClearColor(Fn,o):l&&e.setClearAlpha(o)}},fo=class extends qe{constructor(e,t){super("MaskPass",e,t),this.needsSwap=!1,this.clearPass=new gn(!1,!1,!0),this.inverse=!1}set mainScene(e){this.scene=e}set mainCamera(e){this.camera=e}get inverted(){return this.inverse}set inverted(e){this.inverse=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(e){this.inverted=e}render(e,t,r,i,n){const s=e.getContext(),a=e.state.buffers,o=this.scene,c=this.camera,l=this.clearPass,x=this.inverted?0:1,g=1-x;a.color.setMask(!1),a.depth.setMask(!1),a.color.setLocked(!0),a.depth.setLocked(!0),a.stencil.setTest(!0),a.stencil.setOp(s.REPLACE,s.REPLACE,s.REPLACE),a.stencil.setFunc(s.ALWAYS,x,4294967295),a.stencil.setClear(g),a.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?l.render(e,null):(l.render(e,t),l.render(e,r))),this.renderToScreen?(e.setRenderTarget(null),e.render(o,c)):(e.setRenderTarget(t),e.render(o,c),e.setRenderTarget(r),e.render(o,c)),a.color.setLocked(!1),a.depth.setLocked(!1),a.stencil.setLocked(!1),a.stencil.setFunc(s.EQUAL,1,4294967295),a.stencil.setOp(s.KEEP,s.KEEP,s.KEEP),a.stencil.setLocked(!0)}},ho=class{constructor(e=null,{depthBuffer:t=!0,stencilBuffer:r=!1,multisampling:i=0,frameBufferType:n}={}){this.renderer=null,this.inputBuffer=this.createBuffer(t,r,n,i),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new co,this.depthTexture=null,this.passes=[],this.timer=new ao,this.autoRenderToScreen=!0,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){const t=this.inputBuffer,r=this.multisampling;r>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):r!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(t.depthBuffer,t.stencilBuffer,t.texture.type,e),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){if(this.renderer=e,e!==null){const t=e.getSize(new Ne),r=e.getContext().getContextAttributes().alpha,i=this.inputBuffer.texture.type;i===Qt&&e.outputColorSpace===ke&&(this.inputBuffer.texture.colorSpace=ke,this.outputBuffer.texture.colorSpace=ke,this.inputBuffer.dispose(),this.outputBuffer.dispose()),e.autoClear=!1,this.setSize(t.width,t.height);for(const n of this.passes)n.initialize(e,r,i)}}replaceRenderer(e,t=!0){const r=this.renderer,i=r.domElement.parentNode;return this.setRenderer(e),t&&i!==null&&(i.removeChild(r.domElement),i.appendChild(e.domElement)),r}createDepthTexture(){const e=this.depthTexture=new ca;return this.inputBuffer.depthTexture=e,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(e.format=fa,e.type=ha):e.type=da,e}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const e of this.passes)e.setDepthTexture(null)}}createBuffer(e,t,r,i){const n=this.renderer,s=n===null?new Ne:n.getDrawingBufferSize(new Ne),a={minFilter:Ci,magFilter:Ci,stencilBuffer:t,depthBuffer:e,type:r},o=new vt(s.width,s.height,a);return i>0&&(o.samples=i),r===Qt&&n!==null&&n.outputColorSpace===ke&&(o.texture.colorSpace=ke),o.texture.name="EffectComposer.Buffer",o.texture.generateMipmaps=!1,o}setMainScene(e){for(const t of this.passes)t.mainScene=e}setMainCamera(e){for(const t of this.passes)t.mainCamera=e}addPass(e,t){const r=this.passes,i=this.renderer,n=i.getDrawingBufferSize(new Ne),s=i.getContext().getContextAttributes().alpha,a=this.inputBuffer.texture.type;if(e.setRenderer(i),e.setSize(n.width,n.height),e.initialize(i,s,a),this.autoRenderToScreen&&(r.length>0&&(r[r.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),t!==void 0?r.splice(t,0,e):r.push(e),this.autoRenderToScreen&&(r[r.length-1].renderToScreen=!0),e.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){const o=this.createDepthTexture();for(e of r)e.setDepthTexture(o)}else e.setDepthTexture(this.depthTexture)}removePass(e){const t=this.passes,r=t.indexOf(e);if(r!==-1&&t.splice(r,1).length>0){if(this.depthTexture!==null){const s=(o,c)=>o||c.needsDepthTexture;t.reduce(s,!1)||(e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&r===t.length&&(e.renderToScreen=!1,t.length>0&&(t[t.length-1].renderToScreen=!0))}}removeAllPasses(){const e=this.passes;this.deleteDepthTexture(),e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){const t=this.renderer,r=this.copyPass;let i=this.inputBuffer,n=this.outputBuffer,s=!1,a,o,c;e===void 0&&(this.timer.update(),e=this.timer.getDelta());for(const l of this.passes)l.enabled&&(l.render(t,i,n,e,s),l.needsSwap&&(s&&(r.renderToScreen=l.renderToScreen,a=t.getContext(),o=t.state.buffers.stencil,o.setFunc(a.NOTEQUAL,1,4294967295),r.render(t,i,n,e,s),o.setFunc(a.EQUAL,1,4294967295)),c=i,i=n,n=c),l instanceof fo?s=!0:l instanceof lo&&(s=!1))}setSize(e,t,r){const i=this.renderer,n=i.getSize(new Ne);(e===void 0||t===void 0)&&(e=n.width,t=n.height),(n.width!==e||n.height!==t)&&i.setSize(e,t,r);const s=i.getDrawingBufferSize(new Ne);this.inputBuffer.setSize(s.width,s.height),this.outputBuffer.setSize(s.width,s.height);for(const a of this.passes)a.setSize(s.width,s.height)}reset(){this.dispose(),this.autoRenderToScreen=!0}dispose(){for(const e of this.passes)e.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose(),qe.fullscreenGeometry.dispose()}},Kt={NONE:0,DEPTH:1,CONVOLUTION:2},Z={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},po=class{constructor(){this.shaderParts=new Map([[Z.FRAGMENT_HEAD,null],[Z.FRAGMENT_MAIN_UV,null],[Z.FRAGMENT_MAIN_IMAGE,null],[Z.VERTEX_HEAD,null],[Z.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=Kt.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=xs}},ji=!1,Hn=class{constructor(e=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(e),this.meshCount=0,this.replaceMaterial=t=>{if(t.isMesh){let r;if(t.material.flatShading)switch(t.material.side){case oi:r=this.materialsFlatShadedDoubleSide;break;case ai:r=this.materialsFlatShadedBackSide;break;default:r=this.materialsFlatShaded;break}else switch(t.material.side){case oi:r=this.materialsDoubleSide;break;case ai:r=this.materialsBackSide;break;default:r=this.materials;break}this.originalMaterials.set(t,t.material),t.isSkinnedMesh?t.material=r[2]:t.isInstancedMesh?t.material=r[1]:t.material=r[0],++this.meshCount}}}cloneMaterial(e){if(!(e instanceof Ht))return e.clone();const t=e.uniforms,r=new Map;for(const n in t){const s=t[n].value;s.isRenderTargetTexture&&(t[n].value=null,r.set(n,s))}const i=e.clone();for(const n of r)t[n[0]].value=n[1],i.uniforms[n[0]].value=n[1];return i}setMaterial(e){if(this.disposeMaterials(),this.material=e,e!==null){const t=this.materials=[this.cloneMaterial(e),this.cloneMaterial(e),this.cloneMaterial(e)];for(const r of t)r.uniforms=Object.assign({},e.uniforms),r.side=xa;t[2].skinning=!0,this.materialsBackSide=t.map(r=>{const i=this.cloneMaterial(r);return i.uniforms=Object.assign({},e.uniforms),i.side=ai,i}),this.materialsDoubleSide=t.map(r=>{const i=this.cloneMaterial(r);return i.uniforms=Object.assign({},e.uniforms),i.side=oi,i}),this.materialsFlatShaded=t.map(r=>{const i=this.cloneMaterial(r);return i.uniforms=Object.assign({},e.uniforms),i.flatShading=!0,i}),this.materialsFlatShadedBackSide=t.map(r=>{const i=this.cloneMaterial(r);return i.uniforms=Object.assign({},e.uniforms),i.flatShading=!0,i.side=ai,i}),this.materialsFlatShadedDoubleSide=t.map(r=>{const i=this.cloneMaterial(r);return i.uniforms=Object.assign({},e.uniforms),i.flatShading=!0,i.side=oi,i})}}render(e,t,r){const i=e.shadowMap.enabled;if(e.shadowMap.enabled=!1,ji){const n=this.originalMaterials;this.meshCount=0,t.traverse(this.replaceMaterial),e.render(t,r);for(const s of n)s[0].material=s[1];this.meshCount!==n.size&&n.clear()}else{const n=t.overrideMaterial;t.overrideMaterial=this.material,e.render(t,r),t.overrideMaterial=n}e.shadowMap.enabled=i}disposeMaterials(){if(this.material!==null){const e=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const t of e)t.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return ji}static set workaroundEnabled(e){ji=e}},Yt=-1,De=class extends dn{constructor(e,t=Yt,r=Yt,i=1){super(),this.resizable=e,this.baseSize=new Ne(1,1),this.preferredSize=new Ne(t,r),this.target=this.preferredSize,this.s=i,this.effectiveSize=new Ne,this.addEventListener("change",()=>this.updateEffectiveSize()),this.updateEffectiveSize()}updateEffectiveSize(){const e=this.baseSize,t=this.preferredSize,r=this.effectiveSize,i=this.scale;t.width!==Yt?r.width=t.width:t.height!==Yt?r.width=Math.round(t.height*(e.width/Math.max(e.height,1))):r.width=Math.round(e.width*i),t.height!==Yt?r.height=t.height:t.width!==Yt?r.height=Math.round(t.width/Math.max(e.width/Math.max(e.height,1),1)):r.height=Math.round(e.height*i)}get width(){return this.effectiveSize.width}set width(e){this.preferredWidth=e}get height(){return this.effectiveSize.height}set height(e){this.preferredHeight=e}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(e){this.s!==e&&(this.s=e,this.preferredSize.setScalar(Yt),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(e){this.scale=e}get baseWidth(){return this.baseSize.width}set baseWidth(e){this.baseSize.width!==e&&(this.baseSize.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(e){this.baseWidth=e}get baseHeight(){return this.baseSize.height}set baseHeight(e){this.baseSize.height!==e&&(this.baseSize.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(e){this.baseHeight=e}setBaseSize(e,t){(this.baseSize.width!==e||this.baseSize.height!==t)&&(this.baseSize.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(e){this.preferredSize.width!==e&&(this.preferredSize.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(e){this.preferredWidth=e}get preferredHeight(){return this.preferredSize.height}set preferredHeight(e){this.preferredSize.height!==e&&(this.preferredSize.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(e){this.preferredHeight=e}setPreferredSize(e,t){(this.preferredSize.width!==e||this.preferredSize.height!==t)&&(this.preferredSize.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(e){this.s=e.scale,this.baseSize.set(e.baseWidth,e.baseHeight),this.preferredSize.set(e.preferredWidth,e.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return Yt}},go=class{constructor(e=0){this.nextId=e}getNextId(){return this.nextId++}reset(e=0){return this.nextId=e,this}},Vi=new go(2),mo=class extends Set{constructor(e,t=Vi.getNextId()){super(),this.exclusive=!1,this._layer=t,(this._layer<1||this._layer>31)&&(console.warn("Layer out of range, resetting to 2"),Vi.reset(2),this._layer=Vi.getNextId()),e!==void 0&&this.set(e)}get layer(){return this._layer}set layer(e){const t=this._layer;for(const r of this)r.layers.disable(t),r.layers.enable(e);this._layer=e}getLayer(){return this.layer}setLayer(e){this.layer=e}isExclusive(){return this.exclusive}setExclusive(e){this.exclusive=e}clear(){const e=this.layer;for(const t of this)t.layers.disable(e);return super.clear()}set(e){this.clear();for(const t of e)this.add(t);return this}indexOf(e){return this.has(e)?0:-1}add(e){return this.exclusive?e.layers.set(this.layer):e.layers.enable(this.layer),super.add(e)}delete(e){return this.has(e)&&e.layers.disable(this.layer),super.delete(e)}toggle(e){let t;return this.has(e)?(this.delete(e),t=!1):(this.add(e),t=!0),t}setVisible(e){for(const t of this)e?t.layers.enable(0):t.layers.disable(0);return this}},W={ADD:0,AVERAGE:2,COLOR:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,DIVIDE:8,DST:9,EXCLUSION:10,HARD_LIGHT:11,HARD_MIX:12,HUE:13,INVERT:14,INVERT_RGB:15,LIGHTEN:16,LINEAR_BURN:17,LINEAR_DODGE:18,LINEAR_LIGHT:19,LUMINOSITY:20,MULTIPLY:21,NEGATION:22,NORMAL:23,OVERLAY:24,PIN_LIGHT:25,REFLECT:26,SATURATION:27,SCREEN:28,SOFT_LIGHT:29,SRC:30,SUBTRACT:31,VIVID_LIGHT:32},vo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(x.rgb+y.rgb,y.a),y.a*opacity);}",xo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4((x.rgb+y.rgb)*0.5,y.a),y.a*opacity);}",yo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.xy,xHSL.z));return mix(x,vec4(z,y.a),y.a*opacity);}",_o="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 a=x.rgb,b=y.rgb;vec3 z=mix(step(0.0,b)*(1.0-min(vec3(1.0),(1.0-a)/b)),vec3(1.0),step(1.0,a));return mix(x,vec4(z,y.a),y.a*opacity);}",So="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 a=x.rgb,b=y.rgb;vec3 z=step(0.0,a)*mix(min(vec3(1.0),a/max(1.0-b,1e-9)),vec3(1.0),step(1.0,b));return mix(x,vec4(z,y.a),y.a*opacity);}",bo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(min(x.rgb,y.rgb),y.a),y.a*opacity);}",To="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(abs(x.rgb-y.rgb),y.a),y.a*opacity);}",Eo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(x.rgb/max(y.rgb,1e-12),y.a),y.a*opacity);}",wo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4((x.rgb+y.rgb-2.0*x.rgb*y.rgb),y.a),y.a*opacity);}",Mo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 a=min(x.rgb,1.0);vec3 b=min(y.rgb,1.0);vec3 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,b));return mix(x,vec4(z,y.a),y.a*opacity);}",Ro="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(step(1.0,x.rgb+y.rgb),y.a),y.a*opacity);}",Po="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.x,xHSL.yz));return mix(x,vec4(z,y.a),y.a*opacity);}",Co="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(1.0-y.rgb,y.a),y.a*opacity);}",Do="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(y.rgb*(1.0-x.rgb),y.a),y.a*opacity);}",Bo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(max(x.rgb,y.rgb),y.a),y.a*opacity);}",Ao="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(clamp(y.rgb+x.rgb-1.0,0.0,1.0),y.a),y.a*opacity);}",Uo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(min(x.rgb+y.rgb,1.0),y.a),y.a*opacity);}",Oo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(clamp(2.0*y.rgb+x.rgb-1.0,0.0,1.0),y.a),y.a*opacity);}",Io="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.xy,yHSL.z));return mix(x,vec4(z,y.a),y.a*opacity);}",No="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(x.rgb*y.rgb,y.a),y.a*opacity);}",ko="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(1.0-abs(1.0-x.rgb-y.rgb),y.a),y.a*opacity);}",zo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,y.a*opacity);}",Fo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 z=mix(2.0*y.rgb*x.rgb,1.0-2.0*(1.0-y.rgb)*(1.0-x.rgb),step(0.5,x.rgb));return mix(x,vec4(z,y.a),y.a*opacity);}",Ho="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 y2=2.0*y.rgb;vec3 z=mix(mix(y2,x.rgb,step(0.5*x.rgb,y.rgb)),max(y2-1.0,vec3(0.0)),step(x.rgb,y2-1.0));return mix(x,vec4(z,y.a),y.a*opacity);}",Lo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 z=mix(min(x.rgb*x.rgb/max(1.0-y.rgb,1e-12),1.0),y.rgb,step(1.0,y.rgb));return mix(x,vec4(z,y.a),y.a*opacity);}",Go="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.x,yHSL.y,xHSL.z));return mix(x,vec4(z,y.a),y.a*opacity);}",jo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(x.rgb+y.rgb-min(x.rgb*y.rgb,1.0),y.a),y.a*opacity);}",Vo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 a=x.rgb;vec3 b=y.rgb;vec3 y2=2.0*b;vec3 w=step(0.5,b);vec3 c=a-(1.0-y2)*a*(1.0-a);vec3 d=mix(a+(y2-1.0)*(sqrt(a)-a),a+(y2-1.0)*a*((16.0*a-12.0)*a+3.0),w*(1.0-step(0.25,a)));vec3 z=mix(c,d,w);return mix(x,vec4(z,y.a),y.a*opacity);}",Wo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}",Yo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,vec4(max(x.rgb+y.rgb-1.0,0.0),y.a),y.a*opacity);}",Xo="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 z=mix(max(1.0-min((1.0-x.rgb)/(2.0*y.rgb),1.0),0.0),min(x.rgb/(2.0*(1.0-y.rgb)),1.0),step(0.5,y.rgb));return mix(x,vec4(z,y.a),y.a*opacity);}",qo=new Map([[W.ADD,vo],[W.AVERAGE,xo],[W.COLOR,yo],[W.COLOR_BURN,_o],[W.COLOR_DODGE,So],[W.DARKEN,bo],[W.DIFFERENCE,To],[W.DIVIDE,Eo],[W.DST,null],[W.EXCLUSION,wo],[W.HARD_LIGHT,Mo],[W.HARD_MIX,Ro],[W.HUE,Po],[W.INVERT,Co],[W.INVERT_RGB,Do],[W.LIGHTEN,Bo],[W.LINEAR_BURN,Ao],[W.LINEAR_DODGE,Uo],[W.LINEAR_LIGHT,Oo],[W.LUMINOSITY,Io],[W.MULTIPLY,No],[W.NEGATION,ko],[W.NORMAL,zo],[W.OVERLAY,Fo],[W.PIN_LIGHT,Ho],[W.REFLECT,Lo],[W.SATURATION,Go],[W.SCREEN,jo],[W.SOFT_LIGHT,Vo],[W.SRC,Wo],[W.SUBTRACT,Yo],[W.VIVID_LIGHT,Xo]]),$o=class extends dn{constructor(e,t=1){super(),this._blendFunction=e,this.opacity=new Y(t)}getOpacity(){return this.opacity.value}setOpacity(e){this.opacity.value=e}get blendFunction(){return this._blendFunction}set blendFunction(e){this._blendFunction=e,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(e){this.blendFunction=e}getShaderCode(){return qo.get(this.blendFunction)}},en=class extends dn{constructor(e,t,{attributes:r=Kt.NONE,blendFunction:i=W.NORMAL,defines:n=new Map,uniforms:s=new Map,extensions:a=null,vertexShader:o=null}={}){super(),this.name=e,this.renderer=null,this.attributes=r,this.fragmentShader=t,this.vertexShader=o,this.defines=n,this.uniforms=s,this.extensions=a,this.blendMode=new $o(i),this.blendMode.addEventListener("change",c=>this.setChanged()),this._inputColorSpace=xs,this._outputColorSpace=ys}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(e){this._inputColorSpace=e,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e,this.setChanged()}set mainScene(e){}set mainCamera(e){}getName(){return this.name}setRenderer(e){this.renderer=e}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(e){this.attributes=e,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(e){this.fragmentShader=e,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(e){this.vertexShader=e,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(e,t=Ft){}update(e,t,r){}setSize(e,t){}initialize(e,t,r){}dispose(){for(const e of Object.keys(this)){const t=this[e];(t instanceof vt||t instanceof bs||t instanceof Ts||t instanceof qe)&&this[e].dispose()}}},mn={MEDIUM:2,LARGE:3},Ko=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <colorspace_fragment>
}`,Zo="uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",Qo=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],Jo=class extends Ht{constructor(e=new Dn){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new Y(null),texelSize:new Y(new Dn),scale:new Y(1),kernel:new Y(0)},blending:er,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Ko,vertexShader:Zo}),this.setTexelSize(e.x,e.y),this.kernelSize=mn.MEDIUM}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.inputBuffer=e}get kernelSequence(){return Qo[this.kernelSize]}get scale(){return this.uniforms.scale.value}set scale(e){this.uniforms.scale.value=e}getScale(){return this.uniforms.scale.value}setScale(e){this.uniforms.scale.value=e}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(e){this.uniforms.kernel.value=e}setKernel(e){this.kernel=e}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t,e*.5,t*.5)}setSize(e,t){const r=1/e,i=1/t;this.uniforms.texelSize.value.set(r,i,r*.5,i*.5)}},el=class extends qe{constructor({kernelSize:e=mn.MEDIUM,resolutionScale:t=.5,width:r=De.AUTO_SIZE,height:i=De.AUTO_SIZE,resolutionX:n=r,resolutionY:s=i}={}){super("KawaseBlurPass"),this.renderTargetA=new vt(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";const a=this.resolution=new De(this,n,s,t);a.addEventListener("change",o=>this.setSize(a.baseWidth,a.baseHeight)),this._blurMaterial=new Jo,this._blurMaterial.kernelSize=e,this.copyMaterial=new Ds}getResolution(){return this.resolution}get blurMaterial(){return this._blurMaterial}set blurMaterial(e){this._blurMaterial=e}get dithering(){return this.copyMaterial.dithering}set dithering(e){this.copyMaterial.dithering=e}get kernelSize(){return this.blurMaterial.kernelSize}set kernelSize(e){this.blurMaterial.kernelSize=e}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get scale(){return this.blurMaterial.scale}set scale(e){this.blurMaterial.scale=e}getScale(){return this.blurMaterial.scale}setScale(e){this.blurMaterial.scale=e}getKernelSize(){return this.kernelSize}setKernelSize(e){this.kernelSize=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,r,i,n){const s=this.scene,a=this.camera,o=this.renderTargetA,c=this.renderTargetB,l=this.blurMaterial,x=l.kernelSequence;let g=t;this.fullscreenMaterial=l;for(let m=0,f=x.length;m<f;++m){const _=(m&1)===0?o:c;l.kernel=x[m],l.inputBuffer=g.texture,e.setRenderTarget(_),e.render(s,a),g=_}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=g.texture,e.setRenderTarget(this.renderToScreen?null:r),e.render(s,a)}setSize(e,t){const r=this.resolution;r.setBaseSize(e,t);const i=r.width,n=r.height;this.renderTargetA.setSize(i,n),this.renderTargetB.setSize(i,n),this.blurMaterial.setSize(e,t)}initialize(e,t,r){r!==void 0&&(this.renderTargetA.texture.type=r,this.renderTargetB.texture.type=r,r!==Qt?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):e!==null&&e.outputColorSpace===ke&&(this.renderTargetA.texture.colorSpace=ke,this.renderTargetB.texture.colorSpace=ke))}static get AUTO_SIZE(){return De.AUTO_SIZE}},tl=`#include <common>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef RANGE
uniform vec2 range;
#elif defined(THRESHOLD)
uniform float threshold;uniform float smoothing;
#endif
varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);float mask=1.0;
#ifdef RANGE
float low=step(range.x,l);float high=step(l,range.y);mask=low*high;
#elif defined(THRESHOLD)
mask=smoothstep(threshold,threshold+smoothing,l);
#endif
#ifdef COLOR
gl_FragColor=texel*mask;
#else
gl_FragColor=vec4(l*mask);
#endif
}`,rl=class extends Ht{constructor(e=!1,t=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:Es.replace(/\D+/g,"")},uniforms:{inputBuffer:new Y(null),threshold:new Y(0),smoothing:new Y(1),range:new Y(null)},blending:er,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:tl,vertexShader:pn}),this.colorOutput=e,this.luminanceRange=t}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get threshold(){return this.uniforms.threshold.value}set threshold(e){this.smoothing>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=e}getThreshold(){return this.threshold}setThreshold(e){this.threshold=e}get smoothing(){return this.uniforms.smoothing.value}set smoothing(e){this.threshold>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=e}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(e){this.smoothing=e}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(e){}get colorOutput(){return this.defines.COLOR!==void 0}set colorOutput(e){e?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(e){return this.colorOutput}setColorOutputEnabled(e){this.colorOutput=e}get useRange(){return this.luminanceRange!==null}set useRange(e){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(e){e!==null?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=e,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(e){this.luminanceRange=e}},il=class extends qe{constructor({renderTarget:e,luminanceRange:t,colorOutput:r,resolutionScale:i=1,width:n=De.AUTO_SIZE,height:s=De.AUTO_SIZE,resolutionX:a=n,resolutionY:o=s}={}){super("LuminancePass"),this.fullscreenMaterial=new rl(r,t),this.needsSwap=!1,this.renderTarget=e,this.renderTarget===void 0&&(this.renderTarget=new vt(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target");const c=this.resolution=new De(this,a,o,i);c.addEventListener("change",l=>this.setSize(c.baseWidth,c.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(e,t,r,i,n){const s=this.fullscreenMaterial;s.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){const r=this.resolution;r.setBaseSize(e,t),this.renderTarget.setSize(r.width,r.height)}initialize(e,t,r){r!==void 0&&r!==Qt&&(this.renderTarget.texture.type=r,this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},nl=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#define WEIGHT_INNER 0.125
#define WEIGHT_OUTER 0.0555555
varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;float clampToBorder(const in vec2 uv){return float(uv.s>=0.0&&uv.s<=1.0&&uv.t>=0.0&&uv.t<=1.0);}void main(){vec4 c=vec4(0.0);vec4 w=WEIGHT_INNER*vec4(clampToBorder(vUv00),clampToBorder(vUv01),clampToBorder(vUv02),clampToBorder(vUv03));c+=w.x*texture2D(inputBuffer,vUv00);c+=w.y*texture2D(inputBuffer,vUv01);c+=w.z*texture2D(inputBuffer,vUv02);c+=w.w*texture2D(inputBuffer,vUv03);w=WEIGHT_OUTER*vec4(clampToBorder(vUv04),clampToBorder(vUv05),clampToBorder(vUv06),clampToBorder(vUv07));c+=w.x*texture2D(inputBuffer,vUv04);c+=w.y*texture2D(inputBuffer,vUv05);c+=w.z*texture2D(inputBuffer,vUv06);c+=w.w*texture2D(inputBuffer,vUv07);w=WEIGHT_OUTER*vec4(clampToBorder(vUv08),clampToBorder(vUv09),clampToBorder(vUv10),clampToBorder(vUv11));c+=w.x*texture2D(inputBuffer,vUv08);c+=w.y*texture2D(inputBuffer,vUv09);c+=w.z*texture2D(inputBuffer,vUv10);c+=w.w*texture2D(inputBuffer,vUv11);c+=WEIGHT_OUTER*texture2D(inputBuffer,vUv);gl_FragColor=c;
#include <colorspace_fragment>
}`,sl="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;void main(){vUv=position.xy*0.5+0.5;vUv00=vUv+texelSize*vec2(-1.0,1.0);vUv01=vUv+texelSize*vec2(1.0,1.0);vUv02=vUv+texelSize*vec2(-1.0,-1.0);vUv03=vUv+texelSize*vec2(1.0,-1.0);vUv04=vUv+texelSize*vec2(-2.0,2.0);vUv05=vUv+texelSize*vec2(0.0,2.0);vUv06=vUv+texelSize*vec2(2.0,2.0);vUv07=vUv+texelSize*vec2(-2.0,0.0);vUv08=vUv+texelSize*vec2(2.0,0.0);vUv09=vUv+texelSize*vec2(-2.0,-2.0);vUv10=vUv+texelSize*vec2(0.0,-2.0);vUv11=vUv+texelSize*vec2(2.0,-2.0);gl_Position=vec4(position.xy,1.0,1.0);}",al=class extends Ht{constructor(){super({name:"DownsamplingMaterial",uniforms:{inputBuffer:new Y(null),texelSize:new Y(new Ne)},blending:er,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:nl,vertexShader:sl})}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}},ol=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;uniform mediump sampler2D supportBuffer;
#else
uniform lowp sampler2D inputBuffer;uniform lowp sampler2D supportBuffer;
#endif
uniform float radius;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vec4 c=vec4(0.0);c+=texture2D(inputBuffer,vUv0)*0.0625;c+=texture2D(inputBuffer,vUv1)*0.125;c+=texture2D(inputBuffer,vUv2)*0.0625;c+=texture2D(inputBuffer,vUv3)*0.125;c+=texture2D(inputBuffer,vUv)*0.25;c+=texture2D(inputBuffer,vUv4)*0.125;c+=texture2D(inputBuffer,vUv5)*0.0625;c+=texture2D(inputBuffer,vUv6)*0.125;c+=texture2D(inputBuffer,vUv7)*0.0625;vec4 baseColor=texture2D(supportBuffer,vUv);gl_FragColor=mix(baseColor,c,radius);
#include <colorspace_fragment>
}`,ll="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,1.0);vUv1=vUv+texelSize*vec2(0.0,1.0);vUv2=vUv+texelSize*vec2(1.0,1.0);vUv3=vUv+texelSize*vec2(-1.0,0.0);vUv4=vUv+texelSize*vec2(1.0,0.0);vUv5=vUv+texelSize*vec2(-1.0,-1.0);vUv6=vUv+texelSize*vec2(0.0,-1.0);vUv7=vUv+texelSize*vec2(1.0,-1.0);gl_Position=vec4(position.xy,1.0,1.0);}",ul=class extends Ht{constructor(){super({name:"UpsamplingMaterial",uniforms:{inputBuffer:new Y(null),supportBuffer:new Y(null),texelSize:new Y(new Ne),radius:new Y(.85)},blending:er,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:ol,vertexShader:ll})}set inputBuffer(e){this.uniforms.inputBuffer.value=e}set supportBuffer(e){this.uniforms.supportBuffer.value=e}get radius(){return this.uniforms.radius.value}set radius(e){this.uniforms.radius.value=e}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}},cl=class extends qe{constructor(){super("MipmapBlurPass"),this.needsSwap=!1,this.renderTarget=new vt(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Upsampling.Mipmap0",this.downsamplingMipmaps=[],this.upsamplingMipmaps=[],this.downsamplingMaterial=new al,this.upsamplingMaterial=new ul,this.resolution=new Ne}get texture(){return this.renderTarget.texture}get levels(){return this.downsamplingMipmaps.length}set levels(e){if(this.levels!==e){const t=this.renderTarget;this.dispose(),this.downsamplingMipmaps=[],this.upsamplingMipmaps=[];for(let r=0;r<e;++r){const i=t.clone();i.texture.name="Downsampling.Mipmap"+r,this.downsamplingMipmaps.push(i)}this.upsamplingMipmaps.push(t);for(let r=1,i=e-1;r<i;++r){const n=t.clone();n.texture.name="Upsampling.Mipmap"+r,this.upsamplingMipmaps.push(n)}this.setSize(this.resolution.x,this.resolution.y)}}get radius(){return this.upsamplingMaterial.radius}set radius(e){this.upsamplingMaterial.radius=e}render(e,t,r,i,n){const{scene:s,camera:a}=this,{downsamplingMaterial:o,upsamplingMaterial:c}=this,{downsamplingMipmaps:l,upsamplingMipmaps:x}=this;let g=t;this.fullscreenMaterial=o;for(let m=0,f=l.length;m<f;++m){const _=l[m];o.setSize(g.width,g.height),o.inputBuffer=g.texture,e.setRenderTarget(_),e.render(s,a),g=_}this.fullscreenMaterial=c;for(let m=x.length-1;m>=0;--m){const f=x[m];c.setSize(g.width,g.height),c.inputBuffer=g.texture,c.supportBuffer=l[m].texture,e.setRenderTarget(f),e.render(s,a),g=f}}setSize(e,t){const r=this.resolution;r.set(e,t);let i=r.width,n=r.height;for(let s=0,a=this.downsamplingMipmaps.length;s<a;++s)i=Math.round(i*.5),n=Math.round(n*.5),this.downsamplingMipmaps[s].setSize(i,n),s<this.upsamplingMipmaps.length&&this.upsamplingMipmaps[s].setSize(i,n)}initialize(e,t,r){if(r!==void 0){const i=this.downsamplingMipmaps.concat(this.upsamplingMipmaps);for(const n of i)n.texture.type=r;if(r!==Qt)this.downsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.upsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1";else if(e!==null&&e.outputColorSpace===ke)for(const n of i)n.texture.colorSpace=ke}}dispose(){super.dispose();for(const e of this.downsamplingMipmaps.concat(this.upsamplingMipmaps))e.dispose()}},fl=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 texel=texture2D(map,uv);outputColor=vec4(texel.rgb*intensity,max(inputColor.a,texel.a));}`,hl=class extends en{constructor({blendFunction:e=W.SCREEN,luminanceThreshold:t=1,luminanceSmoothing:r=.03,mipmapBlur:i=!0,intensity:n=1,radius:s=.85,levels:a=8,kernelSize:o=mn.LARGE,resolutionScale:c=.5,width:l=De.AUTO_SIZE,height:x=De.AUTO_SIZE,resolutionX:g=l,resolutionY:m=x}={}){super("BloomEffect",fl,{blendFunction:e,uniforms:new Map([["map",new Y(null)],["intensity",new Y(n)]])}),this.renderTarget=new vt(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.blurPass=new el({kernelSize:o}),this.luminancePass=new il({colorOutput:!0}),this.luminanceMaterial.threshold=t,this.luminanceMaterial.smoothing=r,this.mipmapBlurPass=new cl,this.mipmapBlurPass.enabled=i,this.mipmapBlurPass.radius=s,this.mipmapBlurPass.levels=a,this.uniforms.get("map").value=i?this.mipmapBlurPass.texture:this.renderTarget.texture;const f=this.resolution=new De(this,g,m,c);f.addEventListener("change",_=>this.setSize(f.baseWidth,f.baseHeight))}get texture(){return this.mipmapBlurPass.enabled?this.mipmapBlurPass.texture:this.renderTarget.texture}getTexture(){return this.texture}getResolution(){return this.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get dithering(){return this.blurPass.dithering}set dithering(e){this.blurPass.dithering=e}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(e){this.blurPass.kernelSize=e}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(e){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(e){this.uniforms.get("intensity").value=e}getIntensity(){return this.intensity}setIntensity(e){this.intensity=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}update(e,t,r){const i=this.renderTarget,n=this.luminancePass;n.enabled?(n.render(e,t),this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(e,n.renderTarget):this.blurPass.render(e,n.renderTarget,i)):this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(e,t):this.blurPass.render(e,t,i)}setSize(e,t){const r=this.resolution;r.setBaseSize(e,t),this.renderTarget.setSize(r.width,r.height),this.blurPass.resolution.copy(r),this.luminancePass.setSize(e,t),this.mipmapBlurPass.setSize(e,t)}initialize(e,t,r){this.blurPass.initialize(e,t,r),this.luminancePass.initialize(e,t,r),this.mipmapBlurPass.initialize(e,t,r),r!==void 0&&(this.renderTarget.texture.type=r,e!==null&&e.outputColorSpace===ke&&(this.renderTarget.texture.colorSpace=ke))}},dl=class extends qe{constructor(e,t="inputBuffer"){super("ShaderPass"),this.fullscreenMaterial=e,this.input=t}setInput(e){this.input=e}render(e,t,r,i,n){const s=this.fullscreenMaterial.uniforms;t!==null&&s!==void 0&&s[this.input]!==void 0&&(s[this.input].value=t.texture),e.setRenderTarget(this.renderToScreen?null:r),e.render(this.scene,this.camera)}initialize(e,t,r){r!==void 0&&r!==Qt&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},vn=class extends qe{constructor(e,t,r=null){super("RenderPass",e,t),this.needsSwap=!1,this.clearPass=new gn,this.overrideMaterialManager=r===null?null:new Hn(r),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(e){this.scene=e}set mainCamera(e){this.camera=e}get renderToScreen(){return super.renderToScreen}set renderToScreen(e){super.renderToScreen=e,this.clearPass.renderToScreen=e}get overrideMaterial(){const e=this.overrideMaterialManager;return e!==null?e.material:null}set overrideMaterial(e){const t=this.overrideMaterialManager;e!==null?t!==null?t.setMaterial(e):this.overrideMaterialManager=new Hn(e):t!==null&&(t.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(e){this.overrideMaterial=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getSelection(){return this.selection}setSelection(e){this.selection=e}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(e){this.ignoreBackground=e}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(e){this.skipShadowMapUpdate=e}getClearPass(){return this.clearPass}render(e,t,r,i,n){const s=this.scene,a=this.camera,o=this.selection,c=a.layers.mask,l=s.background,x=e.shadowMap.autoUpdate,g=this.renderToScreen?null:t;o!==null&&a.layers.set(o.getLayer()),this.skipShadowMapUpdate&&(e.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(s.background=null),this.clearPass.enabled&&this.clearPass.render(e,t),e.setRenderTarget(g),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(e,s,a):e.render(s,a),a.layers.mask=c,s.background=l,e.shadowMap.autoUpdate=x}},Gr={KEEP_MAX_DEPTH:1,DISCARD_MAX_DEPTH:2},pl=class extends qe{constructor(e,t,{renderTarget:r,resolutionScale:i=1,width:n=De.AUTO_SIZE,height:s=De.AUTO_SIZE,resolutionX:a=n,resolutionY:o=s}={}){super("DepthPass"),this.needsSwap=!1,this.renderPass=new vn(e,t,new ya({depthPacking:_s}));const c=this.renderPass;c.skipShadowMapUpdate=!0,c.ignoreBackground=!0,this.renderTarget=r,this.renderTarget===void 0&&(this.renderTarget=new vt(1,1,{minFilter:Rr,magFilter:Rr}),this.renderTarget.texture.name="DepthPass.Target");const l=this.resolution=new De(this,a,o,i);l.addEventListener("change",x=>this.setSize(l.baseWidth,l.baseHeight))}set mainScene(e){this.renderPass.mainScene=e}set mainCamera(e){this.renderPass.mainCamera=e}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,r,i,n){const s=this.renderToScreen?null:this.renderTarget;this.renderPass.render(e,s)}setSize(e,t){const r=this.resolution;r.setBaseSize(e,t),this.renderTarget.setSize(r.width,r.height)}initialize(e,t,r){const i=e.capabilities.reversedDepthBuffer?0:16777215,n=this.renderPass.clearPass;n.overrideClearColor=new Oi(i),n.overrideClearAlpha=1}},gl=`#include <common>
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer0;uniform highp sampler2D depthBuffer1;
#else
uniform mediump sampler2D depthBuffer0;uniform mediump sampler2D depthBuffer1;
#endif
uniform sampler2D inputBuffer;uniform vec2 cameraNearFar;float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#else
return orthographicDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#endif
}varying vec2 vUv;void main(){vec2 depth;
#if DEPTH_PACKING_0 == 3201
depth.x=unpackRGBAToDepth(texture2D(depthBuffer0,vUv));
#else
depth.x=texture2D(depthBuffer0,vUv).r;
#endif
#if DEPTH_PACKING_1 == 3201
depth.y=unpackRGBAToDepth(texture2D(depthBuffer1,vUv));
#else
depth.y=texture2D(depthBuffer1,vUv).r;
#endif
#if defined(USE_LOGARITHMIC_DEPTH_BUFFER) || defined(LOG_DEPTH)
float a=cameraNearFar.y/(cameraNearFar.y-cameraNearFar.x);float b=cameraNearFar.y*cameraNearFar.x/(cameraNearFar.x-cameraNearFar.y);float c=log2(cameraNearFar.y+1.0);float d=pow(2.0,depth.x*c)-1.0;depth.x=a+b/d;d=pow(2.0,depth.y*c)-1.0;depth.y=a+b/d;
#elif defined(USE_REVERSED_DEPTH_BUFFER)
depth.x=1.0-depth.x;depth.y=1.0-depth.y;
#endif
bool isMaxDepth=(depth.x==1.0);
#ifdef PERSPECTIVE_CAMERA
depth.x=viewZToOrthographicDepth(getViewZ(depth.x),cameraNearFar.x,cameraNearFar.y);depth.y=viewZToOrthographicDepth(getViewZ(depth.y),cameraNearFar.x,cameraNearFar.y);
#endif
#if DEPTH_TEST_STRATEGY == 0
bool keep=depthTest(depth.x,depth.y);
#elif DEPTH_TEST_STRATEGY == 1
bool keep=isMaxDepth||depthTest(depth.x,depth.y);
#else
bool keep=!isMaxDepth&&depthTest(depth.x,depth.y);
#endif
if(keep){gl_FragColor=texture2D(inputBuffer,vUv);}else{discard;}}`,ml=class extends Ht{constructor(){super({name:"DepthMaskMaterial",defines:{DEPTH_EPSILON:"0.0001",DEPTH_PACKING_0:"0",DEPTH_PACKING_1:"0",DEPTH_TEST_STRATEGY:Gr.KEEP_MAX_DEPTH},uniforms:{inputBuffer:new Y(null),depthBuffer0:new Y(null),depthBuffer1:new Y(null),cameraNearFar:new Y(new Ne(1,1))},blending:er,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:gl,vertexShader:pn}),this.depthMode=Pn}set depthBuffer0(e){this.uniforms.depthBuffer0.value=e}set depthPacking0(e){this.defines.DEPTH_PACKING_0=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer0(e,t=Ft){this.depthBuffer0=e,this.depthPacking0=t}set depthBuffer1(e){this.uniforms.depthBuffer1.value=e}set depthPacking1(e){this.defines.DEPTH_PACKING_1=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer1(e,t=Ft){this.depthBuffer1=e,this.depthPacking1=t}get maxDepthStrategy(){return Number(this.defines.DEPTH_TEST_STRATEGY)}set maxDepthStrategy(e){this.defines.DEPTH_TEST_STRATEGY=e.toFixed(0),this.needsUpdate=!0}get keepFar(){return this.maxDepthStrategy}set keepFar(e){this.maxDepthStrategy=e?Gr.KEEP_MAX_DEPTH:Gr.DISCARD_MAX_DEPTH}getMaxDepthStrategy(){return this.maxDepthStrategy}setMaxDepthStrategy(e){this.maxDepthStrategy=e}get epsilon(){return Number(this.defines.DEPTH_EPSILON)}set epsilon(e){this.defines.DEPTH_EPSILON=e.toFixed(16),this.needsUpdate=!0}getEpsilon(){return this.epsilon}setEpsilon(e){this.epsilon=e}get depthMode(){return Number(this.defines.DEPTH_MODE)}set depthMode(e){let t;switch(e){case Ea:t="false";break;case Ms:t="true";break;case Qi:t="abs(d1 - d0) <= DEPTH_EPSILON";break;case Ss:t="abs(d1 - d0) > DEPTH_EPSILON";break;case Pn:t="d0 > d1";break;case Ta:t="d0 >= d1";break;case ba:t="d0 <= d1";break;case Sa:default:t="d0 < d1";break}this.defines.DEPTH_MODE=e.toFixed(0),this.defines["depthTest(d0, d1)"]=t,this.needsUpdate=!0}getDepthMode(){return this.depthMode}setDepthMode(e){this.depthMode=e}adoptCameraSettings(e){this.copyCameraSettings(e)}copyCameraSettings(e){e&&(this.uniforms.cameraNearFar.value.set(e.near,e.far),e instanceof ws?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},vl=class extends hl{constructor(e,t,r){super(r),this.setAttributes(this.getAttributes()|Kt.DEPTH),this.camera=t,this.depthPass=new pl(e,t),this.clearPass=new gn(!0,!1,!1),this.clearPass.overrideClearColor=new Oi(0),this.depthMaskPass=new dl(new ml);const i=this.depthMaskMaterial;i.copyCameraSettings(t),i.depthBuffer1=this.depthPass.texture,i.depthPacking1=_s,i.depthMode=Qi,this.renderTargetMasked=new vt(1,1,{depthBuffer:!1}),this.renderTargetMasked.texture.name="Bloom.Masked",this.selection=new mo,this._inverted=!1,this._ignoreBackground=!1}set mainScene(e){this.depthPass.mainScene=e}set mainCamera(e){this.camera=e,this.depthPass.mainCamera=e,this.depthMaskMaterial.copyCameraSettings(e)}getSelection(){return this.selection}get depthMaskMaterial(){return this.depthMaskPass.fullscreenMaterial}get inverted(){return this._inverted}set inverted(e){this._inverted=e,this.depthMaskMaterial.depthMode=e?Ss:Qi}isInverted(){return this.inverted}setInverted(e){this.inverted=e}get ignoreBackground(){return this._ignoreBackground}set ignoreBackground(e){this._ignoreBackground=e,this.depthMaskMaterial.maxDepthStrategy=e?Gr.DISCARD_MAX_DEPTH:Gr.KEEP_MAX_DEPTH}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(e){this.ignoreBackground=e}setDepthTexture(e,t=Ft){this.depthMaskMaterial.depthBuffer0=e,this.depthMaskMaterial.depthPacking0=t}update(e,t,r){const i=this.camera,n=this.selection,s=this.inverted;let a=t;if(this.ignoreBackground||!s||n.size>0){const o=i.layers.mask;i.layers.set(n.layer),this.depthPass.render(e),i.layers.mask=o,a=this.renderTargetMasked,this.clearPass.render(e,a),this.depthMaskPass.render(e,t,a)}super.update(e,a,r)}setSize(e,t){super.setSize(e,t),this.renderTargetMasked.setSize(e,t),this.depthPass.setSize(e,t)}initialize(e,t,r){super.initialize(e,t,r),this.clearPass.initialize(e,t,r),this.depthPass.initialize(e,t,r),this.depthMaskPass.initialize(e,t,r),e!==null&&e.capabilities.logarithmicDepthBuffer&&(this.depthMaskPass.fullscreenMaterial.defines.LOG_DEPTH="1"),r!==void 0&&(this.renderTargetMasked.texture.type=r,e!==null&&e.outputColorSpace===ke&&(this.renderTargetMasked.texture.colorSpace=ke))}},xl=`#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
#ifdef DOWNSAMPLE_NORMALS
uniform lowp sampler2D normalBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}int findBestDepth(const in float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])*0.25;float distances[4];distances[0]=abs(c-samples[0]);distances[1]=abs(c-samples[1]);distances[2]=abs(c-samples[2]);distances[3]=abs(c-samples[3]);float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){float d[4];d[0]=readDepth(vUv0);d[1]=readDepth(vUv1);d[2]=readDepth(vUv2);d[3]=readDepth(vUv3);int index=findBestDepth(d);
#ifdef DOWNSAMPLE_NORMALS
vec3 n[4];n[0]=texture2D(normalBuffer,vUv0).rgb;n[1]=texture2D(normalBuffer,vUv1).rgb;n[2]=texture2D(normalBuffer,vUv2).rgb;n[3]=texture2D(normalBuffer,vUv3).rgb;
#else
vec3 n[4];n[0]=vec3(0.0);n[1]=vec3(0.0);n[2]=vec3(0.0);n[3]=vec3(0.0);
#endif
gl_FragColor=vec4(n[index],d[index]);}`,yl="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}",_l=class extends Ht{constructor(){super({name:"DepthDownsamplingMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new Y(null),normalBuffer:new Y(null),texelSize:new Y(new Ne)},blending:er,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:xl,vertexShader:yl})}set depthBuffer(e){this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=Ft){this.depthBuffer=e,this.depthPacking=t}set normalBuffer(e){this.uniforms.normalBuffer.value=e,e!==null?this.defines.DOWNSAMPLE_NORMALS="1":delete this.defines.DOWNSAMPLE_NORMALS,this.needsUpdate=!0}setNormalBuffer(e){this.normalBuffer=e}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t)}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}},Sl=class extends qe{constructor({normalBuffer:e=null,resolutionScale:t=.5,width:r=De.AUTO_SIZE,height:i=De.AUTO_SIZE,resolutionX:n=r,resolutionY:s=i}={}){super("DepthDownsamplingPass");const a=new _l;a.normalBuffer=e,this.fullscreenMaterial=a,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new vt(1,1,{minFilter:Rr,magFilter:Rr,depthBuffer:!1,type:ga}),this.renderTarget.texture.name="DepthDownsamplingPass.Target",this.renderTarget.texture.generateMipmaps=!1;const o=this.resolution=new De(this,n,s,t);o.addEventListener("change",c=>this.setSize(o.baseWidth,o.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}setDepthTexture(e,t=Ft){this.fullscreenMaterial.depthBuffer=e,this.fullscreenMaterial.depthPacking=t}render(e,t,r,i,n){e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){const r=this.resolution;r.setBaseSize(e,t),this.renderTarget.setSize(r.width,r.height),this.fullscreenMaterial.setSize(e,t)}initialize(e,t,r){const i=e.getContext();if(!(i.getExtension("EXT_color_buffer_float")||i.getExtension("EXT_color_buffer_half_float")))throw new Error("Rendering to float texture is not supported.")}},bl=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
float depth=unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
float depth=texture2D(depthBuffer,uv).r;
#endif
#if defined(USE_LOGARITHMIC_DEPTH_BUFFER) || defined(LOG_DEPTH)
float d=pow(2.0,depth*log2(cameraFar+1.0))-1.0;float a=cameraFar/(cameraFar-cameraNear);float b=cameraFar*cameraNear/(cameraNear-cameraFar);depth=a+b/d;
#elif defined(USE_REVERSED_DEPTH_BUFFER)
depth=1.0-depth;
#endif
return depth;}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEAD void main(){FRAGMENT_MAIN_UV vec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGE color0.a=clamp(color0.a,0.0,1.0);gl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <colorspace_fragment>
#endif
#include <dithering_fragment>
}`,Tl="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEAD void main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORT gl_Position=vec4(position.xy,1.0,1.0);}",El=class extends Ht{constructor(e,t,r,i,n=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:Es.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new Y(null),depthBuffer:new Y(null),resolution:new Y(new Ne),texelSize:new Y(new Ne),cameraNear:new Y(.3),cameraFar:new Y(1e3),aspect:new Y(1),time:new Y(0)},blending:er,toneMapped:!1,depthWrite:!1,depthTest:!1,dithering:n}),e&&this.setShaderParts(e),t&&this.setDefines(t),r&&this.setUniforms(r),this.copyCameraSettings(i)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(e){this.uniforms.depthBuffer.value=e}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=Ft){this.depthBuffer=e,this.depthPacking=t}setShaderData(e){this.setShaderParts(e.shaderParts),this.setDefines(e.defines),this.setUniforms(e.uniforms),this.setExtensions(e.extensions)}setShaderParts(e){return this.fragmentShader=bl.replace(Z.FRAGMENT_HEAD,e.get(Z.FRAGMENT_HEAD)||"").replace(Z.FRAGMENT_MAIN_UV,e.get(Z.FRAGMENT_MAIN_UV)||"").replace(Z.FRAGMENT_MAIN_IMAGE,e.get(Z.FRAGMENT_MAIN_IMAGE)||""),this.vertexShader=Tl.replace(Z.VERTEX_HEAD,e.get(Z.VERTEX_HEAD)||"").replace(Z.VERTEX_MAIN_SUPPORT,e.get(Z.VERTEX_MAIN_SUPPORT)||""),this.needsUpdate=!0,this}setDefines(e){for(const t of e.entries())this.defines[t[0]]=t[1];return this.needsUpdate=!0,this}setUniforms(e){for(const t of e.entries())this.uniforms[t[0]]=t[1];return this}setExtensions(e){this.extensions={};for(const t of e)this.extensions[t]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(e){this.encodeOutput!==e&&(e?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(e){return this.encodeOutput}setOutputEncodingEnabled(e){this.encodeOutput=e}get time(){return this.uniforms.time.value}set time(e){this.uniforms.time.value=e}setDeltaTime(e){this.uniforms.time.value+=e}adoptCameraSettings(e){this.copyCameraSettings(e)}copyCameraSettings(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof ws?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(e,t){const r=this.uniforms;r.resolution.value.set(e,t),r.texelSize.value.set(1/e,1/t),r.aspect.value=e/t}static get Section(){return Z}};function Ln(e,t,r){for(const i of t){const n="$1"+e+i.charAt(0).toUpperCase()+i.slice(1),s=new RegExp("([^\\.])(\\b"+i+"\\b)","g");for(const a of r.entries())a[1]!==null&&r.set(a[0],a[1].replace(s,n))}}function wl(e,t,r){let i=t.getFragmentShader(),n=t.getVertexShader();const s=i!==void 0&&/mainImage/.test(i),a=i!==void 0&&/mainUv/.test(i);if(r.attributes|=t.getAttributes(),i===void 0)throw new Error(`Missing fragment shader (${t.name})`);if(a&&(r.attributes&Kt.CONVOLUTION)!==0)throw new Error(`Effects that transform UVs are incompatible with convolution effects (${t.name})`);if(!s&&!a)throw new Error(`Could not find mainImage or mainUv function (${t.name})`);{const o=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,c=r.shaderParts;let l=c.get(Z.FRAGMENT_HEAD)||"",x=c.get(Z.FRAGMENT_MAIN_UV)||"",g=c.get(Z.FRAGMENT_MAIN_IMAGE)||"",m=c.get(Z.VERTEX_HEAD)||"",f=c.get(Z.VERTEX_MAIN_SUPPORT)||"";const _=new Set,A=new Set;if(a&&(x+=`	${e}MainUv(UV);
`,r.uvTransformation=!0),n!==null&&/mainSupport/.test(n)){const M=/mainSupport *\([\w\s]*?uv\s*?\)/.test(n);f+=`	${e}MainSupport(`,f+=M?`vUv);
`:`);
`;for(const T of n.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const w of T[1].split(/\s*,\s*/))r.varyings.add(w),_.add(w),A.add(w);for(const T of n.matchAll(o))A.add(T[1])}for(const M of i.matchAll(o))A.add(M[1]);for(const M of t.defines.keys())A.add(M.replace(/\([\w\s,]*\)/g,""));for(const M of t.uniforms.keys())A.add(M);A.delete("while"),A.delete("for"),A.delete("if"),t.uniforms.forEach((M,T)=>r.uniforms.set(e+T.charAt(0).toUpperCase()+T.slice(1),M)),t.defines.forEach((M,T)=>r.defines.set(e+T.charAt(0).toUpperCase()+T.slice(1),M));const C=new Map([["fragment",i],["vertex",n]]);Ln(e,A,r.defines),Ln(e,A,C),i=C.get("fragment"),n=C.get("vertex");const P=t.blendMode;if(r.blendModes.set(P.blendFunction,P),s){t.inputColorSpace!==null&&t.inputColorSpace!==r.colorSpace&&(g+=t.inputColorSpace===ke?`color0 = sRGBTransferOETF(color0);
	`:`color0 = sRGBToLinear(color0);
	`),t.outputColorSpace!==ys?r.colorSpace=t.outputColorSpace:t.inputColorSpace!==null&&(r.colorSpace=t.inputColorSpace);const M=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;g+=`${e}MainImage(color0, UV, `,(r.attributes&Kt.DEPTH)!==0&&M.test(i)&&(g+="depth, ",r.readDepth=!0),g+=`color1);
	`;const T=e+"BlendOpacity";r.uniforms.set(T,P.opacity),g+=`color0 = blend${P.blendFunction}(color0, color1, ${T});

	`,l+=`uniform float ${T};

`}if(l+=i+`
`,n!==null&&(m+=n+`
`),c.set(Z.FRAGMENT_HEAD,l),c.set(Z.FRAGMENT_MAIN_UV,x),c.set(Z.FRAGMENT_MAIN_IMAGE,g),c.set(Z.VERTEX_HEAD,m),c.set(Z.VERTEX_MAIN_SUPPORT,f),t.extensions!==null)for(const M of t.extensions)r.extensions.add(M)}}var Ml=class extends qe{constructor(e,...t){super("EffectPass"),this.fullscreenMaterial=new El(null,null,null,e),this.listener=r=>this.handleEvent(r),this.effects=[],this.setEffects(t),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(e){for(const t of this.effects)t.mainScene=e}set mainCamera(e){this.fullscreenMaterial.copyCameraSettings(e);for(const t of this.effects)t.mainCamera=e}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(e){this.fullscreenMaterial.encodeOutput=e}get dithering(){return this.fullscreenMaterial.dithering}set dithering(e){const t=this.fullscreenMaterial;t.dithering=e,t.needsUpdate=!0}setEffects(e){for(const t of this.effects)t.removeEventListener("change",this.listener);this.effects=e.sort((t,r)=>r.attributes-t.attributes);for(const t of this.effects)t.addEventListener("change",this.listener)}updateMaterial(){const e=new po;let t=0;for(const a of this.effects)if(a.blendMode.blendFunction===W.DST)e.attributes|=a.getAttributes()&Kt.DEPTH;else{if((e.attributes&a.getAttributes()&Kt.CONVOLUTION)!==0)throw new Error(`Convolution effects cannot be merged (${a.name})`);wl("e"+t++,a,e)}let r=e.shaderParts.get(Z.FRAGMENT_HEAD),i=e.shaderParts.get(Z.FRAGMENT_MAIN_IMAGE),n=e.shaderParts.get(Z.FRAGMENT_MAIN_UV);const s=/\bblend\b/g;for(const a of e.blendModes.values())r+=a.getShaderCode().replace(s,`blend${a.blendFunction}`)+`
`;(e.attributes&Kt.DEPTH)!==0?(e.readDepth&&(i=`float depth = readDepth(UV);

	`+i),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,e.colorSpace===ke&&(i+=`color0 = sRGBToLinear(color0);
	`),e.uvTransformation?(n=`vec2 transformedUv = vUv;
`+n,e.defines.set("UV","transformedUv")):e.defines.set("UV","vUv"),e.shaderParts.set(Z.FRAGMENT_HEAD,r),e.shaderParts.set(Z.FRAGMENT_MAIN_IMAGE,i),e.shaderParts.set(Z.FRAGMENT_MAIN_UV,n);for(const[a,o]of e.shaderParts)o!==null&&e.shaderParts.set(a,o.trim().replace(/^#/,`
#`));this.skipRendering=t===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(e)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(e,t=Ft){this.fullscreenMaterial.depthBuffer=e,this.fullscreenMaterial.depthPacking=t;for(const r of this.effects)r.setDepthTexture(e,t)}render(e,t,r,i,n){for(const s of this.effects)s.update(e,t,i);if(!this.skipRendering||this.renderToScreen){const s=this.fullscreenMaterial;s.inputBuffer=t.texture,s.time+=i*this.timeScale,e.setRenderTarget(this.renderToScreen?null:r),e.render(this.scene,this.camera)}}setSize(e,t){this.fullscreenMaterial.setSize(e,t);for(const r of this.effects)r.setSize(e,t)}initialize(e,t,r){this.renderer=e;for(const i of this.effects)i.initialize(e,t,r);this.updateMaterial(),r!==void 0&&r!==Qt&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const e of this.effects)e.removeEventListener("change",this.listener),e.dispose()}handleEvent(e){switch(e.type){case"change":this.recompile();break}}},Rl=class extends qe{constructor(e,t,{renderTarget:r,resolutionScale:i=1,width:n=De.AUTO_SIZE,height:s=De.AUTO_SIZE,resolutionX:a=n,resolutionY:o=s}={}){super("NormalPass"),this.needsSwap=!1,this.renderPass=new vn(e,t,new pa);const c=this.renderPass;c.ignoreBackground=!0,c.skipShadowMapUpdate=!0;const l=c.getClearPass();l.overrideClearColor=new Oi(7829503),l.overrideClearAlpha=1,this.renderTarget=r,this.renderTarget===void 0&&(this.renderTarget=new vt(1,1,{minFilter:Rr,magFilter:Rr}),this.renderTarget.texture.name="NormalPass.Target");const x=this.resolution=new De(this,a,o,i);x.addEventListener("change",g=>this.setSize(x.baseWidth,x.baseHeight))}set mainScene(e){this.renderPass.mainScene=e}set mainCamera(e){this.renderPass.mainCamera=e}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,r,i,n){const s=this.renderToScreen?null:this.renderTarget;this.renderPass.render(e,s,s)}setSize(e,t){const r=this.resolution;r.setBaseSize(e,t),this.renderTarget.setSize(r.width,r.height)}};function jr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}new Ne;new Ne;function Bs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var dt=function e(t,r,i){var n=this;Bs(this,e),jr(this,"dot2",function(s,a){return n.x*s+n.y*a}),jr(this,"dot3",function(s,a,o){return n.x*s+n.y*a+n.z*o}),this.x=t,this.y=r,this.z=i},Pl=[new dt(1,1,0),new dt(-1,1,0),new dt(1,-1,0),new dt(-1,-1,0),new dt(1,0,1),new dt(-1,0,1),new dt(1,0,-1),new dt(-1,0,-1),new dt(0,1,1),new dt(0,-1,1),new dt(0,1,-1),new dt(0,-1,-1)],Gn=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],jn=new Array(512),Vn=new Array(512),Cl=function(t){t>0&&t<1&&(t*=65536),t=Math.floor(t),t<256&&(t|=t<<8);for(var r=0;r<256;r++){var i;r&1?i=Gn[r]^t&255:i=Gn[r]^t>>8&255,jn[r]=jn[r+256]=i,Vn[r]=Vn[r+256]=Pl[i%12]}};Cl(0);function Dl(e){if(typeof e=="number")e=Math.abs(e);else if(typeof e=="string"){var t=e;e=0;for(var r=0;r<t.length;r++)e=(e+(r+1)*(t.charCodeAt(r)%96))%2147483647}return e===0&&(e=311),e}function Wn(e){var t=Dl(e);return function(){var r=t*48271%2147483647;return t=r,r/2147483647}}var Bl=function e(t){var r=this;Bs(this,e),jr(this,"seed",0),jr(this,"init",function(i){r.seed=i,r.value=Wn(i)}),jr(this,"value",Wn(this.seed)),this.init(t)};new Bl(Math.random());const Al=B.createContext(null),As=B.createContext(null),Yn=e=>(e.getAttributes()&2)===2,Ul=B.memo(B.forwardRef(({children:e,camera:t,scene:r,resolutionScale:i,enabled:n=!0,renderPriority:s=1,autoClear:a=!0,depthBuffer:o,enableNormalPass:c,stencilBuffer:l,multisampling:x=8,frameBufferType:g=wa},m)=>{const{gl:f,scene:_,camera:A,size:C}=gs(),P=r||_,M=t||A,[T,w,ae]=B.useMemo(()=>{const y=new ho(f,{depthBuffer:o,stencilBuffer:l,multisampling:x,frameBufferType:g});y.addPass(new vn(P,M));let v=null,h=null;return c&&(h=new Rl(P,M),h.enabled=!1,y.addPass(h),i!==void 0&&(v=new Sl({normalBuffer:h.texture,resolutionScale:i}),v.enabled=!1,y.addPass(v))),[y,h,v]},[M,f,o,l,x,g,P,c,i]);B.useEffect(()=>T?.setSize(C.width,C.height),[T,C]),ms((y,v)=>{if(n){const h=f.autoClear;f.autoClear=a,l&&!a&&f.clearStencil(),T.render(v),f.autoClear=h}},n?s:0);const ie=B.useRef(null);B.useLayoutEffect(()=>{const y=[],v=ie.current.__r3f;if(v&&T){const h=v.children;for(let S=0;S<h.length;S++){const b=h[S].object;if(b instanceof en){const Q=[b];if(!Yn(b)){let K=null;for(;(K=h[S+1]?.object)instanceof en&&!Yn(K);)Q.push(K),S++}const $=new Ml(M,...Q);y.push($)}else b instanceof qe&&y.push(b)}for(const S of y)T?.addPass(S);w&&(w.enabled=!0),ae&&(ae.enabled=!0)}return()=>{for(const h of y)T?.removePass(h);w&&(w.enabled=!1),ae&&(ae.enabled=!1)}},[T,e,M,w,ae]),B.useEffect(()=>{const y=f.toneMapping;return f.toneMapping=Ma,()=>{f.toneMapping=y}},[f]);const U=B.useMemo(()=>({composer:T,normalPass:w,downSamplingPass:ae,resolutionScale:i,camera:M,scene:P}),[T,w,ae,i,M,P]);return B.useImperativeHandle(m,()=>T,[T]),p.jsx(As.Provider,{value:U,children:p.jsx("group",{ref:ie,children:e})})})),ui=e=>typeof e=="object"&&e!=null&&"current"in e?e.current:e,Ol=(e,t)=>e.layers.enable(t.selection.layer),Il=(e,t)=>e.layers.disable(t.selection.layer),Nl=B.forwardRef(function({selection:e=[],selectionLayer:t=10,lights:r=[],inverted:i=!1,ignoreBackground:n=!1,luminanceThreshold:s,luminanceSmoothing:a,intensity:o,width:c,height:l,kernelSize:x,mipmapBlur:g,...m},f){r.length===0&&console.warn("SelectiveBloom requires lights to work.");const _=gs(T=>T.invalidate),{scene:A,camera:C}=B.useContext(As),P=B.useMemo(()=>{const T=new vl(A,C,{blendFunction:0,luminanceThreshold:s,luminanceSmoothing:a,intensity:o,width:c,height:l,kernelSize:x,mipmapBlur:g,...m});return T.inverted=i,T.ignoreBackground=n,T},[A,C,s,a,o,c,l,x,g,i,n,m]),M=B.useContext(Al);return B.useEffect(()=>{if(!M&&e)return P.selection.set(Array.isArray(e)?e.map(ui):[ui(e)]),_(),()=>{P.selection.clear(),_()}},[P,e,M,_]),B.useEffect(()=>{P.selection.layer=t,_()},[P,_,t]),B.useEffect(()=>{if(r&&r.length>0)return r.forEach(T=>Ol(ui(T),P)),_(),()=>{r.forEach(T=>Il(ui(T),P)),_()}},[P,_,r,t]),B.useEffect(()=>{if(M&&M.enabled&&M.selected?.length)return P.selection.set(M.selected),_(),()=>{P.selection.clear(),_()}},[M,P.selection,_]),p.jsx("primitive",{ref:f,object:P,dispose:null})});function kl(e){const{nodes:t,materials:r}=vs("/models/optimized-room.glb"),i=B.useRef(),n=sa("/images/textures/mat1.png"),s=new xr({color:"#d90429"}),a=new xr({map:n}),o=new xr({color:"#582f0e"}),c=new xr({color:"#fff"}),l=new Ra({color:"#fff"}),x=new xr({color:"#8338ec"}),g=new xr({color:"#000"});return p.jsxs("group",{...e,dispose:null,children:[p.jsx(Ul,{children:p.jsx(Nl,{selection:i,intensity:1,luminanceThreshold:.2,luminanceSmoothing:.9,blendFunction:W.ADD})}),p.jsx("mesh",{geometry:t._________6_blinn1_0.geometry,material:s}),p.jsx("mesh",{geometry:t.body1_blinn1_0.geometry,material:a}),p.jsx("mesh",{geometry:t.cabin_blinn1_0.geometry,material:o}),p.jsx("mesh",{geometry:t.chair_body_blinn1_0.geometry,material:g}),p.jsx("mesh",{geometry:t.comp_blinn1_0.geometry,material:l}),p.jsx("mesh",{ref:i,geometry:t.emis_lambert1_0.geometry,material:r.lambert1}),p.jsx("mesh",{geometry:t.handls_blinn1_0.geometry,material:r.blinn1}),p.jsx("mesh",{geometry:t.keyboard_blinn1_0.geometry,material:r.blinn1}),p.jsx("mesh",{geometry:t.kovrik_blinn1_0.geometry,material:r.blinn1}),p.jsx("mesh",{geometry:t.lamp_bl_blinn1_0.geometry,material:r.blinn1}),p.jsx("mesh",{geometry:t.lamp_white_blinn1_0.geometry,material:r.blinn1}),p.jsx("mesh",{geometry:t.miuse_blinn1_0.geometry,material:r.blinn1}),p.jsx("mesh",{geometry:t.monitor2_blinn1_0.geometry,material:r.blinn1}),p.jsx("mesh",{geometry:t.monitor3_blinn1_0.geometry,material:r.blinn1}),p.jsx("mesh",{geometry:t.pCylinder5_blinn1_0.geometry,material:r.blinn1}),p.jsx("mesh",{geometry:t.pillows_blinn1_0.geometry,material:x}),p.jsx("mesh",{geometry:t.polySurface53_blinn1_0.geometry,material:r.blinn1}),p.jsx("mesh",{geometry:t.radiator_blinn1_0.geometry,material:c}),p.jsx("mesh",{geometry:t.radiator_blinn1_0001.geometry,material:r.blinn1}),p.jsx("mesh",{geometry:t.railing_blinn1_0.geometry,material:r.blinn1}),p.jsx("mesh",{geometry:t.red_bttns_blinn1_0.geometry,material:r.blinn1}),p.jsx("mesh",{geometry:t.red_vac_blinn1_0.geometry,material:r.blinn1}),p.jsx("mesh",{geometry:t.stylus_blinn1_0.geometry,material:r.blinn1}),p.jsx("mesh",{geometry:t.table_blinn1_0.geometry,material:o}),p.jsx("mesh",{geometry:t.tablet_blinn1_0.geometry,material:r.blinn1}),p.jsx("mesh",{geometry:t.triangle_blinn1_0.geometry,material:r.blinn1}),p.jsx("mesh",{geometry:t.vac_black_blinn1_0.geometry,material:r.blinn1}),p.jsx("mesh",{geometry:t.vacuum1_blinn1_0.geometry,material:r.blinn1}),p.jsx("mesh",{geometry:t.vacuumgrey_blinn1_0.geometry,material:r.blinn1}),p.jsx("mesh",{geometry:t.vires_blinn1_0.geometry,material:r.blinn1}),p.jsx("mesh",{geometry:t.window_blinn1_0.geometry,material:r.blinn1}),p.jsx("mesh",{geometry:t.window4_phong1_0.geometry,material:r.phong1})]})}vs.preload("/models/optimized-room.glb");const zl=()=>p.jsxs(p.Fragment,{children:[p.jsx("spotLight",{position:[2,5,6],angle:.15,penumbra:.2,intensity:100,color:"white"}),p.jsx("spotLight",{position:[4,5,4],angle:.3,penumbra:.5,intensity:40,color:"#4cc9f0"}),p.jsx("spotLight",{position:[-3,5,5],angle:.4,penumbra:1,intensity:60,color:"#9d4edd"}),p.jsx("primitive",{object:new Pa("#a259ff",8,3,2),position:[1,3,4],rotation:[-Math.PI/4,Math.PI/4,0],intensity:15}),p.jsx("pointLight",{position:[0,1,0],intensity:10,color:"#7209b7"}),p.jsx("pointLight",{position:[1,2,-2],intensity:10,color:"#0d00a4"})]}),Fl=({count:e=200})=>{const t=B.useRef(),r=B.useMemo(()=>{const n=[];for(let s=0;s<e;s++)n.push({position:[(Math.random()-.5)*10,Math.random()*10+5,(Math.random()-.5)*10],speed:.005+Math.random()*.001});return n},[e]);ms(()=>{const n=t.current.geometry.attributes.position.array;for(let s=0;s<e;s++){let a=n[s*3+1];a-=r[s].speed,a<-2&&(a=Math.random()*10+5),n[s*3+1]=a}t.current.geometry.attributes.position.needsUpdate=!0});const i=new Float32Array(e*3);return r.forEach((n,s)=>{i[s*3]=n.position[0],i[s*3+1]=n.position[1],i[s*3+2]=n.position[2]}),p.jsxs("points",{ref:t,children:[p.jsx("bufferGeometry",{children:p.jsx("bufferAttribute",{attach:"attributes-position",count:e,array:i,itemSize:3})}),p.jsx("pointsMaterial",{color:"#ffffff",size:.05,transparent:!0,opacity:.9,depthWrite:!1})]})},Hl=()=>{const e=zn({query:"(max-width: 768px)"}),t=zn({query:"(max-width: 1024px)"});return p.jsxs(aa,{camera:{position:[0,0,15],fov:45},children:[p.jsx("ambientLight",{intensity:.2,color:"#1a1a40"}),p.jsx(oa,{enablePan:!1,enableZoom:!t,maxDistance:20,minDistance:5,minPolarAngle:Math.PI/5,maxPolarAngle:Math.PI/2}),p.jsxs(B.Suspense,{fallback:null,children:[p.jsx(zl,{}),p.jsx(Fl,{count:100}),p.jsx("group",{scale:e?.7:1,position:[0,-3.5,0],rotation:[0,-Math.PI/4,0],children:p.jsx(kl,{})})]})]})};let Xn=typeof document<"u"?B.useLayoutEffect:B.useEffect,qn=e=>e&&!Array.isArray(e)&&typeof e=="object",ci=[],Ll={},Us=kt;const ri=(e,t=ci)=>{let r=Ll;qn(e)?(r=e,e=null,t="dependencies"in r?r.dependencies:ci):qn(t)&&(r=t,t="dependencies"in r?r.dependencies:ci),e&&typeof e!="function"&&console.warn("First parameter must be a function or config object");const{scope:i,revertOnUpdate:n}=r,s=B.useRef(!1),a=B.useRef(Us.context(()=>{},i)),o=B.useRef(l=>a.current.add(null,l)),c=t&&t.length&&!n;return c&&Xn(()=>(s.current=!0,()=>a.current.revert()),ci),Xn(()=>{if(e&&a.current.add(e,i),!c||!s.current)return()=>a.current.revert()},t),{context:a.current,contextSafe:o.current}};ri.register=e=>{Us=e};ri.headless=!0;function Gl(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function jl(e,t,r){return t&&Gl(e.prototype,t),e}var He,Ti,ft,qt,$t,Er,Os,ar,Vr,Is,Nt,Tt,Ns,ks=function(){return He||typeof window<"u"&&(He=window.gsap)&&He.registerPlugin&&He},zs=1,Tr=[],G=[],Ct=[],Wr=Date.now,tn=function(t,r){return r},Vl=function(){var t=Vr.core,r=t.bridge||{},i=t._scrollers,n=t._proxies;i.push.apply(i,G),n.push.apply(n,Ct),G=i,Ct=n,tn=function(a,o){return r[a](o)}},Zt=function(t,r){return~Ct.indexOf(t)&&Ct[Ct.indexOf(t)+1][r]},Yr=function(t){return!!~Is.indexOf(t)},Ke=function(t,r,i,n,s){return t.addEventListener(r,i,{passive:n!==!1,capture:!!s})},$e=function(t,r,i,n){return t.removeEventListener(r,i,!!n)},fi="scrollLeft",hi="scrollTop",rn=function(){return Nt&&Nt.isPressed||G.cache++},Di=function(t,r){var i=function n(s){if(s||s===0){zs&&(ft.history.scrollRestoration="manual");var a=Nt&&Nt.isPressed;s=n.v=Math.round(s)||(Nt&&Nt.iOS?1:0),t(s),n.cacheID=G.cache,a&&tn("ss",s)}else(r||G.cache!==n.cacheID||tn("ref"))&&(n.cacheID=G.cache,n.v=t());return n.v+n.offset};return i.offset=0,t&&i},tt={s:fi,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Di(function(e){return arguments.length?ft.scrollTo(e,Ce.sc()):ft.pageXOffset||qt[fi]||$t[fi]||Er[fi]||0})},Ce={s:hi,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:tt,sc:Di(function(e){return arguments.length?ft.scrollTo(tt.sc(),e):ft.pageYOffset||qt[hi]||$t[hi]||Er[hi]||0})},nt=function(t,r){return(r&&r._ctx&&r._ctx.selector||He.utils.toArray)(t)[0]||(typeof t=="string"&&He.config().nullTargetWarn!==!1?console.warn("Element not found:",t):null)},Wl=function(t,r){for(var i=r.length;i--;)if(r[i]===t||r[i].contains(t))return!0;return!1},Jt=function(t,r){var i=r.s,n=r.sc;Yr(t)&&(t=qt.scrollingElement||$t);var s=G.indexOf(t),a=n===Ce.sc?1:2;!~s&&(s=G.push(t)-1),G[s+a]||Ke(t,"scroll",rn);var o=G[s+a],c=o||(G[s+a]=Di(Zt(t,i),!0)||(Yr(t)?n:Di(function(l){return arguments.length?t[i]=l:t[i]})));return c.target=t,o||(c.smooth=He.getProperty(t,"scrollBehavior")==="smooth"),c},nn=function(t,r,i){var n=t,s=t,a=Wr(),o=a,c=r||50,l=Math.max(500,c*3),x=function(_,A){var C=Wr();A||C-a>c?(s=n,n=_,o=a,a=C):i?n+=_:n=s+(_-s)/(C-o)*(a-o)},g=function(){s=n=i?0:n,o=a=0},m=function(_){var A=o,C=s,P=Wr();return(_||_===0)&&_!==n&&x(_),a===o||P-o>l?0:(n+(i?C:-C))/((i?P:a)-A)*1e3};return{update:x,reset:g,getVelocity:m}},Ur=function(t,r){return r&&!t._gsapAllow&&t.preventDefault(),t.changedTouches?t.changedTouches[0]:t},$n=function(t){var r=Math.max.apply(Math,t),i=Math.min.apply(Math,t);return Math.abs(r)>=Math.abs(i)?r:i},Fs=function(){Vr=He.core.globals().ScrollTrigger,Vr&&Vr.core&&Vl()},Hs=function(t){return He=t||ks(),!Ti&&He&&typeof document<"u"&&document.body&&(ft=window,qt=document,$t=qt.documentElement,Er=qt.body,Is=[ft,qt,$t,Er],He.utils.clamp,Ns=He.core.context||function(){},ar="onpointerenter"in Er?"pointer":"mouse",Os=be.isTouch=ft.matchMedia&&ft.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in ft||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Tt=be.eventTypes=("ontouchstart"in $t?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in $t?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return zs=0},500),Fs(),Ti=1),Ti};tt.op=Ce;G.cache=0;var be=(function(){function e(r){this.init(r)}var t=e.prototype;return t.init=function(i){Ti||Hs(He)||console.warn("Please gsap.registerPlugin(Observer)"),Vr||Fs();var n=i.tolerance,s=i.dragMinimum,a=i.type,o=i.target,c=i.lineHeight,l=i.debounce,x=i.preventDefault,g=i.onStop,m=i.onStopDelay,f=i.ignore,_=i.wheelSpeed,A=i.event,C=i.onDragStart,P=i.onDragEnd,M=i.onDrag,T=i.onPress,w=i.onRelease,ae=i.onRight,ie=i.onLeft,U=i.onUp,y=i.onDown,v=i.onChangeX,h=i.onChangeY,S=i.onChange,b=i.onToggleX,Q=i.onToggleY,$=i.onHover,K=i.onHoverEnd,te=i.onMove,F=i.ignoreCheck,q=i.isNormalizer,ne=i.onGestureStart,u=i.onGestureEnd,ce=i.onWheel,rt=i.onEnable,Be=i.onDisable,ge=i.onClick,Le=i.scrollSpeed,se=i.capture,oe=i.allowClicks,de=i.lockAxis,fe=i.onLockAxis;this.target=o=nt(o)||$t,this.vars=i,f&&(f=He.utils.toArray(f)),n=n||1e-9,s=s||0,_=_||1,Le=Le||1,a=a||"wheel,touch,pointer",l=l!==!1,c||(c=parseFloat(ft.getComputedStyle(Er).lineHeight)||22);var it,ye,we,I,le,Me,st,d=this,at=0,Dt=0,Lt=i.passive||!x&&i.passive!==!1,ve=Jt(o,tt),Bt=Jt(o,Ce),Gt=ve(),tr=Bt(),Ae=~a.indexOf("touch")&&!~a.indexOf("pointer")&&Tt[0]==="pointerdown",jt=Yr(o),_e=o.ownerDocument||qt,xt=[0,0,0],ht=[0,0,0],At=0,Cr=function(){return At=Wr()},Te=function(O,J){return(d.event=O)&&f&&Wl(O.target,f)||J&&Ae&&O.pointerType!=="touch"||F&&F(O,J)},ii=function(){d._vx.reset(),d._vy.reset(),ye.pause(),g&&g(d)},Ut=function(){var O=d.deltaX=$n(xt),J=d.deltaY=$n(ht),E=Math.abs(O)>=n,N=Math.abs(J)>=n;S&&(E||N)&&S(d,O,J,xt,ht),E&&(ae&&d.deltaX>0&&ae(d),ie&&d.deltaX<0&&ie(d),v&&v(d),b&&d.deltaX<0!=at<0&&b(d),at=d.deltaX,xt[0]=xt[1]=xt[2]=0),N&&(y&&d.deltaY>0&&y(d),U&&d.deltaY<0&&U(d),h&&h(d),Q&&d.deltaY<0!=Dt<0&&Q(d),Dt=d.deltaY,ht[0]=ht[1]=ht[2]=0),(I||we)&&(te&&te(d),we&&(C&&we===1&&C(d),M&&M(d),we=0),I=!1),Me&&!(Me=!1)&&fe&&fe(d),le&&(ce(d),le=!1),it=0},gr=function(O,J,E){xt[E]+=O,ht[E]+=J,d._vx.update(O),d._vy.update(J),l?it||(it=requestAnimationFrame(Ut)):Ut()},mr=function(O,J){de&&!st&&(d.axis=st=Math.abs(O)>Math.abs(J)?"x":"y",Me=!0),st!=="y"&&(xt[2]+=O,d._vx.update(O,!0)),st!=="x"&&(ht[2]+=J,d._vy.update(J,!0)),l?it||(it=requestAnimationFrame(Ut)):Ut()},Vt=function(O){if(!Te(O,1)){O=Ur(O,x);var J=O.clientX,E=O.clientY,N=J-d.x,D=E-d.y,k=d.isDragging;d.x=J,d.y=E,(k||(N||D)&&(Math.abs(d.startX-J)>=s||Math.abs(d.startY-E)>=s))&&(we||(we=k?2:1),k||(d.isDragging=!0),mr(N,D))}},rr=d.onPress=function(z){Te(z,1)||z&&z.button||(d.axis=st=null,ye.pause(),d.isPressed=!0,z=Ur(z),at=Dt=0,d.startX=d.x=z.clientX,d.startY=d.y=z.clientY,d._vx.reset(),d._vy.reset(),Ke(q?o:_e,Tt[1],Vt,Lt,!0),d.deltaX=d.deltaY=0,T&&T(d))},V=d.onRelease=function(z){if(!Te(z,1)){$e(q?o:_e,Tt[1],Vt,!0);var O=!isNaN(d.y-d.startY),J=d.isDragging,E=J&&(Math.abs(d.x-d.startX)>3||Math.abs(d.y-d.startY)>3),N=Ur(z);!E&&O&&(d._vx.reset(),d._vy.reset(),x&&oe&&He.delayedCall(.08,function(){if(Wr()-At>300&&!z.defaultPrevented){if(z.target.click)z.target.click();else if(_e.createEvent){var D=_e.createEvent("MouseEvents");D.initMouseEvent("click",!0,!0,ft,1,N.screenX,N.screenY,N.clientX,N.clientY,!1,!1,!1,!1,0,null),z.target.dispatchEvent(D)}}})),d.isDragging=d.isGesturing=d.isPressed=!1,g&&J&&!q&&ye.restart(!0),we&&Ut(),P&&J&&P(d),w&&w(d,E)}},ir=function(O){return O.touches&&O.touches.length>1&&(d.isGesturing=!0)&&ne(O,d.isDragging)},yt=function(){return(d.isGesturing=!1)||u(d)},_t=function(O){if(!Te(O)){var J=ve(),E=Bt();gr((J-Gt)*Le,(E-tr)*Le,1),Gt=J,tr=E,g&&ye.restart(!0)}},St=function(O){if(!Te(O)){O=Ur(O,x),ce&&(le=!0);var J=(O.deltaMode===1?c:O.deltaMode===2?ft.innerHeight:1)*_;gr(O.deltaX*J,O.deltaY*J,0),g&&!q&&ye.restart(!0)}},nr=function(O){if(!Te(O)){var J=O.clientX,E=O.clientY,N=J-d.x,D=E-d.y;d.x=J,d.y=E,I=!0,g&&ye.restart(!0),(N||D)&&mr(N,D)}},vr=function(O){d.event=O,$(d)},Ot=function(O){d.event=O,K(d)},Dr=function(O){return Te(O)||Ur(O,x)&&ge(d)};ye=d._dc=He.delayedCall(m||.25,ii).pause(),d.deltaX=d.deltaY=0,d._vx=nn(0,50,!0),d._vy=nn(0,50,!0),d.scrollX=ve,d.scrollY=Bt,d.isDragging=d.isGesturing=d.isPressed=!1,Ns(this),d.enable=function(z){return d.isEnabled||(Ke(jt?_e:o,"scroll",rn),a.indexOf("scroll")>=0&&Ke(jt?_e:o,"scroll",_t,Lt,se),a.indexOf("wheel")>=0&&Ke(o,"wheel",St,Lt,se),(a.indexOf("touch")>=0&&Os||a.indexOf("pointer")>=0)&&(Ke(o,Tt[0],rr,Lt,se),Ke(_e,Tt[2],V),Ke(_e,Tt[3],V),oe&&Ke(o,"click",Cr,!0,!0),ge&&Ke(o,"click",Dr),ne&&Ke(_e,"gesturestart",ir),u&&Ke(_e,"gestureend",yt),$&&Ke(o,ar+"enter",vr),K&&Ke(o,ar+"leave",Ot),te&&Ke(o,ar+"move",nr)),d.isEnabled=!0,d.isDragging=d.isGesturing=d.isPressed=I=we=!1,d._vx.reset(),d._vy.reset(),Gt=ve(),tr=Bt(),z&&z.type&&rr(z),rt&&rt(d)),d},d.disable=function(){d.isEnabled&&(Tr.filter(function(z){return z!==d&&Yr(z.target)}).length||$e(jt?_e:o,"scroll",rn),d.isPressed&&(d._vx.reset(),d._vy.reset(),$e(q?o:_e,Tt[1],Vt,!0)),$e(jt?_e:o,"scroll",_t,se),$e(o,"wheel",St,se),$e(o,Tt[0],rr,se),$e(_e,Tt[2],V),$e(_e,Tt[3],V),$e(o,"click",Cr,!0),$e(o,"click",Dr),$e(_e,"gesturestart",ir),$e(_e,"gestureend",yt),$e(o,ar+"enter",vr),$e(o,ar+"leave",Ot),$e(o,ar+"move",nr),d.isEnabled=d.isPressed=d.isDragging=!1,Be&&Be(d))},d.kill=d.revert=function(){d.disable();var z=Tr.indexOf(d);z>=0&&Tr.splice(z,1),Nt===d&&(Nt=0)},Tr.push(d),q&&Yr(o)&&(Nt=d),d.enable(A)},jl(e,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),e})();be.version="3.14.2";be.create=function(e){return new be(e)};be.register=Hs;be.getAll=function(){return Tr.slice()};be.getById=function(e){return Tr.filter(function(t){return t.vars.id===e})[0]};ks()&&He.registerPlugin(be);var R,Sr,L,he,ct,re,xn,Bi,ei,Xr,Nr,di,We,Ii,sn,Je,Kn,Zn,br,Ls,Wi,Gs,Qe,an,js,Vs,Xt,on,yn,wr,_n,qr,ln,Yi,pi=1,Ye=Date.now,Xi=Ye(),mt=0,kr=0,Qn=function(t,r,i){var n=ut(t)&&(t.substr(0,6)==="clamp("||t.indexOf("max")>-1);return i["_"+r+"Clamp"]=n,n?t.substr(6,t.length-7):t},Jn=function(t,r){return r&&(!ut(t)||t.substr(0,6)!=="clamp(")?"clamp("+t+")":t},Yl=function e(){return kr&&requestAnimationFrame(e)},es=function(){return Ii=1},ts=function(){return Ii=0},Rt=function(t){return t},zr=function(t){return Math.round(t*1e5)/1e5||0},Ws=function(){return typeof window<"u"},Ys=function(){return R||Ws()&&(R=window.gsap)&&R.registerPlugin&&R},hr=function(t){return!!~xn.indexOf(t)},Xs=function(t){return(t==="Height"?_n:L["inner"+t])||ct["client"+t]||re["client"+t]},qs=function(t){return Zt(t,"getBoundingClientRect")||(hr(t)?function(){return Pi.width=L.innerWidth,Pi.height=_n,Pi}:function(){return It(t)})},Xl=function(t,r,i){var n=i.d,s=i.d2,a=i.a;return(a=Zt(t,"getBoundingClientRect"))?function(){return a()[n]}:function(){return(r?Xs(s):t["client"+s])||0}},ql=function(t,r){return!r||~Ct.indexOf(t)?qs(t):function(){return Pi}},Pt=function(t,r){var i=r.s,n=r.d2,s=r.d,a=r.a;return Math.max(0,(i="scroll"+n)&&(a=Zt(t,i))?a()-qs(t)()[s]:hr(t)?(ct[i]||re[i])-Xs(n):t[i]-t["offset"+n])},gi=function(t,r){for(var i=0;i<br.length;i+=3)(!r||~r.indexOf(br[i+1]))&&t(br[i],br[i+1],br[i+2])},ut=function(t){return typeof t=="string"},Xe=function(t){return typeof t=="function"},Fr=function(t){return typeof t=="number"},or=function(t){return typeof t=="object"},Or=function(t,r,i){return t&&t.progress(r?0:1)&&i&&t.pause()},qi=function(t,r){if(t.enabled){var i=t._ctx?t._ctx.add(function(){return r(t)}):r(t);i&&i.totalTime&&(t.callbackAnimation=i)}},yr=Math.abs,$s="left",Ks="top",Sn="right",bn="bottom",ur="width",cr="height",$r="Right",Kr="Left",Zr="Top",Qr="Bottom",Ee="padding",pt="margin",Pr="Width",Tn="Height",Pe="px",gt=function(t){return L.getComputedStyle(t)},$l=function(t){var r=gt(t).position;t.style.position=r==="absolute"||r==="fixed"?r:"relative"},rs=function(t,r){for(var i in r)i in t||(t[i]=r[i]);return t},It=function(t,r){var i=r&&gt(t)[sn]!=="matrix(1, 0, 0, 1, 0, 0)"&&R.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),n=t.getBoundingClientRect();return i&&i.progress(0).kill(),n},Ai=function(t,r){var i=r.d2;return t["offset"+i]||t["client"+i]||0},Zs=function(t){var r=[],i=t.labels,n=t.duration(),s;for(s in i)r.push(i[s]/n);return r},Kl=function(t){return function(r){return R.utils.snap(Zs(t),r)}},En=function(t){var r=R.utils.snap(t),i=Array.isArray(t)&&t.slice(0).sort(function(n,s){return n-s});return i?function(n,s,a){a===void 0&&(a=.001);var o;if(!s)return r(n);if(s>0){for(n-=a,o=0;o<i.length;o++)if(i[o]>=n)return i[o];return i[o-1]}else for(o=i.length,n+=a;o--;)if(i[o]<=n)return i[o];return i[0]}:function(n,s,a){a===void 0&&(a=.001);var o=r(n);return!s||Math.abs(o-n)<a||o-n<0==s<0?o:r(s<0?n-t:n+t)}},Zl=function(t){return function(r,i){return En(Zs(t))(r,i.direction)}},mi=function(t,r,i,n){return i.split(",").forEach(function(s){return t(r,s,n)})},Ie=function(t,r,i,n,s){return t.addEventListener(r,i,{passive:!n,capture:!!s})},Oe=function(t,r,i,n){return t.removeEventListener(r,i,!!n)},vi=function(t,r,i){i=i&&i.wheelHandler,i&&(t(r,"wheel",i),t(r,"touchmove",i))},is={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},xi={toggleActions:"play",anticipatePin:0},Ui={top:0,left:0,center:.5,bottom:1,right:1},Ei=function(t,r){if(ut(t)){var i=t.indexOf("="),n=~i?+(t.charAt(i-1)+1)*parseFloat(t.substr(i+1)):0;~i&&(t.indexOf("%")>i&&(n*=r/100),t=t.substr(0,i-1)),t=n+(t in Ui?Ui[t]*r:~t.indexOf("%")?parseFloat(t)*r/100:parseFloat(t)||0)}return t},yi=function(t,r,i,n,s,a,o,c){var l=s.startColor,x=s.endColor,g=s.fontSize,m=s.indent,f=s.fontWeight,_=he.createElement("div"),A=hr(i)||Zt(i,"pinType")==="fixed",C=t.indexOf("scroller")!==-1,P=A?re:i,M=t.indexOf("start")!==-1,T=M?l:x,w="border-color:"+T+";font-size:"+g+";color:"+T+";font-weight:"+f+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return w+="position:"+((C||c)&&A?"fixed;":"absolute;"),(C||c||!A)&&(w+=(n===Ce?Sn:bn)+":"+(a+parseFloat(m))+"px;"),o&&(w+="box-sizing:border-box;text-align:left;width:"+o.offsetWidth+"px;"),_._isStart=M,_.setAttribute("class","gsap-marker-"+t+(r?" marker-"+r:"")),_.style.cssText=w,_.innerText=r||r===0?t+"-"+r:t,P.children[0]?P.insertBefore(_,P.children[0]):P.appendChild(_),_._offset=_["offset"+n.op.d2],wi(_,0,n,M),_},wi=function(t,r,i,n){var s={display:"block"},a=i[n?"os2":"p2"],o=i[n?"p2":"os2"];t._isFlipped=n,s[i.a+"Percent"]=n?-100:0,s[i.a]=n?"1px":0,s["border"+a+Pr]=1,s["border"+o+Pr]=0,s[i.p]=r+"px",R.set(t,s)},H=[],un={},ti,ns=function(){return Ye()-mt>34&&(ti||(ti=requestAnimationFrame(zt)))},_r=function(){(!Qe||!Qe.isPressed||Qe.startX>re.clientWidth)&&(G.cache++,Qe?ti||(ti=requestAnimationFrame(zt)):zt(),mt||pr("scrollStart"),mt=Ye())},$i=function(){Vs=L.innerWidth,js=L.innerHeight},Hr=function(t){G.cache++,(t===!0||!We&&!Gs&&!he.fullscreenElement&&!he.webkitFullscreenElement&&(!an||Vs!==L.innerWidth||Math.abs(L.innerHeight-js)>L.innerHeight*.25))&&Bi.restart(!0)},dr={},Ql=[],Qs=function e(){return Oe(j,"scrollEnd",e)||lr(!0)},pr=function(t){return dr[t]&&dr[t].map(function(r){return r()})||Ql},lt=[],Js=function(t){for(var r=0;r<lt.length;r+=5)(!t||lt[r+4]&&lt[r+4].query===t)&&(lt[r].style.cssText=lt[r+1],lt[r].getBBox&&lt[r].setAttribute("transform",lt[r+2]||""),lt[r+3].uncache=1)},ea=function(){return G.forEach(function(t){return Xe(t)&&++t.cacheID&&(t.rec=t())})},wn=function(t,r){var i;for(Je=0;Je<H.length;Je++)i=H[Je],i&&(!r||i._ctx===r)&&(t?i.kill(1):i.revert(!0,!0));qr=!0,r&&Js(r),r||pr("revert")},ta=function(t,r){G.cache++,(r||!et)&&G.forEach(function(i){return Xe(i)&&i.cacheID++&&(i.rec=0)}),ut(t)&&(L.history.scrollRestoration=yn=t)},et,fr=0,ss,Jl=function(){if(ss!==fr){var t=ss=fr;requestAnimationFrame(function(){return t===fr&&lr(!0)})}},ra=function(){re.appendChild(wr),_n=!Qe&&wr.offsetHeight||L.innerHeight,re.removeChild(wr)},as=function(t){return ei(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(r){return r.style.display=t?"none":"block"})},lr=function(t,r){if(ct=he.documentElement,re=he.body,xn=[L,he,ct,re],mt&&!t&&!qr){Ie(j,"scrollEnd",Qs);return}ra(),et=j.isRefreshing=!0,qr||ea();var i=pr("refreshInit");Ls&&j.sort(),r||wn(),G.forEach(function(n){Xe(n)&&(n.smooth&&(n.target.style.scrollBehavior="auto"),n(0))}),H.slice(0).forEach(function(n){return n.refresh()}),qr=!1,H.forEach(function(n){if(n._subPinOffset&&n.pin){var s=n.vars.horizontal?"offsetWidth":"offsetHeight",a=n.pin[s];n.revert(!0,1),n.adjustPinSpacing(n.pin[s]-a),n.refresh()}}),ln=1,as(!0),H.forEach(function(n){var s=Pt(n.scroller,n._dir),a=n.vars.end==="max"||n._endClamp&&n.end>s,o=n._startClamp&&n.start>=s;(a||o)&&n.setPositions(o?s-1:n.start,a?Math.max(o?s:n.start+1,s):n.end,!0)}),as(!1),ln=0,i.forEach(function(n){return n&&n.render&&n.render(-1)}),G.forEach(function(n){Xe(n)&&(n.smooth&&requestAnimationFrame(function(){return n.target.style.scrollBehavior="smooth"}),n.rec&&n(n.rec))}),ta(yn,1),Bi.pause(),fr++,et=2,zt(2),H.forEach(function(n){return Xe(n.vars.onRefresh)&&n.vars.onRefresh(n)}),et=j.isRefreshing=!1,pr("refresh")},cn=0,Mi=1,Jr,zt=function(t){if(t===2||!et&&!qr){j.isUpdating=!0,Jr&&Jr.update(0);var r=H.length,i=Ye(),n=i-Xi>=50,s=r&&H[0].scroll();if(Mi=cn>s?-1:1,et||(cn=s),n&&(mt&&!Ii&&i-mt>200&&(mt=0,pr("scrollEnd")),Nr=Xi,Xi=i),Mi<0){for(Je=r;Je-- >0;)H[Je]&&H[Je].update(0,n);Mi=1}else for(Je=0;Je<r;Je++)H[Je]&&H[Je].update(0,n);j.isUpdating=!1}ti=0},fn=[$s,Ks,bn,Sn,pt+Qr,pt+$r,pt+Zr,pt+Kr,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Ri=fn.concat([ur,cr,"boxSizing","max"+Pr,"max"+Tn,"position",pt,Ee,Ee+Zr,Ee+$r,Ee+Qr,Ee+Kr]),eu=function(t,r,i){Mr(i);var n=t._gsap;if(n.spacerIsNative)Mr(n.spacerState);else if(t._gsap.swappedIn){var s=r.parentNode;s&&(s.insertBefore(t,r),s.removeChild(r))}t._gsap.swappedIn=!1},Ki=function(t,r,i,n){if(!t._gsap.swappedIn){for(var s=fn.length,a=r.style,o=t.style,c;s--;)c=fn[s],a[c]=i[c];a.position=i.position==="absolute"?"absolute":"relative",i.display==="inline"&&(a.display="inline-block"),o[bn]=o[Sn]="auto",a.flexBasis=i.flexBasis||"auto",a.overflow="visible",a.boxSizing="border-box",a[ur]=Ai(t,tt)+Pe,a[cr]=Ai(t,Ce)+Pe,a[Ee]=o[pt]=o[Ks]=o[$s]="0",Mr(n),o[ur]=o["max"+Pr]=i[ur],o[cr]=o["max"+Tn]=i[cr],o[Ee]=i[Ee],t.parentNode!==r&&(t.parentNode.insertBefore(r,t),r.appendChild(t)),t._gsap.swappedIn=!0}},tu=/([A-Z])/g,Mr=function(t){if(t){var r=t.t.style,i=t.length,n=0,s,a;for((t.t._gsap||R.core.getCache(t.t)).uncache=1;n<i;n+=2)a=t[n+1],s=t[n],a?r[s]=a:r[s]&&r.removeProperty(s.replace(tu,"-$1").toLowerCase())}},_i=function(t){for(var r=Ri.length,i=t.style,n=[],s=0;s<r;s++)n.push(Ri[s],i[Ri[s]]);return n.t=t,n},ru=function(t,r,i){for(var n=[],s=t.length,a=i?8:0,o;a<s;a+=2)o=t[a],n.push(o,o in r?r[o]:t[a+1]);return n.t=t.t,n},Pi={left:0,top:0},os=function(t,r,i,n,s,a,o,c,l,x,g,m,f,_){Xe(t)&&(t=t(c)),ut(t)&&t.substr(0,3)==="max"&&(t=m+(t.charAt(4)==="="?Ei("0"+t.substr(3),i):0));var A=f?f.time():0,C,P,M;if(f&&f.seek(0),isNaN(t)||(t=+t),Fr(t))f&&(t=R.utils.mapRange(f.scrollTrigger.start,f.scrollTrigger.end,0,m,t)),o&&wi(o,i,n,!0);else{Xe(r)&&(r=r(c));var T=(t||"0").split(" "),w,ae,ie,U;M=nt(r,c)||re,w=It(M)||{},(!w||!w.left&&!w.top)&&gt(M).display==="none"&&(U=M.style.display,M.style.display="block",w=It(M),U?M.style.display=U:M.style.removeProperty("display")),ae=Ei(T[0],w[n.d]),ie=Ei(T[1]||"0",i),t=w[n.p]-l[n.p]-x+ae+s-ie,o&&wi(o,ie,n,i-ie<20||o._isStart&&ie>20),i-=i-ie}if(_&&(c[_]=t||-.001,t<0&&(t=0)),a){var y=t+i,v=a._isStart;C="scroll"+n.d2,wi(a,y,n,v&&y>20||!v&&(g?Math.max(re[C],ct[C]):a.parentNode[C])<=y+1),g&&(l=It(o),g&&(a.style[n.op.p]=l[n.op.p]-n.op.m-a._offset+Pe))}return f&&M&&(C=It(M),f.seek(m),P=It(M),f._caScrollDist=C[n.p]-P[n.p],t=t/f._caScrollDist*m),f&&f.seek(A),f?t:Math.round(t)},iu=/(webkit|moz|length|cssText|inset)/i,ls=function(t,r,i,n){if(t.parentNode!==r){var s=t.style,a,o;if(r===re){t._stOrig=s.cssText,o=gt(t);for(a in o)!+a&&!iu.test(a)&&o[a]&&typeof s[a]=="string"&&a!=="0"&&(s[a]=o[a]);s.top=i,s.left=n}else s.cssText=t._stOrig;R.core.getCache(t).uncache=1,r.appendChild(t)}},ia=function(t,r,i){var n=r,s=n;return function(a){var o=Math.round(t());return o!==n&&o!==s&&Math.abs(o-n)>3&&Math.abs(o-s)>3&&(a=o,i&&i()),s=n,n=Math.round(a),n}},Si=function(t,r,i){var n={};n[r.p]="+="+i,R.set(t,n)},us=function(t,r){var i=Jt(t,r),n="_scroll"+r.p2,s=function a(o,c,l,x,g){var m=a.tween,f=c.onComplete,_={};l=l||i();var A=ia(i,l,function(){m.kill(),a.tween=0});return g=x&&g||0,x=x||o-l,m&&m.kill(),c[n]=o,c.inherit=!1,c.modifiers=_,_[n]=function(){return A(l+x*m.ratio+g*m.ratio*m.ratio)},c.onUpdate=function(){G.cache++,a.tween&&zt()},c.onComplete=function(){a.tween=0,f&&f.call(m)},m=a.tween=R.to(t,c),m};return t[n]=i,i.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},Ie(t,"wheel",i.wheelHandler),j.isTouch&&Ie(t,"touchmove",i.wheelHandler),s},j=(function(){function e(r,i){Sr||e.register(R)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),on(this),this.init(r,i)}var t=e.prototype;return t.init=function(i,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!kr){this.update=this.refresh=this.kill=Rt;return}i=rs(ut(i)||Fr(i)||i.nodeType?{trigger:i}:i,xi);var s=i,a=s.onUpdate,o=s.toggleClass,c=s.id,l=s.onToggle,x=s.onRefresh,g=s.scrub,m=s.trigger,f=s.pin,_=s.pinSpacing,A=s.invalidateOnRefresh,C=s.anticipatePin,P=s.onScrubComplete,M=s.onSnapComplete,T=s.once,w=s.snap,ae=s.pinReparent,ie=s.pinSpacer,U=s.containerAnimation,y=s.fastScrollEnd,v=s.preventOverlaps,h=i.horizontal||i.containerAnimation&&i.horizontal!==!1?tt:Ce,S=!g&&g!==0,b=nt(i.scroller||L),Q=R.core.getCache(b),$=hr(b),K=("pinType"in i?i.pinType:Zt(b,"pinType")||$&&"fixed")==="fixed",te=[i.onEnter,i.onLeave,i.onEnterBack,i.onLeaveBack],F=S&&i.toggleActions.split(" "),q="markers"in i?i.markers:xi.markers,ne=$?0:parseFloat(gt(b)["border"+h.p2+Pr])||0,u=this,ce=i.onRefreshInit&&function(){return i.onRefreshInit(u)},rt=Xl(b,$,h),Be=ql(b,$),ge=0,Le=0,se=0,oe=Jt(b,h),de,fe,it,ye,we,I,le,Me,st,d,at,Dt,Lt,ve,Bt,Gt,tr,Ae,jt,_e,xt,ht,At,Cr,Te,ii,Ut,gr,mr,Vt,rr,V,ir,yt,_t,St,nr,vr,Ot;if(u._startClamp=u._endClamp=!1,u._dir=h,C*=45,u.scroller=b,u.scroll=U?U.time.bind(U):oe,ye=oe(),u.vars=i,n=n||i.animation,"refreshPriority"in i&&(Ls=1,i.refreshPriority===-9999&&(Jr=u)),Q.tweenScroll=Q.tweenScroll||{top:us(b,Ce),left:us(b,tt)},u.tweenTo=de=Q.tweenScroll[h.p],u.scrubDuration=function(E){ir=Fr(E)&&E,ir?V?V.duration(E):V=R.to(n,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:ir,paused:!0,onComplete:function(){return P&&P(u)}}):(V&&V.progress(1).kill(),V=0)},n&&(n.vars.lazy=!1,n._initted&&!u.isReverted||n.vars.immediateRender!==!1&&i.immediateRender!==!1&&n.duration()&&n.render(0,!0,!0),u.animation=n.pause(),n.scrollTrigger=u,u.scrubDuration(g),Vt=0,c||(c=n.vars.id)),w&&((!or(w)||w.push)&&(w={snapTo:w}),"scrollBehavior"in re.style&&R.set($?[re,ct]:b,{scrollBehavior:"auto"}),G.forEach(function(E){return Xe(E)&&E.target===($?he.scrollingElement||ct:b)&&(E.smooth=!1)}),it=Xe(w.snapTo)?w.snapTo:w.snapTo==="labels"?Kl(n):w.snapTo==="labelsDirectional"?Zl(n):w.directional!==!1?function(E,N){return En(w.snapTo)(E,Ye()-Le<500?0:N.direction)}:R.utils.snap(w.snapTo),yt=w.duration||{min:.1,max:2},yt=or(yt)?Xr(yt.min,yt.max):Xr(yt,yt),_t=R.delayedCall(w.delay||ir/2||.1,function(){var E=oe(),N=Ye()-Le<500,D=de.tween;if((N||Math.abs(u.getVelocity())<10)&&!D&&!Ii&&ge!==E){var k=(E-I)/ve,Ue=n&&!S?n.totalProgress():k,X=N?0:(Ue-rr)/(Ye()-Nr)*1e3||0,Se=R.utils.clamp(-k,1-k,yr(X/2)*X/.185),Ge=k+(w.inertia===!1?0:Se),xe,pe,ue=w,bt=ue.onStart,me=ue.onInterrupt,ot=ue.onComplete;if(xe=it(Ge,u),Fr(xe)||(xe=Ge),pe=Math.max(0,Math.round(I+xe*ve)),E<=le&&E>=I&&pe!==E){if(D&&!D._initted&&D.data<=yr(pe-E))return;w.inertia===!1&&(Se=xe-k),de(pe,{duration:yt(yr(Math.max(yr(Ge-Ue),yr(xe-Ue))*.185/X/.05||0)),ease:w.ease||"power3",data:yr(pe-E),onInterrupt:function(){return _t.restart(!0)&&me&&me(u)},onComplete:function(){u.update(),ge=oe(),n&&!S&&(V?V.resetTo("totalProgress",xe,n._tTime/n._tDur):n.progress(xe)),Vt=rr=n&&!S?n.totalProgress():u.progress,M&&M(u),ot&&ot(u)}},E,Se*ve,pe-E-Se*ve),bt&&bt(u,de.tween)}}else u.isActive&&ge!==E&&_t.restart(!0)}).pause()),c&&(un[c]=u),m=u.trigger=nt(m||f!==!0&&f),Ot=m&&m._gsap&&m._gsap.stRevert,Ot&&(Ot=Ot(u)),f=f===!0?m:nt(f),ut(o)&&(o={targets:m,className:o}),f&&(_===!1||_===pt||(_=!_&&f.parentNode&&f.parentNode.style&&gt(f.parentNode).display==="flex"?!1:Ee),u.pin=f,fe=R.core.getCache(f),fe.spacer?Bt=fe.pinState:(ie&&(ie=nt(ie),ie&&!ie.nodeType&&(ie=ie.current||ie.nativeElement),fe.spacerIsNative=!!ie,ie&&(fe.spacerState=_i(ie))),fe.spacer=Ae=ie||he.createElement("div"),Ae.classList.add("pin-spacer"),c&&Ae.classList.add("pin-spacer-"+c),fe.pinState=Bt=_i(f)),i.force3D!==!1&&R.set(f,{force3D:!0}),u.spacer=Ae=fe.spacer,mr=gt(f),Cr=mr[_+h.os2],_e=R.getProperty(f),xt=R.quickSetter(f,h.a,Pe),Ki(f,Ae,mr),tr=_i(f)),q){Dt=or(q)?rs(q,is):is,d=yi("scroller-start",c,b,h,Dt,0),at=yi("scroller-end",c,b,h,Dt,0,d),jt=d["offset"+h.op.d2];var Dr=nt(Zt(b,"content")||b);Me=this.markerStart=yi("start",c,Dr,h,Dt,jt,0,U),st=this.markerEnd=yi("end",c,Dr,h,Dt,jt,0,U),U&&(vr=R.quickSetter([Me,st],h.a,Pe)),!K&&!(Ct.length&&Zt(b,"fixedMarkers")===!0)&&($l($?re:b),R.set([d,at],{force3D:!0}),ii=R.quickSetter(d,h.a,Pe),gr=R.quickSetter(at,h.a,Pe))}if(U){var z=U.vars.onUpdate,O=U.vars.onUpdateParams;U.eventCallback("onUpdate",function(){u.update(0,0,1),z&&z.apply(U,O||[])})}if(u.previous=function(){return H[H.indexOf(u)-1]},u.next=function(){return H[H.indexOf(u)+1]},u.revert=function(E,N){if(!N)return u.kill(!0);var D=E!==!1||!u.enabled,k=We;D!==u.isReverted&&(D&&(St=Math.max(oe(),u.scroll.rec||0),se=u.progress,nr=n&&n.progress()),Me&&[Me,st,d,at].forEach(function(Ue){return Ue.style.display=D?"none":"block"}),D&&(We=u,u.update(D)),f&&(!ae||!u.isActive)&&(D?eu(f,Ae,Bt):Ki(f,Ae,gt(f),Te)),D||u.update(D),We=k,u.isReverted=D)},u.refresh=function(E,N,D,k){if(!((We||!u.enabled)&&!N)){if(f&&E&&mt){Ie(e,"scrollEnd",Qs);return}!et&&ce&&ce(u),We=u,de.tween&&!D&&(de.tween.kill(),de.tween=0),V&&V.pause(),A&&n&&(n.revert({kill:!1}).invalidate(),n.getChildren?n.getChildren(!0,!0,!1).forEach(function(Wt){return Wt.vars.immediateRender&&Wt.render(0,!0,!0)}):n.vars.immediateRender&&n.render(0,!0,!0)),u.isReverted||u.revert(!0,!0),u._subPinOffset=!1;var Ue=rt(),X=Be(),Se=U?U.duration():Pt(b,h),Ge=ve<=.01||!ve,xe=0,pe=k||0,ue=or(D)?D.end:i.end,bt=i.endTrigger||m,me=or(D)?D.start:i.start||(i.start===0||!m?0:f?"0 0":"0 100%"),ot=u.pinnedContainer=i.pinnedContainer&&nt(i.pinnedContainer,u),Et=m&&Math.max(0,H.indexOf(u))||0,ze=Et,Fe,je,sr,ni,Ve,Re,wt,Ni,Mn,Br,Mt,Ar,si;for(q&&or(D)&&(Ar=R.getProperty(d,h.p),si=R.getProperty(at,h.p));ze-- >0;)Re=H[ze],Re.end||Re.refresh(0,1)||(We=u),wt=Re.pin,wt&&(wt===m||wt===f||wt===ot)&&!Re.isReverted&&(Br||(Br=[]),Br.unshift(Re),Re.revert(!0,!0)),Re!==H[ze]&&(Et--,ze--);for(Xe(me)&&(me=me(u)),me=Qn(me,"start",u),I=os(me,m,Ue,h,oe(),Me,d,u,X,ne,K,Se,U,u._startClamp&&"_startClamp")||(f?-.001:0),Xe(ue)&&(ue=ue(u)),ut(ue)&&!ue.indexOf("+=")&&(~ue.indexOf(" ")?ue=(ut(me)?me.split(" ")[0]:"")+ue:(xe=Ei(ue.substr(2),Ue),ue=ut(me)?me:(U?R.utils.mapRange(0,U.duration(),U.scrollTrigger.start,U.scrollTrigger.end,I):I)+xe,bt=m)),ue=Qn(ue,"end",u),le=Math.max(I,os(ue||(bt?"100% 0":Se),bt,Ue,h,oe()+xe,st,at,u,X,ne,K,Se,U,u._endClamp&&"_endClamp"))||-.001,xe=0,ze=Et;ze--;)Re=H[ze]||{},wt=Re.pin,wt&&Re.start-Re._pinPush<=I&&!U&&Re.end>0&&(Fe=Re.end-(u._startClamp?Math.max(0,Re.start):Re.start),(wt===m&&Re.start-Re._pinPush<I||wt===ot)&&isNaN(me)&&(xe+=Fe*(1-Re.progress)),wt===f&&(pe+=Fe));if(I+=xe,le+=xe,u._startClamp&&(u._startClamp+=xe),u._endClamp&&!et&&(u._endClamp=le||-.001,le=Math.min(le,Pt(b,h))),ve=le-I||(I-=.01)&&.001,Ge&&(se=R.utils.clamp(0,1,R.utils.normalize(I,le,St))),u._pinPush=pe,Me&&xe&&(Fe={},Fe[h.a]="+="+xe,ot&&(Fe[h.p]="-="+oe()),R.set([Me,st],Fe)),f&&!(ln&&u.end>=Pt(b,h)))Fe=gt(f),ni=h===Ce,sr=oe(),ht=parseFloat(_e(h.a))+pe,!Se&&le>1&&(Mt=($?he.scrollingElement||ct:b).style,Mt={style:Mt,value:Mt["overflow"+h.a.toUpperCase()]},$&&gt(re)["overflow"+h.a.toUpperCase()]!=="scroll"&&(Mt.style["overflow"+h.a.toUpperCase()]="scroll")),Ki(f,Ae,Fe),tr=_i(f),je=It(f,!0),Ni=K&&Jt(b,ni?tt:Ce)(),_?(Te=[_+h.os2,ve+pe+Pe],Te.t=Ae,ze=_===Ee?Ai(f,h)+ve+pe:0,ze&&(Te.push(h.d,ze+Pe),Ae.style.flexBasis!=="auto"&&(Ae.style.flexBasis=ze+Pe)),Mr(Te),ot&&H.forEach(function(Wt){Wt.pin===ot&&Wt.vars.pinSpacing!==!1&&(Wt._subPinOffset=!0)}),K&&oe(St)):(ze=Ai(f,h),ze&&Ae.style.flexBasis!=="auto"&&(Ae.style.flexBasis=ze+Pe)),K&&(Ve={top:je.top+(ni?sr-I:Ni)+Pe,left:je.left+(ni?Ni:sr-I)+Pe,boxSizing:"border-box",position:"fixed"},Ve[ur]=Ve["max"+Pr]=Math.ceil(je.width)+Pe,Ve[cr]=Ve["max"+Tn]=Math.ceil(je.height)+Pe,Ve[pt]=Ve[pt+Zr]=Ve[pt+$r]=Ve[pt+Qr]=Ve[pt+Kr]="0",Ve[Ee]=Fe[Ee],Ve[Ee+Zr]=Fe[Ee+Zr],Ve[Ee+$r]=Fe[Ee+$r],Ve[Ee+Qr]=Fe[Ee+Qr],Ve[Ee+Kr]=Fe[Ee+Kr],Gt=ru(Bt,Ve,ae),et&&oe(0)),n?(Mn=n._initted,Wi(1),n.render(n.duration(),!0,!0),At=_e(h.a)-ht+ve+pe,Ut=Math.abs(ve-At)>1,K&&Ut&&Gt.splice(Gt.length-2,2),n.render(0,!0,!0),Mn||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),Wi(0)):At=ve,Mt&&(Mt.value?Mt.style["overflow"+h.a.toUpperCase()]=Mt.value:Mt.style.removeProperty("overflow-"+h.a));else if(m&&oe()&&!U)for(je=m.parentNode;je&&je!==re;)je._pinOffset&&(I-=je._pinOffset,le-=je._pinOffset),je=je.parentNode;Br&&Br.forEach(function(Wt){return Wt.revert(!1,!0)}),u.start=I,u.end=le,ye=we=et?St:oe(),!U&&!et&&(ye<St&&oe(St),u.scroll.rec=0),u.revert(!1,!0),Le=Ye(),_t&&(ge=-1,_t.restart(!0)),We=0,n&&S&&(n._initted||nr)&&n.progress()!==nr&&n.progress(nr||0,!0).render(n.time(),!0,!0),(Ge||se!==u.progress||U||A||n&&!n._initted)&&(n&&!S&&(n._initted||se||n.vars.immediateRender!==!1)&&n.totalProgress(U&&I<-.001&&!se?R.utils.normalize(I,le,0):se,!0),u.progress=Ge||(ye-I)/ve===se?0:se),f&&_&&(Ae._pinOffset=Math.round(u.progress*At)),V&&V.invalidate(),isNaN(Ar)||(Ar-=R.getProperty(d,h.p),si-=R.getProperty(at,h.p),Si(d,h,Ar),Si(Me,h,Ar-(k||0)),Si(at,h,si),Si(st,h,si-(k||0))),Ge&&!et&&u.update(),x&&!et&&!Lt&&(Lt=!0,x(u),Lt=!1)}},u.getVelocity=function(){return(oe()-we)/(Ye()-Nr)*1e3||0},u.endAnimation=function(){Or(u.callbackAnimation),n&&(V?V.progress(1):n.paused()?S||Or(n,u.direction<0,1):Or(n,n.reversed()))},u.labelToScroll=function(E){return n&&n.labels&&(I||u.refresh()||I)+n.labels[E]/n.duration()*ve||0},u.getTrailing=function(E){var N=H.indexOf(u),D=u.direction>0?H.slice(0,N).reverse():H.slice(N+1);return(ut(E)?D.filter(function(k){return k.vars.preventOverlaps===E}):D).filter(function(k){return u.direction>0?k.end<=I:k.start>=le})},u.update=function(E,N,D){if(!(U&&!D&&!E)){var k=et===!0?St:u.scroll(),Ue=E?0:(k-I)/ve,X=Ue<0?0:Ue>1?1:Ue||0,Se=u.progress,Ge,xe,pe,ue,bt,me,ot,Et;if(N&&(we=ye,ye=U?oe():k,w&&(rr=Vt,Vt=n&&!S?n.totalProgress():X)),C&&f&&!We&&!pi&&mt&&(!X&&I<k+(k-we)/(Ye()-Nr)*C?X=1e-4:X===1&&le>k+(k-we)/(Ye()-Nr)*C&&(X=.9999)),X!==Se&&u.enabled){if(Ge=u.isActive=!!X&&X<1,xe=!!Se&&Se<1,me=Ge!==xe,bt=me||!!X!=!!Se,u.direction=X>Se?1:-1,u.progress=X,bt&&!We&&(pe=X&&!Se?0:X===1?1:Se===1?2:3,S&&(ue=!me&&F[pe+1]!=="none"&&F[pe+1]||F[pe],Et=n&&(ue==="complete"||ue==="reset"||ue in n))),v&&(me||Et)&&(Et||g||!n)&&(Xe(v)?v(u):u.getTrailing(v).forEach(function(sr){return sr.endAnimation()})),S||(V&&!We&&!pi?(V._dp._time-V._start!==V._time&&V.render(V._dp._time-V._start),V.resetTo?V.resetTo("totalProgress",X,n._tTime/n._tDur):(V.vars.totalProgress=X,V.invalidate().restart())):n&&n.totalProgress(X,!!(We&&(Le||E)))),f){if(E&&_&&(Ae.style[_+h.os2]=Cr),!K)xt(zr(ht+At*X));else if(bt){if(ot=!E&&X>Se&&le+1>k&&k+1>=Pt(b,h),ae)if(!E&&(Ge||ot)){var ze=It(f,!0),Fe=k-I;ls(f,re,ze.top+(h===Ce?Fe:0)+Pe,ze.left+(h===Ce?0:Fe)+Pe)}else ls(f,Ae);Mr(Ge||ot?Gt:tr),Ut&&X<1&&Ge||xt(ht+(X===1&&!ot?At:0))}}w&&!de.tween&&!We&&!pi&&_t.restart(!0),o&&(me||T&&X&&(X<1||!Yi))&&ei(o.targets).forEach(function(sr){return sr.classList[Ge||T?"add":"remove"](o.className)}),a&&!S&&!E&&a(u),bt&&!We?(S&&(Et&&(ue==="complete"?n.pause().totalProgress(1):ue==="reset"?n.restart(!0).pause():ue==="restart"?n.restart(!0):n[ue]()),a&&a(u)),(me||!Yi)&&(l&&me&&qi(u,l),te[pe]&&qi(u,te[pe]),T&&(X===1?u.kill(!1,1):te[pe]=0),me||(pe=X===1?1:3,te[pe]&&qi(u,te[pe]))),y&&!Ge&&Math.abs(u.getVelocity())>(Fr(y)?y:2500)&&(Or(u.callbackAnimation),V?V.progress(1):Or(n,ue==="reverse"?1:!X,1))):S&&a&&!We&&a(u)}if(gr){var je=U?k/U.duration()*(U._caScrollDist||0):k;ii(je+(d._isFlipped?1:0)),gr(je)}vr&&vr(-k/U.duration()*(U._caScrollDist||0))}},u.enable=function(E,N){u.enabled||(u.enabled=!0,Ie(b,"resize",Hr),$||Ie(b,"scroll",_r),ce&&Ie(e,"refreshInit",ce),E!==!1&&(u.progress=se=0,ye=we=ge=oe()),N!==!1&&u.refresh())},u.getTween=function(E){return E&&de?de.tween:V},u.setPositions=function(E,N,D,k){if(U){var Ue=U.scrollTrigger,X=U.duration(),Se=Ue.end-Ue.start;E=Ue.start+Se*E/X,N=Ue.start+Se*N/X}u.refresh(!1,!1,{start:Jn(E,D&&!!u._startClamp),end:Jn(N,D&&!!u._endClamp)},k),u.update()},u.adjustPinSpacing=function(E){if(Te&&E){var N=Te.indexOf(h.d)+1;Te[N]=parseFloat(Te[N])+E+Pe,Te[1]=parseFloat(Te[1])+E+Pe,Mr(Te)}},u.disable=function(E,N){if(E!==!1&&u.revert(!0,!0),u.enabled&&(u.enabled=u.isActive=!1,N||V&&V.pause(),St=0,fe&&(fe.uncache=1),ce&&Oe(e,"refreshInit",ce),_t&&(_t.pause(),de.tween&&de.tween.kill()&&(de.tween=0)),!$)){for(var D=H.length;D--;)if(H[D].scroller===b&&H[D]!==u)return;Oe(b,"resize",Hr),$||Oe(b,"scroll",_r)}},u.kill=function(E,N){u.disable(E,N),V&&!N&&V.kill(),c&&delete un[c];var D=H.indexOf(u);D>=0&&H.splice(D,1),D===Je&&Mi>0&&Je--,D=0,H.forEach(function(k){return k.scroller===u.scroller&&(D=1)}),D||et||(u.scroll.rec=0),n&&(n.scrollTrigger=null,E&&n.revert({kill:!1}),N||n.kill()),Me&&[Me,st,d,at].forEach(function(k){return k.parentNode&&k.parentNode.removeChild(k)}),Jr===u&&(Jr=0),f&&(fe&&(fe.uncache=1),D=0,H.forEach(function(k){return k.pin===f&&D++}),D||(fe.spacer=0)),i.onKill&&i.onKill(u)},H.push(u),u.enable(!1,!1),Ot&&Ot(u),n&&n.add&&!ve){var J=u.update;u.update=function(){u.update=J,G.cache++,I||le||u.refresh()},R.delayedCall(.01,u.update),ve=.01,I=le=0}else u.refresh();f&&Jl()},e.register=function(i){return Sr||(R=i||Ys(),Ws()&&window.document&&e.enable(),Sr=kr),Sr},e.defaults=function(i){if(i)for(var n in i)xi[n]=i[n];return xi},e.disable=function(i,n){kr=0,H.forEach(function(a){return a[n?"kill":"disable"](i)}),Oe(L,"wheel",_r),Oe(he,"scroll",_r),clearInterval(di),Oe(he,"touchcancel",Rt),Oe(re,"touchstart",Rt),mi(Oe,he,"pointerdown,touchstart,mousedown",es),mi(Oe,he,"pointerup,touchend,mouseup",ts),Bi.kill(),gi(Oe);for(var s=0;s<G.length;s+=3)vi(Oe,G[s],G[s+1]),vi(Oe,G[s],G[s+2])},e.enable=function(){if(L=window,he=document,ct=he.documentElement,re=he.body,R&&(ei=R.utils.toArray,Xr=R.utils.clamp,on=R.core.context||Rt,Wi=R.core.suppressOverwrites||Rt,yn=L.history.scrollRestoration||"auto",cn=L.pageYOffset||0,R.core.globals("ScrollTrigger",e),re)){kr=1,wr=document.createElement("div"),wr.style.height="100vh",wr.style.position="absolute",ra(),Yl(),be.register(R),e.isTouch=be.isTouch,Xt=be.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),an=be.isTouch===1,Ie(L,"wheel",_r),xn=[L,he,ct,re],R.matchMedia?(e.matchMedia=function(l){var x=R.matchMedia(),g;for(g in l)x.add(g,l[g]);return x},R.addEventListener("matchMediaInit",function(){ea(),wn()}),R.addEventListener("matchMediaRevert",function(){return Js()}),R.addEventListener("matchMedia",function(){lr(0,1),pr("matchMedia")}),R.matchMedia().add("(orientation: portrait)",function(){return $i(),$i})):console.warn("Requires GSAP 3.11.0 or later"),$i(),Ie(he,"scroll",_r);var i=re.hasAttribute("style"),n=re.style,s=n.borderTopStyle,a=R.core.Animation.prototype,o,c;for(a.revert||Object.defineProperty(a,"revert",{value:function(){return this.time(-.01,!0)}}),n.borderTopStyle="solid",o=It(re),Ce.m=Math.round(o.top+Ce.sc())||0,tt.m=Math.round(o.left+tt.sc())||0,s?n.borderTopStyle=s:n.removeProperty("border-top-style"),i||(re.setAttribute("style",""),re.removeAttribute("style")),di=setInterval(ns,250),R.delayedCall(.5,function(){return pi=0}),Ie(he,"touchcancel",Rt),Ie(re,"touchstart",Rt),mi(Ie,he,"pointerdown,touchstart,mousedown",es),mi(Ie,he,"pointerup,touchend,mouseup",ts),sn=R.utils.checkPrefix("transform"),Ri.push(sn),Sr=Ye(),Bi=R.delayedCall(.2,lr).pause(),br=[he,"visibilitychange",function(){var l=L.innerWidth,x=L.innerHeight;he.hidden?(Kn=l,Zn=x):(Kn!==l||Zn!==x)&&Hr()},he,"DOMContentLoaded",lr,L,"load",lr,L,"resize",Hr],gi(Ie),H.forEach(function(l){return l.enable(0,1)}),c=0;c<G.length;c+=3)vi(Oe,G[c],G[c+1]),vi(Oe,G[c],G[c+2])}},e.config=function(i){"limitCallbacks"in i&&(Yi=!!i.limitCallbacks);var n=i.syncInterval;n&&clearInterval(di)||(di=n)&&setInterval(ns,n),"ignoreMobileResize"in i&&(an=e.isTouch===1&&i.ignoreMobileResize),"autoRefreshEvents"in i&&(gi(Oe)||gi(Ie,i.autoRefreshEvents||"none"),Gs=(i.autoRefreshEvents+"").indexOf("resize")===-1)},e.scrollerProxy=function(i,n){var s=nt(i),a=G.indexOf(s),o=hr(s);~a&&G.splice(a,o?6:2),n&&(o?Ct.unshift(L,n,re,n,ct,n):Ct.unshift(s,n))},e.clearMatchMedia=function(i){H.forEach(function(n){return n._ctx&&n._ctx.query===i&&n._ctx.kill(!0,!0)})},e.isInViewport=function(i,n,s){var a=(ut(i)?nt(i):i).getBoundingClientRect(),o=a[s?ur:cr]*n||0;return s?a.right-o>0&&a.left+o<L.innerWidth:a.bottom-o>0&&a.top+o<L.innerHeight},e.positionInViewport=function(i,n,s){ut(i)&&(i=nt(i));var a=i.getBoundingClientRect(),o=a[s?ur:cr],c=n==null?o/2:n in Ui?Ui[n]*o:~n.indexOf("%")?parseFloat(n)*o/100:parseFloat(n)||0;return s?(a.left+c)/L.innerWidth:(a.top+c)/L.innerHeight},e.killAll=function(i){if(H.slice(0).forEach(function(s){return s.vars.id!=="ScrollSmoother"&&s.kill()}),i!==!0){var n=dr.killAll||[];dr={},n.forEach(function(s){return s()})}},e})();j.version="3.14.2";j.saveStyles=function(e){return e?ei(e).forEach(function(t){if(t&&t.style){var r=lt.indexOf(t);r>=0&&lt.splice(r,5),lt.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),R.core.getCache(t),on())}}):lt};j.revert=function(e,t){return wn(!e,t)};j.create=function(e,t){return new j(e,t)};j.refresh=function(e){return e?Hr(!0):(Sr||j.register())&&lr(!0)};j.update=function(e){return++G.cache&&zt(e===!0?2:0)};j.clearScrollMemory=ta;j.maxScroll=function(e,t){return Pt(e,t?tt:Ce)};j.getScrollFunc=function(e,t){return Jt(nt(e),t?tt:Ce)};j.getById=function(e){return un[e]};j.getAll=function(){return H.filter(function(e){return e.vars.id!=="ScrollSmoother"})};j.isScrolling=function(){return!!mt};j.snapDirectional=En;j.addEventListener=function(e,t){var r=dr[e]||(dr[e]=[]);~r.indexOf(t)||r.push(t)};j.removeEventListener=function(e,t){var r=dr[e],i=r&&r.indexOf(t);i>=0&&r.splice(i,1)};j.batch=function(e,t){var r=[],i={},n=t.interval||.016,s=t.batchMax||1e9,a=function(l,x){var g=[],m=[],f=R.delayedCall(n,function(){x(g,m),g=[],m=[]}).pause();return function(_){g.length||f.restart(!0),g.push(_.trigger),m.push(_),s<=g.length&&f.progress(1)}},o;for(o in t)i[o]=o.substr(0,2)==="on"&&Xe(t[o])&&o!=="onRefreshInit"?a(o,t[o]):t[o];return Xe(s)&&(s=s(),Ie(j,"refresh",function(){return s=t.batchMax()})),ei(e).forEach(function(c){var l={};for(o in i)l[o]=i[o];l.trigger=c,r.push(j.create(l))}),r};var cs=function(t,r,i,n){return r>n?t(n):r<0&&t(0),i>n?(n-r)/(i-r):i<0?r/(r-i):1},Zi=function e(t,r){r===!0?t.style.removeProperty("touch-action"):t.style.touchAction=r===!0?"auto":r?"pan-"+r+(be.isTouch?" pinch-zoom":""):"none",t===ct&&e(re,r)},bi={auto:1,scroll:1},nu=function(t){var r=t.event,i=t.target,n=t.axis,s=(r.changedTouches?r.changedTouches[0]:r).target,a=s._gsap||R.core.getCache(s),o=Ye(),c;if(!a._isScrollT||o-a._isScrollT>2e3){for(;s&&s!==re&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!(bi[(c=gt(s)).overflowY]||bi[c.overflowX]));)s=s.parentNode;a._isScroll=s&&s!==i&&!hr(s)&&(bi[(c=gt(s)).overflowY]||bi[c.overflowX]),a._isScrollT=o}(a._isScroll||n==="x")&&(r.stopPropagation(),r._gsapAllow=!0)},na=function(t,r,i,n){return be.create({target:t,capture:!0,debounce:!1,lockAxis:!0,type:r,onWheel:n=n&&nu,onPress:n,onDrag:n,onScroll:n,onEnable:function(){return i&&Ie(he,be.eventTypes[0],hs,!1,!0)},onDisable:function(){return Oe(he,be.eventTypes[0],hs,!0)}})},su=/(input|label|select|textarea)/i,fs,hs=function(t){var r=su.test(t.target.tagName);(r||fs)&&(t._gsapAllow=!0,fs=r)},au=function(t){or(t)||(t={}),t.preventDefault=t.isNormalizer=t.allowClicks=!0,t.type||(t.type="wheel,touch"),t.debounce=!!t.debounce,t.id=t.id||"normalizer";var r=t,i=r.normalizeScrollX,n=r.momentum,s=r.allowNestedScroll,a=r.onRelease,o,c,l=nt(t.target)||ct,x=R.core.globals().ScrollSmoother,g=x&&x.get(),m=Xt&&(t.content&&nt(t.content)||g&&t.content!==!1&&!g.smooth()&&g.content()),f=Jt(l,Ce),_=Jt(l,tt),A=1,C=(be.isTouch&&L.visualViewport?L.visualViewport.scale*L.visualViewport.width:L.outerWidth)/L.innerWidth,P=0,M=Xe(n)?function(){return n(o)}:function(){return n||2.8},T,w,ae=na(l,t.type,!0,s),ie=function(){return w=!1},U=Rt,y=Rt,v=function(){c=Pt(l,Ce),y=Xr(Xt?1:0,c),i&&(U=Xr(0,Pt(l,tt))),T=fr},h=function(){m._gsap.y=zr(parseFloat(m._gsap.y)+f.offset)+"px",m.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(m._gsap.y)+", 0, 1)",f.offset=f.cacheID=0},S=function(){if(w){requestAnimationFrame(ie);var q=zr(o.deltaY/2),ne=y(f.v-q);if(m&&ne!==f.v+f.offset){f.offset=ne-f.v;var u=zr((parseFloat(m&&m._gsap.y)||0)-f.offset);m.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+u+", 0, 1)",m._gsap.y=u+"px",f.cacheID=G.cache,zt()}return!0}f.offset&&h(),w=!0},b,Q,$,K,te=function(){v(),b.isActive()&&b.vars.scrollY>c&&(f()>c?b.progress(1)&&f(c):b.resetTo("scrollY",c))};return m&&R.set(m,{y:"+=0"}),t.ignoreCheck=function(F){return Xt&&F.type==="touchmove"&&S()||A>1.05&&F.type!=="touchstart"||o.isGesturing||F.touches&&F.touches.length>1},t.onPress=function(){w=!1;var F=A;A=zr((L.visualViewport&&L.visualViewport.scale||1)/C),b.pause(),F!==A&&Zi(l,A>1.01?!0:i?!1:"x"),Q=_(),$=f(),v(),T=fr},t.onRelease=t.onGestureStart=function(F,q){if(f.offset&&h(),!q)K.restart(!0);else{G.cache++;var ne=M(),u,ce;i&&(u=_(),ce=u+ne*.05*-F.velocityX/.227,ne*=cs(_,u,ce,Pt(l,tt)),b.vars.scrollX=U(ce)),u=f(),ce=u+ne*.05*-F.velocityY/.227,ne*=cs(f,u,ce,Pt(l,Ce)),b.vars.scrollY=y(ce),b.invalidate().duration(ne).play(.01),(Xt&&b.vars.scrollY>=c||u>=c-1)&&R.to({},{onUpdate:te,duration:ne})}a&&a(F)},t.onWheel=function(){b._ts&&b.pause(),Ye()-P>1e3&&(T=0,P=Ye())},t.onChange=function(F,q,ne,u,ce){if(fr!==T&&v(),q&&i&&_(U(u[2]===q?Q+(F.startX-F.x):_()+q-u[1])),ne){f.offset&&h();var rt=ce[2]===ne,Be=rt?$+F.startY-F.y:f()+ne-ce[1],ge=y(Be);rt&&Be!==ge&&($+=ge-Be),f(ge)}(ne||q)&&zt()},t.onEnable=function(){Zi(l,i?!1:"x"),j.addEventListener("refresh",te),Ie(L,"resize",te),f.smooth&&(f.target.style.scrollBehavior="auto",f.smooth=_.smooth=!1),ae.enable()},t.onDisable=function(){Zi(l,!0),Oe(L,"resize",te),j.removeEventListener("refresh",te),ae.kill()},t.lockAxis=t.lockAxis!==!1,o=new be(t),o.iOS=Xt,Xt&&!f()&&f(1),Xt&&R.ticker.add(Rt),K=o._dc,b=R.to(o,{ease:"power4",paused:!0,inherit:!1,scrollX:i?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:ia(f,f(),function(){return b.pause()})},onUpdate:zt,onComplete:K.vars.onComplete}),o};j.sort=function(e){if(Xe(e))return H.sort(e);var t=L.pageYOffset||0;return j.getAll().forEach(function(r){return r._sortY=r.trigger?t+r.trigger.getBoundingClientRect().top:r.start+L.innerHeight}),H.sort(e||function(r,i){return(r.vars.refreshPriority||0)*-1e6+(r.vars.containerAnimation?1e6:r._sortY)-((i.vars.containerAnimation?1e6:i._sortY)+(i.vars.refreshPriority||0)*-1e6)})};j.observe=function(e){return new be(e)};j.normalizeScroll=function(e){if(typeof e>"u")return Qe;if(e===!0&&Qe)return Qe.enable();if(e===!1){Qe&&Qe.kill(),Qe=e;return}var t=e instanceof be?e:au(e);return Qe&&Qe.target===t.target&&Qe.kill(),hr(t.target)&&(Qe=t),t};j.core={_getVelocityProp:nn,_inputObserver:na,_scrollers:G,_proxies:Ct,bridge:{ss:function(){mt||pr("scrollStart"),mt=Ye()},ref:function(){return We}}};Ys()&&R.registerPlugin(j);var Ir={},Lr={exports:{}},ou=Lr.exports,ds;function lu(){return ds||(ds=1,(function(e,t){(function(r,i){i(t)})(ou,(function(r){var i=function(){return i=Object.assign||function(s){for(var a,o=1,c=arguments.length;o<c;o++)for(var l in a=arguments[o])Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l]);return s},i.apply(this,arguments)},n=(function(){function s(a,o,c){var l=this;this.endVal=o,this.options=c,this.version="2.9.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(x){l.startTime||(l.startTime=x);var g=x-l.startTime;l.remaining=l.duration-g,l.useEasing?l.countDown?l.frameVal=l.startVal-l.easingFn(g,0,l.startVal-l.endVal,l.duration):l.frameVal=l.easingFn(g,l.startVal,l.endVal-l.startVal,l.duration):l.frameVal=l.startVal+(l.endVal-l.startVal)*(g/l.duration);var m=l.countDown?l.frameVal<l.endVal:l.frameVal>l.endVal;l.frameVal=m?l.endVal:l.frameVal,l.frameVal=Number(l.frameVal.toFixed(l.options.decimalPlaces)),l.printValue(l.frameVal),g<l.duration?l.rAF=requestAnimationFrame(l.count):l.finalEndVal!==null?l.update(l.finalEndVal):l.options.onCompleteCallback&&l.options.onCompleteCallback()},this.formatNumber=function(x){var g,m,f,_,A=x<0?"-":"";g=Math.abs(x).toFixed(l.options.decimalPlaces);var C=(g+="").split(".");if(m=C[0],f=C.length>1?l.options.decimal+C[1]:"",l.options.useGrouping){_="";for(var P=3,M=0,T=0,w=m.length;T<w;++T)l.options.useIndianSeparators&&T===4&&(P=2,M=1),T!==0&&M%P==0&&(_=l.options.separator+_),M++,_=m[w-T-1]+_;m=_}return l.options.numerals&&l.options.numerals.length&&(m=m.replace(/[0-9]/g,(function(ae){return l.options.numerals[+ae]})),f=f.replace(/[0-9]/g,(function(ae){return l.options.numerals[+ae]}))),A+l.options.prefix+m+f+l.options.suffix},this.easeOutExpo=function(x,g,m,f){return m*(1-Math.pow(2,-10*x/f))*1024/1023+g},this.options=i(i({},this.defaults),c),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.el=typeof a=="string"?document.getElementById(a):a,o=o??this.parse(this.el.innerHTML),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(o),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,a):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push((function(){return l.handleScroll(l)})),window.onscroll=function(){window.onScrollFns.forEach((function(x){return x()}))},this.handleScroll(this)))}return s.prototype.handleScroll=function(a){if(a&&window&&!a.once){var o=window.innerHeight+window.scrollY,c=a.el.getBoundingClientRect(),l=c.top+window.pageYOffset,x=c.top+c.height+window.pageYOffset;x<o&&x>window.scrollY&&a.paused?(a.paused=!1,setTimeout((function(){return a.start()}),a.options.scrollSpyDelay),a.options.scrollSpyOnce&&(a.once=!0)):(window.scrollY>x||l>o)&&!a.paused&&a.reset()}},s.prototype.determineDirectionAndSmartEasing=function(){var a=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>a;var o=a-this.startVal;if(Math.abs(o)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=a;var c=this.countDown?1:-1;this.endVal=a+c*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=a,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},s.prototype.start=function(a){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),a&&(this.options.onCompleteCallback=a),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},s.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},s.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},s.prototype.update=function(a){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(a),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},s.prototype.printValue=function(a){var o;if(this.el){var c=this.formattingFn(a);!((o=this.options.plugin)===null||o===void 0)&&o.render?this.options.plugin.render(this.el,c):this.el.tagName==="INPUT"?this.el.value=c:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=c:this.el.innerHTML=c}},s.prototype.ensureNumber=function(a){return typeof a=="number"&&!isNaN(a)},s.prototype.validateValue=function(a){var o=Number(a);return this.ensureNumber(o)?o:(this.error="[CountUp] invalid start or end value: ".concat(a),null)},s.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},s.prototype.parse=function(a){var o=function(g){return g.replace(/([.,' ])/g,"\\$1")},c=o(this.options.separator),l=o(this.options.decimal),x=a.replace(new RegExp(c,"g"),"").replace(new RegExp(l,"g"),".");return parseFloat(x)},s})();r.CountUp=n}))})(Lr,Lr.exports)),Lr.exports}var ps;function uu(){if(ps)return Ir;ps=1,Object.defineProperty(Ir,"__esModule",{value:!0});var e=la(),t=lu();function r(y,v){var h=y==null?null:typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(h!=null){var S,b,Q,$,K=[],te=!0,F=!1;try{if(Q=(h=h.call(y)).next,v!==0)for(;!(te=(S=Q.call(h)).done)&&(K.push(S.value),K.length!==v);te=!0);}catch(q){F=!0,b=q}finally{try{if(!te&&h.return!=null&&($=h.return(),Object($)!==$))return}finally{if(F)throw b}}return K}}function i(y,v){var h=Object.keys(y);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(y);v&&(S=S.filter(function(b){return Object.getOwnPropertyDescriptor(y,b).enumerable})),h.push.apply(h,S)}return h}function n(y){for(var v=1;v<arguments.length;v++){var h=arguments[v]!=null?arguments[v]:{};v%2?i(Object(h),!0).forEach(function(S){o(y,S,h[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(h)):i(Object(h)).forEach(function(S){Object.defineProperty(y,S,Object.getOwnPropertyDescriptor(h,S))})}return y}function s(y,v){if(typeof y!="object"||!y)return y;var h=y[Symbol.toPrimitive];if(h!==void 0){var S=h.call(y,v);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(y)}function a(y){var v=s(y,"string");return typeof v=="symbol"?v:String(v)}function o(y,v,h){return v=a(v),v in y?Object.defineProperty(y,v,{value:h,enumerable:!0,configurable:!0,writable:!0}):y[v]=h,y}function c(){return c=Object.assign?Object.assign.bind():function(y){for(var v=1;v<arguments.length;v++){var h=arguments[v];for(var S in h)Object.prototype.hasOwnProperty.call(h,S)&&(y[S]=h[S])}return y},c.apply(this,arguments)}function l(y,v){if(y==null)return{};var h={},S=Object.keys(y),b,Q;for(Q=0;Q<S.length;Q++)b=S[Q],!(v.indexOf(b)>=0)&&(h[b]=y[b]);return h}function x(y,v){if(y==null)return{};var h=l(y,v),S,b;if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(y);for(b=0;b<Q.length;b++)S=Q[b],!(v.indexOf(S)>=0)&&Object.prototype.propertyIsEnumerable.call(y,S)&&(h[S]=y[S])}return h}function g(y,v){return m(y)||r(y,v)||f(y,v)||A()}function m(y){if(Array.isArray(y))return y}function f(y,v){if(y){if(typeof y=="string")return _(y,v);var h=Object.prototype.toString.call(y).slice(8,-1);if(h==="Object"&&y.constructor&&(h=y.constructor.name),h==="Map"||h==="Set")return Array.from(y);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return _(y,v)}}function _(y,v){(v==null||v>y.length)&&(v=y.length);for(var h=0,S=new Array(v);h<v;h++)S[h]=y[h];return S}function A(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var C=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?e.useLayoutEffect:e.useEffect;function P(y){var v=e.useRef(y);return C(function(){v.current=y}),e.useCallback(function(){for(var h=arguments.length,S=new Array(h),b=0;b<h;b++)S[b]=arguments[b];return v.current.apply(void 0,S)},[])}var M=function(v,h){var S=h.decimal,b=h.decimals,Q=h.duration,$=h.easingFn,K=h.end,te=h.formattingFn,F=h.numerals,q=h.prefix,ne=h.separator,u=h.start,ce=h.suffix,rt=h.useEasing,Be=h.useGrouping,ge=h.useIndianSeparators,Le=h.enableScrollSpy,se=h.scrollSpyDelay,oe=h.scrollSpyOnce,de=h.plugin;return new t.CountUp(v,K,{startVal:u,duration:Q,decimal:S,decimalPlaces:b,easingFn:$,formattingFn:te,numerals:F,separator:ne,prefix:q,suffix:ce,plugin:de,useEasing:rt,useIndianSeparators:ge,useGrouping:Be,enableScrollSpy:Le,scrollSpyDelay:se,scrollSpyOnce:oe})},T=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],w={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},ae=function(v){var h=Object.fromEntries(Object.entries(v).filter(function(I){var le=g(I,2),Me=le[1];return Me!==void 0})),S=e.useMemo(function(){return n(n({},w),h)},[v]),b=S.ref,Q=S.startOnMount,$=S.enableReinitialize,K=S.delay,te=S.onEnd,F=S.onStart,q=S.onPauseResume,ne=S.onReset,u=S.onUpdate,ce=x(S,T),rt=e.useRef(),Be=e.useRef(),ge=e.useRef(!1),Le=P(function(){return M(typeof b=="string"?b:b.current,ce)}),se=P(function(I){var le=rt.current;if(le&&!I)return le;var Me=Le();return rt.current=Me,Me}),oe=P(function(){var I=function(){return se(!0).start(function(){te?.({pauseResume:de,reset:fe,start:ye,update:it})})};K&&K>0?Be.current=setTimeout(I,K*1e3):I(),F?.({pauseResume:de,reset:fe,update:it})}),de=P(function(){se().pauseResume(),q?.({reset:fe,start:ye,update:it})}),fe=P(function(){se().el&&(Be.current&&clearTimeout(Be.current),se().reset(),ne?.({pauseResume:de,start:ye,update:it}))}),it=P(function(I){se().update(I),u?.({pauseResume:de,reset:fe,start:ye})}),ye=P(function(){fe(),oe()}),we=P(function(I){Q&&(I&&fe(),oe())});return e.useEffect(function(){ge.current?$&&we(!0):(ge.current=!0,we())},[$,ge,we,K,v.start,v.suffix,v.prefix,v.duration,v.separator,v.decimals,v.decimal,v.formattingFn]),e.useEffect(function(){return function(){fe()}},[fe]),{start:ye,pauseResume:de,reset:fe,update:it,getCountUp:se}},ie=["className","redraw","containerProps","children","style"],U=function(v){var h=v.className,S=v.redraw,b=v.containerProps,Q=v.children,$=v.style,K=x(v,ie),te=e.useRef(null),F=e.useRef(!1),q=ae(n(n({},K),{},{ref:te,startOnMount:typeof Q!="function"||v.delay===0,enableReinitialize:!1})),ne=q.start,u=q.reset,ce=q.update,rt=q.pauseResume,Be=q.getCountUp,ge=P(function(){ne()}),Le=P(function(de){v.preserveValue||u(),ce(de)}),se=P(function(){if(typeof v.children=="function"&&!(te.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}Be()});e.useEffect(function(){se()},[se]),e.useEffect(function(){F.current&&Le(v.end)},[v.end,Le]);var oe=S&&v;return e.useEffect(function(){S&&F.current&&ge()},[ge,S,oe]),e.useEffect(function(){!S&&F.current&&ge()},[ge,S,v.start,v.suffix,v.prefix,v.duration,v.separator,v.decimals,v.decimal,v.className,v.formattingFn]),e.useEffect(function(){F.current=!0},[]),typeof Q=="function"?Q({countUpRef:te,start:ne,reset:u,update:ce,pauseResume:rt,getCountUp:Be}):e.createElement("span",c({className:h,ref:te,style:$},b),typeof v.start<"u"?Be().formattingFn(v.start):"")};return Ir.default=U,Ir.useCountUp=ae,Ir}var cu=uu();const fu=hn(cu);kt.registerPlugin(j);const hu=()=>{const e=B.useRef(null),t=B.useRef([]);return ri(()=>{t.current.forEach((r,i)=>{const n=r.querySelector(".counter-number"),s=Bn[i];kt.set(n,{innerText:"0"}),kt.to(n,{innerText:s.value,duration:2.5,ease:"power2.out",snap:{innerText:1},scrollTrigger:{trigger:"#counter",start:"top center"},onComplete:()=>{n.textContent=`${s.value}${s.suffix}`}})},e)},[]),p.jsx("div",{id:"counter",ref:e,className:"padding-x-lg xl:mt-0 mt-32",children:p.jsx("div",{className:"mx-auto grid-4-cols",children:Bn.map((r,i)=>p.jsxs("div",{ref:n=>n&&(t.current[i]=n),className:"bg-zinc-900 rounded-lg p-10 flex flex-col justify-center",children:[p.jsx("div",{className:"counter-number text-white-50 text-5xl font-bold mb-2",children:p.jsx(fu,{suffix:r.value,end:r.suffix})}),p.jsx("div",{className:"text-white-50 text-lg",children:r.label})]},i))})})},du=()=>(ri(()=>{kt.fromTo(".hero-text h1",{y:50,opacity:0},{y:0,opacity:1,stagger:.3,duration:1,ease:"power2.inOut"})}),p.jsxs("section",{id:"hero",className:"relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 left-0 z-10",children:p.jsx("img",{src:"/images/bg.png",alt:"background"})}),p.jsxs("div",{className:"hero-layout",children:[p.jsx("header",{className:"flex flex-col justify-center md:w-full w-screen md:px-20 px-5",children:p.jsxs("div",{className:"flex flex-col gap-7",children:[p.jsxs("div",{className:"hero-text",children:[p.jsxs("h1",{children:["Shaping",p.jsx("span",{className:"slide",children:p.jsx("span",{className:"wrapper",children:Da.map((e,t)=>p.jsxs("span",{className:"flex items-center md:gap-3 gap-1 pb-2",children:[p.jsx("img",{src:e.imgPath,alt:"person",className:"xl:size-12 md:size-10 size-7 md:p-2 p-1 rounded-full bg-white-50"}),p.jsx("span",{className:"text-purple-700",children:e.text})]},t))})})]}),p.jsx("h1",{children:"into Real Projects"}),p.jsx("h1",{children:"that Deliver Results"})]}),p.jsx("b",{children:p.jsx("p",{className:"bg-gradient-to-r from-white via-indigo-400 to-gray-400 text-transparent bg-clip-text md:text-xl relative z-10 pointer-events-none",children:"Hi, Im Moiz Jawad, a Full-Stack Developer who builds real-world products"})}),p.jsx(Ba,{text:"See My Work",className:"md:w-80 md:h-16 w-60 h-12 z-10",id:"counter"})]})}),p.jsx("figure",{children:p.jsx("div",{className:"hero-3d-layout",children:p.jsx(Hl,{})})})]}),p.jsx(hu,{})]}));kt.registerPlugin(j);const pu=()=>{const e=B.useRef(null),t=B.useRef(null),r=B.useRef(null),i=B.useRef(null);return ri(()=>{const n=kt.context(()=>{kt.fromTo(e.current,{opacity:0},{opacity:1,duration:1.5,ease:"power3.in"}),[t.current,r.current,i.current].forEach((a,o)=>{a&&kt.fromTo(a,{y:60,opacity:0},{y:0,opacity:1,duration:1,ease:"power3.in",delay:.1*(o+1),scrollTrigger:{trigger:a,start:"top 85%",once:!0}})})},e);return()=>n.revert()},{scope:e}),p.jsx("section",{id:"work",ref:e,className:"app-showcase",children:p.jsx("div",{className:"w-full",children:p.jsxs("div",{className:"showcaselayout",children:[p.jsxs("div",{ref:t,className:"first-project-wrapper",children:[p.jsx("div",{className:"image-wrapper",children:p.jsx("img",{src:"/images/project1.png",alt:"Ryde app interface",loading:"lazy"})}),p.jsxs("div",{className:"text-content",children:[p.jsx("h2",{children:"On-Demand Rides Made Simple with a Powerful, User-Friendly App called Ryde"}),p.jsx("p",{className:"text-white-50 md:text-xl",children:"An app built with React Native, Expo, and Tailwind CSS for a fast, user-friendly experience."})]})]}),p.jsxs("div",{className:"project-list-wrapper overflow-hidden",children:[p.jsxs("div",{className:"project",ref:r,children:[p.jsx("div",{className:"image-wrapper bg-[#FFEFDB]",children:p.jsx("img",{src:"/images/project2.png",alt:"Library management platform",loading:"lazy"})}),p.jsx("h2",{children:"The Library Management Platform"})]}),p.jsxs("div",{className:"project",ref:i,children:[p.jsx("div",{className:"image-wrapper bg-[#FFE7EB]",children:p.jsx("img",{src:"/images/project3.png",alt:"YC Directory app",loading:"lazy"})}),p.jsx("h2",{children:"YC Directory  A Startup Showcase App"})]})]})]})})})},gu=()=>{const[e,t]=B.useState(!1);return B.useEffect(()=>{const r=()=>{t(!0)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]),p.jsx("header",{className:`navbar ${e?"scrolled":"not-scrolled"}`,children:p.jsxs("div",{className:"inner",children:[p.jsx("a",{className:"logo",href:"#hero",children:"Moiz | Jawad"}),p.jsx("nav",{className:"desktop",children:p.jsx("ul",{children:Ca.map(({link:r,name:i})=>p.jsx("li",{className:"group",children:p.jsxs("a",{href:r,children:[p.jsx("span",{children:i}),p.jsx("span",{className:"underline"})]})},i))})}),p.jsx("a",{href:"#contact",className:"contact-btn group",children:p.jsx("div",{className:"inner",children:p.jsx("span",{children:"Contact me"})})})]})})},mu=()=>p.jsxs(p.Fragment,{children:[p.jsx(gu,{}),p.jsx(du,{}),p.jsx(pu,{})]});ua.createRoot(document.getElementById("root")).render(p.jsx(B.StrictMode,{children:p.jsx(mu,{})}));
